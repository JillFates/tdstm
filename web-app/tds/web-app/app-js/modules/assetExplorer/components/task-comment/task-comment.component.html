<div class="task-comment-component">
	<kendo-grid
			*ngIf="dataGridTaskCommentOnHelper"
			class="task-comment-grid"
			[data]="dataGridTaskCommentOnHelper.gridData"
			[sort]="dataGridTaskCommentOnHelper.state.sort"
			[sortable]="{mode:'single'}"
			[resizable]="true"
			(sortChange)="dataGridTaskCommentOnHelper.sortChange($event)">

		<!-- Toolbar Template -->
		<ng-template kendoGridToolbarTemplate [position]="'top'">
			<label class="pad-top-7 pad-left-10">Tasks and Comments</label>

			<label class="form-check-label aligned-label" for="showAll">
				<input class="form-check-input aligned-checkbox " [(ngModel)]="showAll" id="showAll" name="showAll" type="checkbox">
				View All Tasks
			</label>

			<label class="form-check-label aligned-label" for="viewUnpublishedCheckboxId"  *ngIf="hasPublishPermission">
				<input class="form-check-input aligned-checkbox " [(ngModel)]="viewUnpublishedValue" id="viewUnpublishedCheckboxId" name="viewUnpublishedCheckboxId" type="checkbox">
				View Unpublished Tasks
			</label>

			<button (click)="createComment()" class="btn btn-default float-right mar-right-15 pad-top-6" type="button">
				<i class="fa fa-fw fa-plus-circle"></i> Add
			</button>
		</ng-template>

		<!-- Columns -->
		<kendo-grid-column *ngFor="let column of taskCommentColumnModel.columns"
						   field="{{column.property}}"
						   [headerClass]="column.headerClass ? column.headerClass : ''"
						   [headerStyle]="column.headerStyle ? column.headerStyle : ''"
						   [class]="column.cellClass ? column.cellClass : ''"
						   [style]="column.cellStyle ? column.cellStyle : ''"
						   [width]="!column.width ? COLUMN_MIN_WIDTH : column.width">

			<!-- Header Template -->
			<ng-template kendoGridHeaderTemplate>
				<label>{{column.label}}</label>
			</ng-template>

			<!-- Action -->
			<ng-template kendoGridCellTemplate *ngIf="column.type === 'action'" let-dataItem>
				<div class="k-grid-ignore-click action-button-list" style="cursor: default;">
					<button (click)="openComment(dataItem, modalType.EDIT)" class="btn btn-action btn-default" title="Edit">
						<span class="glyphicon glyphicon-pencil"></span>
					</button>
					<button (click)="onDeleteTaskComment(dataItem)" class="btn btn-action btn-default btn-delete" title="Delete">
						<span class="fa fa-fw fa-trash"></span>
					</button>
				</div>
			</ng-template>

			<ng-template kendoGridCellTemplate *ngIf="column.property === 'commentInstance.comment'" let-dataItem let-rowIndex="rowIndex">
				<label (click)="openComment(dataItem, modalType.VIEW)">{{dataItem.commentInstance.comment}}</label>
			</ng-template>

			<ng-template kendoGridCellTemplate *ngIf="column.property === 'assignedTo'" let-dataItem let-rowIndex="rowIndex">
				<label class="font-normal">{{getAssignedTo(dataItem)}}</label>
			</ng-template>

		</kendo-grid-column>
		<kendo-grid-messages noRecords="There are no Support Assets to display."> </kendo-grid-messages>
	</kendo-grid>
</div>