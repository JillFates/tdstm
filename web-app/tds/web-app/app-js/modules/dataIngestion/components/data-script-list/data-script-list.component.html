<!-- Main content -->
<div class="content body data-script-list-component">
	<section>
		<div>
			<div class="box-body box-with-empty-header">
				<kendo-grid
						[data]="gridData"
						[filter]="filter"
						[filterable]="true"
						(filterChange)="filterChange($event)"
						[pageSize]="10"
						[pageable]="{ pageSizes: true, info: true}"
						(cellClick)="cellClick($event)"
						[selectable]="true"
						[rowSelected]="isRowSelected">
					<ng-template kendoGridToolbarTemplate [position]="'top'">
						<button class="btn btn-default" id="btnCreateDataScript" type="button" (click)="onCreateDataScript()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> {{ 'DATA_INGESTION.CREATE_DATA_SCRIPT' | translate }}</button>
						<div (click)="reloadDataScripts()" class="kendo-grid-toolbar__refresh-btn"><span class="glyphicon glyphicon-refresh" aria-hidden="true"></span></div>
					</ng-template>
					<kendo-grid-column title="Action" [width]="48">
						<ng-template kendoGridHeaderTemplate>
							<label> Action </label>
						</ng-template>
						<ng-template kendoGridCellTemplate let-dataItem>
							<button class="btn btn-default" (click)="onEditDataScript(actionType.EDIT, dataItem)"><span class="glyphicon glyphicon-pencil"></span></button>
							<button class="btn btn-default" (click)="onDeleteDataScript(dataItem)"><span class="fa fa-fw fa-trash"></span></button>
						</ng-template>
					</kendo-grid-column>
					<kendo-grid-column *ngFor="let column of dataScriptColumnModel.columns" field="{{column.property}}" format="{{column.format}}" [width]="!column.width ? COLUMN_MIN_WIDTH : column.width">
						<ng-template kendoGridHeaderTemplate>
							<label> {{column.label}}</label>
						</ng-template>
						<ng-template kendoGridFilterCellTemplate>
							<div *ngIf="column.type === 'date'; then dateFilter else stringFilter"></div>

							<ng-template #dateFilter>
								<kendo-grid-date-filter-cell [column]="column" [showOperators]="false" [filter]="filter"></kendo-grid-date-filter-cell>
							</ng-template>
							<ng-template #stringFilter>
								<div class=" has-feedback" *ngIf="column.property" style="margin-bottom:0px;">
									<input type="text" (keyup)="onFilter(column)" class="form-control" name="{{column.property}}" [(ngModel)]="column.filter" placeholder="Filter {{column.label}}" value="">
									<span (click)="clearValue(column)" style="cursor:pointer;color:#656565;pointer-events:all" class="fa fa-times form-control-feedback" aria-hidden="true"></span>
								</div>
							</ng-template>
						</ng-template>
					</kendo-grid-column>
				</kendo-grid>
			</div>
			<!-- /.box-body -->
		</div>
	</section>
</div>