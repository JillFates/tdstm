<div class="dependencies-list-component">
	<kendo-grid
			class="dependencies"
			[data]="gridData"
			[sort]="state.sort"
			[filter]="state.filter"
			[filterable]="true"
			[skip]="state.skip"
			[pageSize]="state.take"
			[sortable]="{ allowUnsort: false, mode:'single'}"
			[resizable]="true"
			[pageable]="{ pageSizes: maxOptions, info: true}"
			(dataStateChange)="dataStateChange($event)"
			[selectable]="true">

		<!-- Header Toolbar -->
		<ng-template kendoGridToolbarTemplate [position]="'top'" class="header-section">
			<div class="col-sm-6 bulkchange-section">
				<tds-bulk-change-button #tdsBulkChangeButton
				                        [enabled]="hasSelectedItems()"
				                        [showDelete]="true"
				                        [showEdit]="false"
				                        [bulkChangeType]="bulkChangeType"
				                        (clickBulk)="onClickBulkButton()"
				                        (operationResult)="onBulkOperationResult($event)">
				</tds-bulk-change-button>

				<div *ngIf="hasSelectedItems()" class="bulk-change-counter">
					<span class="badge badge-light">{{getSelectedItemsCount()}}</span><label>Dependency(s) selected</label>
				</div>
			</div>
			<div class="col-sm-6 filters-section"></div>
		</ng-template>

		<!-- Select All column -->
		<kendo-grid-column [width]="45" [locked]="false" [filterable]="false">
			<ng-template kendoGridHeaderTemplate>
				<div class="row">
					<div class="col-md-12 text-center">
						<tds-checkbox name="assetsSelector"
						              [hasThirdState]="true"
						              (changeState)="onChangeBulkCheckbox($event)"
						              id="assetSelector"
						              [setStateSubject]="bulkCheckboxService.setStateSubject"></tds-checkbox>
					</div>
				</div>
			</ng-template>

			<ng-template kendoGridCellTemplate let-dataItem>
				<div class="check-row">
					<input type="checkbox" id="checkbox_{{dataItem.id}}"
					       [checked]="bulkCheckboxService.getValueBulkItem(dataItem.id)"
					       (change)="checkItem(dataItem.id, $event.target.checked)"
					       name="checkbox_{{dataItem.id}}">
				</div>
			</ng-template>
		</kendo-grid-column>

		<kendo-grid-column *ngFor="let column of dependenciesColumnModel.columns" field="{{column.property}}"
		                   format="{{column.format}}"
		                   [locked]="column.locked"
		                   [width]="!column.width ? COLUMN_MIN_WIDTH : column.width">
			<ng-template kendoGridHeaderTemplate>
				<!--(click)="onClickTemplate($event)"-->
				<div class="sortable-column">
					<label [ngClass]="{'action-header':column.type === 'action'}">{{column.label}}</label>
				</div>
			</ng-template>

			<ng-template kendoGridFilterCellTemplate let-filter let-column="column">
				<kendo-grid-string-filter-cell
						[showOperators]="false"
						[column]="column"
						[filter]="filter">
				</kendo-grid-string-filter-cell>
			</ng-template>

			<!-- Default Generic Filter Template -->
			<!--
			<ng-template kendoGridFilterCellTemplate *ngIf="column.property !== 'tagAssets'">
				<div class=" has-feedback" style="margin-bottom:0px;">
					--
					       (keyup)="onFilterKeyUp($event, column)"
					       (keydown)="onFilterKeyDown($event)" input-paste
					       (onPaste)="onPaste(column)"
					--
					<input type="text" class="form-control" name="{{column.domain}}.{{column.property}}" placeholder="Filter" value=""
					       [(ngModel)]="column.filter">
					--(click)="clearText(column)" --
					<span *ngIf="column.filter"
					      style="cursor:pointer;color:#656565;pointer-events:all"
					      class="fa fa-times form-control-feedback component-action-clear-filter"
					      aria-hidden="true"></span>
				</div>
			</ng-template>
			-->

		</kendo-grid-column>

		<!-- Pagination Footer -->
		<ng-template kendoPagerTemplate let-totalPages="totalPages" let-pageSize="pageSize" let-currentPage="currentPage">
			<kendo-pager-prev-buttons></kendo-pager-prev-buttons>
			<kendo-pager-next-buttons></kendo-pager-next-buttons>
			<kendo-pager-page-sizes [pageSizes]="maxOptions"></kendo-pager-page-sizes>
			<kendo-pager-info></kendo-pager-info>
		</ng-template>

	</kendo-grid>
</div>



