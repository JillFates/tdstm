{
	"info": {
		"_postman_id": "f4b5a8c3-0135-4360-86fe-15e84b512a9e",
		"name": "Bulk Change Automation",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Sign In",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "74807643-fbf8-4c6b-8f34-8103572093f1",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Body matches string\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"/tdstm/auth/signOut\");",
							"});",
							"",
							"pm.test(\"User Menu is displayed\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"Admin\");",
							"    pm.expect(pm.response.text()).to.include(\"Projects\");",
							"    pm.expect(pm.response.text()).to.include(\"Locations\");",
							"    pm.expect(pm.response.text()).to.include(\"Assets\");",
							"    pm.expect(pm.response.text()).to.include(\"Planning\");",
							"    pm.expect(pm.response.text()).to.include(\"Tasks\");",
							"    pm.expect(pm.response.text()).to.include(\"Dashboards\");",
							"    pm.expect(pm.response.text()).to.include(\"Reports\");",
							"    ",
							"});",
							"",
							""
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/x-www-form-urlencoded"
					},
					{
						"key": "Accept",
						"value": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "username",
							"value": "tdsadmin",
							"type": "text"
						},
						{
							"key": "password",
							"value": "zelda123!",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "{{host}}/tdstm/auth/signIn",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"auth",
						"signIn"
					]
				}
			},
			"response": []
		},
		{
			"name": "set current project",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "183aee72-a609-46b7-acb2-ce229a3f456a",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"",
							"pm.test(\"Project Details is present\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"Project Details\");",
							"});",
							"",
							"pm.test(\"Proj Name is present\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"Project Name\");",
							"});",
							"",
							"pm.test(\"Proj Description is present\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"Description\");",
							"});",
							"pm.test(\"Proj Client is present\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"Client\");",
							"});",
							"",
							"pm.test(\"Proj Code is present\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"Project Code:\");",
							"});",
							"",
							"",
							"pm.test(\"Proj Type is present\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"Project Type:\");",
							"});",
							"",
							"",
							"pm.test(\"Comment is present\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"Comment:\");",
							"});",
							"pm.test(\"Start Date is present\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"Start Date:\");",
							"});",
							"",
							"pm.test(\"Completion Date is present\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"Completion Date:\");",
							"});",
							"",
							"pm.test(\"Associated partner is present\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"Associated Partner(s):\");",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n  \"provider\": {\"id\":1},\n  \"name\":\"My first Credential (updated)\",\n  \"environment\":\"Developement\",\n  \"status\":\"ACTIVE\",\n  \"authenticationMethod\":\"BASIC_AUTH\",\n  \"username\":\"boogyman\",\n  \"password\":\"boo!\",\n  \"httpMethod\":\"POST\",\n  \"authenticationUrl\":\"bullshit\",\n  \"renewTokenUrl\":\"\",\n  \"expirationDate\":\"2012-04-23T18:25:43.511Z\",\n  \"version\": 1\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/project/addUserPreference/{{projectId}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"project",
						"addUserPreference",
						"{{projectId}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "create tag 1",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "4a76dd62-1796-4c58-a139-47f452632851",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"A new Tag with the expected values is created\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.status).to.eql('success');",
							"    ",
							"    var data = jsonData.data;",
							"   ",
							"    pm.expect(data.name).to.include(pm.variables.get(\"tagName\"));",
							"    pm.expect(data.description).to.include('Description');",
							"    pm.expect(data.color).to.eql('White');",
							"    pm.expect(data.css).to.eql('tag-white');",
							"    postman.setGlobalVariable(\"tag_id\", data.id);",
							"});",
							""
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n  \"name\":\"{{tagName}}{{$randomInt}}\",\n  \"description\":\"Description{{$randomInt}}\",\n  \"color\":\"White\"\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/tag",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"tag"
					]
				}
			},
			"response": []
		},
		{
			"name": "create another tag 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "5f064451-7b2d-4ad3-8ca1-6c5ceac77486",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"A new Tag with the expected values is created\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.status).to.eql('success');",
							"    ",
							"    var data = jsonData.data;",
							"   ",
							"    pm.expect(data.name).to.include(pm.variables.get(\"tagName1\"));",
							"    pm.expect(data.description).to.include('Description');",
							"    pm.expect(data.color).to.eql('Red');",
							"    pm.expect(data.css).to.eql('tag-red');",
							"    postman.setGlobalVariable(\"tag_id2\", data.id);",
							"});",
							""
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n  \"name\":\"{{tagName1}}{{$randomInt}}\",\n  \"description\":\"Description{{$randomInt}}\",\n  \"color\":\"Red\"\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/tag",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"tag"
					]
				}
			},
			"response": []
		},
		{
			"name": "create another tag 3",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "19d06665-a336-4983-9f96-d7a6b335354f",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"A new Tag with the expected values is created\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.status).to.eql('success');",
							"    ",
							"    var data = jsonData.data;",
							"   ",
							"    pm.expect(data.name).to.include(pm.variables.get(\"tagName1\"));",
							"    pm.expect(data.description).to.include('Description');",
							"    pm.expect(data.color).to.eql('Blue');",
							"    pm.expect(data.css).to.eql('tag-blue');",
							"    postman.setGlobalVariable(\"tag_id3\", data.id);",
							"});",
							""
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n  \"name\":\"{{tagName2}}{{$randomInt}}\",\n  \"description\":\"Description{{$randomInt}}\",\n  \"color\":\"Blue\"\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/tag",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"tag"
					]
				}
			},
			"response": []
		},
		{
			"name": "list tags after creating 3 tags",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d8f0e729-fcfa-4a8b-b6b3-5b941f44ec63",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Success\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"success\");",
							"});",
							"",
							"pm.test(\"The new tags show up in the list and their data matches\", function () {",
							"    var jsonData = pm.response.json();",
							"    var lastIndex=jsonData.data.length-1;",
							"    var secondTolastIndex=jsonData.data.length-2;",
							"    var thirdTolastIndex=jsonData.data.length-3;",
							"    ",
							"    pm.expect(jsonData.data[thirdTolastIndex].name).to.include(pm.variables.get(\"tagName\"));",
							"    pm.expect(jsonData.data[thirdTolastIndex].description).to.include('Description');",
							"    pm.expect(jsonData.data[thirdTolastIndex].color).to.eql('White');",
							"    pm.expect(jsonData.data[thirdTolastIndex].css).to.eql('tag-white');",
							"    ",
							"    pm.expect(jsonData.data[secondTolastIndex].name).to.include(pm.variables.get(\"tagName1\"));",
							"    pm.expect(jsonData.data[secondTolastIndex].description).to.include('Description');",
							"    pm.expect(jsonData.data[secondTolastIndex].color).to.eql('Red');",
							"    pm.expect(jsonData.data[secondTolastIndex].css).to.eql('tag-red');",
							"    ",
							"    ",
							"    pm.expect(jsonData.data[lastIndex].name).to.include(pm.variables.get(\"tagName2\"));",
							"    pm.expect(jsonData.data[lastIndex].description).to.include('Description');",
							"    pm.expect(jsonData.data[lastIndex].color).to.eql('Blue');",
							"    pm.expect(jsonData.data[lastIndex].css).to.eql('tag-blue');",
							"});",
							""
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n  \"provider\": {\"id\":1},\n  \"name\":\"My first Credential (updated)\",\n  \"environment\":\"Developement\",\n  \"status\":\"ACTIVE\",\n  \"authenticationMethod\":\"BASIC_AUTH\",\n  \"username\":\"boogyman\",\n  \"password\":\"boo!\",\n  \"httpMethod\":\"POST\",\n  \"authenticationUrl\":\"bullshit\",\n  \"renewTokenUrl\":\"\",\n  \"expirationDate\":\"2012-04-23T18:25:43.511Z\",\n  \"version\": 1\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/tag",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"tag"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Assets",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d8e9bde3-db54-4ee3-b964-62884e41242b",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"",
							"pm.test(\"Set the 2 assetIDs for later\", function () {",
							"    var jsonObject = JSON.parse(responseBody);",
							"    var firstID = jsonObject.rows[0].id; ",
							"    var secondID = jsonObject.rows[1].id; ",
							"    postman.setGlobalVariable(\"asset1\", firstID);",
							"    postman.setGlobalVariable(\"asset2\", secondID);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/tdstm/assetEntity/listJson?filter=all&event=&type=&plannedStatus=&assetName=&planStatus=&moveBundle=&assetType=&model=&sourceLocationName=&sourceRackName=&targetLocationName=&targetRackName=&assetTag=&serialNumber=&moveBundleId=&manufacturer=&unassigned=&rows=100&page=1",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"assetEntity",
						"listJson"
					],
					"query": [
						{
							"key": "filter",
							"value": "all"
						},
						{
							"key": "event",
							"value": ""
						},
						{
							"key": "type",
							"value": ""
						},
						{
							"key": "plannedStatus",
							"value": ""
						},
						{
							"key": "assetName",
							"value": ""
						},
						{
							"key": "planStatus",
							"value": ""
						},
						{
							"key": "moveBundle",
							"value": ""
						},
						{
							"key": "assetType",
							"value": ""
						},
						{
							"key": "model",
							"value": ""
						},
						{
							"key": "sourceLocationName",
							"value": ""
						},
						{
							"key": "sourceRackName",
							"value": ""
						},
						{
							"key": "targetLocationName",
							"value": ""
						},
						{
							"key": "targetRackName",
							"value": ""
						},
						{
							"key": "assetTag",
							"value": ""
						},
						{
							"key": "serialNumber",
							"value": ""
						},
						{
							"key": "moveBundleId",
							"value": ""
						},
						{
							"key": "manufacturer",
							"value": ""
						},
						{
							"key": "unassigned",
							"value": ""
						},
						{
							"key": "rows",
							"value": "100"
						},
						{
							"key": "page",
							"value": "1"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Bulk change actions",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "8fcb6439-53a7-478c-8a1e-d44a6492b7ed",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Tag Function List\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.status).to.eql('success');",
							"    pm.expect(jsonData.data).to.eql({",
							"        \"tagAssets\": {",
							"            \"add\": \"bulkAdd\",",
							"            \"clear\": \"bulkClear\",",
							"            \"replace\": \"bulkReplace\",",
							"            \"remove\": \"bulkRemove\"",
							"        }",
							"    });",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/bulkChange/actions",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"bulkChange",
						"actions"
					]
				}
			},
			"response": []
		},
		{
			"name": "Bulk change fields",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "eb7f4202-b02e-47c0-9015-16c8e59150f9",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Tags Data\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.status).to.eql('success');",
							"    pm.expect(jsonData.data[0]).to.eql('tagAssets');",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/bulkChange/fields",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"bulkChange",
						"fields"
					]
				}
			},
			"response": []
		},
		{
			"name": "Bulk change add",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "01952bfd-2954-448a-88ef-49d38483be78",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Bulk Change 2 tags with 2 assets\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.status).to.eql('success');",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n\t\"userParams\": {\n\t\t\"sortDomain\"  : \"device\",\n\t\t\"sortProperty\": \"id\",\n\t\t\"filters\"     : {\"domains\": [\"device\"]}\n\t},\n\t\"dataViewId\": 1,\n\t\"assetIds\": [{{asset1}}, {{asset2}}],\n\t\"edits\":[\n\t\t{\n\t\t\t\"fieldName\": \"tagAssets\", \n\t\t\t\"action\"   : \"add\", \n\t\t\t\"value\"    : \"[{{tag_id}}, {{tag_id2}} , {{tag_id3}}]\"}\t\n\t]\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/bulkChange",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"bulkChange"
					]
				}
			},
			"response": []
		},
		{
			"name": "Check the created tags for 1 asset",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "30b3b24f-2a9f-4ba2-9178-918e6257e015",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"The new tags show up as part of the asset\", function () {",
							"    var jsonData = pm.response.json();",
							"    var lastIndex=jsonData.data.length-1;",
							"    var secondTolastIndex=jsonData.data.length-2;",
							"    var thirdTolastIndex=jsonData.data.length-3;",
							"    ",
							"    var lastItem = ((jsonData.data[lastIndex].tagId).toString());",
							"    var secondtoLastItem = ((jsonData.data[secondTolastIndex].tagId).toString());",
							"    var thirdTolastItem = ((jsonData.data[thirdTolastIndex].tagId).toString());",
							"    ",
							"    pm.expect(lastItem).to.eql(pm.variables.get(\"tag_id3\"));",
							"    pm.expect(secondtoLastItem).to.eql(pm.globals.get(\"tag_id2\"));",
							"    pm.expect(thirdTolastItem).to.eql(pm.variables.get(\"tag_id\"));",
							"});",
							"",
							""
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n  \"provider\": {\"id\":1},\n  \"name\":\"My first Credential (updated)\",\n  \"environment\":\"Developement\",\n  \"status\":\"ACTIVE\",\n  \"authenticationMethod\":\"BASIC_AUTH\",\n  \"username\":\"boogyman\",\n  \"password\":\"boo!\",\n  \"httpMethod\":\"POST\",\n  \"authenticationUrl\":\"bullshit\",\n  \"renewTokenUrl\":\"\",\n  \"expirationDate\":\"2012-04-23T18:25:43.511Z\",\n  \"version\": 1\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/tag/asset/{{asset1}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"tag",
						"asset",
						"{{asset1}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Bulk change remove",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a730ea6f-3239-4a36-b3ec-671d8b22f41a",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Success\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.status).to.eql('success');",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n\t\"userParams\": {\n\t\t\"sortDomain\"  : \"device\",\n\t\t\"sortProperty\": \"id\",\n\t\t\"filters\"     : {\"domains\": [\"device\"]}\n\t},\n\t\"dataViewId\": 1,\n\t\"assetIds\": [{{asset1}}],\n\t\"edits\":[\n\t\t{\n\t\t\t\"fieldName\": \"tagAssets\", \n\t\t\t\"action\"   : \"remove\", \n\t\t\t\"value\"    : \"[{{tag_id3}}]\"}\t\n\t]\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/bulkChange",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"bulkChange"
					]
				}
			},
			"response": []
		},
		{
			"name": "List Tags for Asset 1 after Remove",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "83b5fc95-5858-4d54-802c-c2e8f293b3a4",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Only one of the tags is part of the Asset\", function () {",
							"    var jsonData = pm.response.json();",
							"    var lastIndex=jsonData.data.length-1;",
							"    var secondTolastIndex=jsonData.data.length-2;",
							"    var secondtoLastItem = ((jsonData.data[secondTolastIndex].tagId).toString());",
							"    var lastItem = ((jsonData.data[lastIndex].tagId).toString());",
							"    ",
							"    pm.expect(lastItem).to.not.include(pm.globals.get(\"tag_id3\"));",
							"    pm.expect(secondtoLastItem).to.eql(pm.variables.get(\"tag_id\"));",
							"});",
							"",
							""
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n  \"provider\": {\"id\":1},\n  \"name\":\"My first Credential (updated)\",\n  \"environment\":\"Developement\",\n  \"status\":\"ACTIVE\",\n  \"authenticationMethod\":\"BASIC_AUTH\",\n  \"username\":\"boogyman\",\n  \"password\":\"boo!\",\n  \"httpMethod\":\"POST\",\n  \"authenticationUrl\":\"bullshit\",\n  \"renewTokenUrl\":\"\",\n  \"expirationDate\":\"2012-04-23T18:25:43.511Z\",\n  \"version\": 1\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/tag/asset/{{asset1}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"tag",
						"asset",
						"{{asset1}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "List Tags for Asset 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "9752cc3c-95d1-44ee-a42a-964e52bf97f8",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"The tags keep showing up as part of the asset\", function () {",
							"    var jsonData = pm.response.json();",
							"    var lastIndex=jsonData.data.length-1;",
							"    var secondTolastIndex=jsonData.data.length-2;",
							"    var thirdTolastIndex=jsonData.data.length-3;",
							"    ",
							"    var lastItem = ((jsonData.data[lastIndex].tagId).toString());",
							"    var secondtoLastItem = ((jsonData.data[secondTolastIndex].tagId).toString());",
							"    var thirdTolastItem = ((jsonData.data[thirdTolastIndex].tagId).toString());",
							"    ",
							"    pm.expect(lastItem).to.eql(pm.variables.get(\"tag_id3\"));",
							"    pm.expect(secondtoLastItem).to.eql(pm.globals.get(\"tag_id2\"));",
							"    pm.expect(thirdTolastItem).to.eql(pm.variables.get(\"tag_id\"));",
							"});",
							"",
							""
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n  \"provider\": {\"id\":1},\n  \"name\":\"My first Credential (updated)\",\n  \"environment\":\"Developement\",\n  \"status\":\"ACTIVE\",\n  \"authenticationMethod\":\"BASIC_AUTH\",\n  \"username\":\"boogyman\",\n  \"password\":\"boo!\",\n  \"httpMethod\":\"POST\",\n  \"authenticationUrl\":\"bullshit\",\n  \"renewTokenUrl\":\"\",\n  \"expirationDate\":\"2012-04-23T18:25:43.511Z\",\n  \"version\": 1\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/tag/asset/{{asset2}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"tag",
						"asset",
						"{{asset2}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Bulk change replace",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "6e8cd98b-1e06-494b-b1bc-464319d6237e",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Success and no data returned.\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.status).to.eql('success');",
							"    ",
							"    var data = jsonData.data;",
							"    pm.expect(data).to.eql({});",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n\t\"userParams\": {\n\t\t\"sortDomain\"  : \"device\",\n\t\t\"sortProperty\": \"id\",\n\t\t\"filters\"     : {\"domains\": [\"device\"]}\n\t},\n\t\"dataViewId\": 1,\n\t\"assetIds\": [{{asset1}}],\n\t\"edits\":[\n\t\t{\n\t\t\t\"fieldName\": \"tagAssets\", \n\t\t\t\"action\"   : \"replace\", \n\t\t\t\"value\"    : \"[{{tag_id3}}, {{tag_id2}}]\"}\t\n\t]\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/bulkChange",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"bulkChange"
					]
				}
			},
			"response": []
		},
		{
			"name": "List Tags of Asset1 after bulk replace",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "aaf31bfd-41ac-4537-a73b-e5ca86984cba",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Success\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.status).to.eql('success');",
							"});",
							"",
							"pm.test(\"The last tag is put into the Asset again\", function () {",
							"    var jsonData = pm.response.json();",
							"    var lastIndex=jsonData.data.length-1;",
							"    var secondTolastIndex=jsonData.data.length-2;",
							"    var secondtoLastItem = ((jsonData.data[secondTolastIndex].tagId).toString());",
							"    var lastItem = ((jsonData.data[lastIndex].tagId).toString());",
							"    ",
							"    pm.expect(lastItem).to.eql(pm.globals.get(\"tag_id3\"));",
							"    pm.expect(secondtoLastItem).to.eql(pm.variables.get(\"tag_id2\"));",
							"});",
							""
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n  \"provider\": {\"id\":1},\n  \"name\":\"My first Credential (updated)\",\n  \"environment\":\"Developement\",\n  \"status\":\"ACTIVE\",\n  \"authenticationMethod\":\"BASIC_AUTH\",\n  \"username\":\"boogyman\",\n  \"password\":\"boo!\",\n  \"httpMethod\":\"POST\",\n  \"authenticationUrl\":\"bullshit\",\n  \"renewTokenUrl\":\"\",\n  \"expirationDate\":\"2012-04-23T18:25:43.511Z\",\n  \"version\": 1\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/tag/asset/{{asset1}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"tag",
						"asset",
						"{{asset1}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "List Tags of Asset2",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "139b1ef5-6a6d-44d0-acf7-8d6efdd0ca80",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"The tags keep showing up as part of the asset\", function () {",
							"    var jsonData = pm.response.json();",
							"    var lastIndex=jsonData.data.length-1;",
							"    var secondTolastIndex=jsonData.data.length-2;",
							"    var thirdTolastIndex=jsonData.data.length-3;",
							"    ",
							"    var lastItem = ((jsonData.data[lastIndex].tagId).toString());",
							"    var secondtoLastItem = ((jsonData.data[secondTolastIndex].tagId).toString());",
							"    var thirdTolastItem = ((jsonData.data[thirdTolastIndex].tagId).toString());",
							"    ",
							"    pm.expect(lastItem).to.eql(pm.variables.get(\"tag_id3\"));",
							"    pm.expect(secondtoLastItem).to.eql(pm.globals.get(\"tag_id2\"));",
							"    pm.expect(thirdTolastItem).to.eql(pm.variables.get(\"tag_id\"));",
							"});",
							""
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n  \"provider\": {\"id\":1},\n  \"name\":\"My first Credential (updated)\",\n  \"environment\":\"Developement\",\n  \"status\":\"ACTIVE\",\n  \"authenticationMethod\":\"BASIC_AUTH\",\n  \"username\":\"boogyman\",\n  \"password\":\"boo!\",\n  \"httpMethod\":\"POST\",\n  \"authenticationUrl\":\"bullshit\",\n  \"renewTokenUrl\":\"\",\n  \"expirationDate\":\"2012-04-23T18:25:43.511Z\",\n  \"version\": 1\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/tag/asset/{{asset2}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"tag",
						"asset",
						"{{asset2}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Bulk change clear",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "8a51cbdc-3db1-42e0-b68a-0fb1d04a7463",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Success and no data returned.\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.status).to.eql('success');",
							"    ",
							"    var data = jsonData.data;",
							"    pm.expect(data).to.eql({});",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n\t\"userParams\": {\n\t\t\"sortDomain\"  : \"device\",\n\t\t\"sortProperty\": \"id\",\n\t\t\"filters\"     : {\"domains\": [\"device\"]}\n\t},\n\t\"dataViewId\": 1,\n\t\"assetIds\": [{{asset1}}],\n\t\"edits\":[\n\t\t{\n\t\t\t\"fieldName\": \"tagAssets\", \n\t\t\t\"action\"   : \"clear\", \n\t\t\t\"value\"    : \"[]\"}\t\n\t]\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/bulkChange",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"bulkChange"
					]
				}
			},
			"response": []
		},
		{
			"name": "List Tags of Asset 1 after Bulk Clear",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "048df16d-1249-4fad-a07d-e0d0ecf095f1",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Success and no data returned.\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.status).to.eql('success');",
							"    ",
							"    var data = jsonData.data;",
							"    pm.expect(data).to.eql([]);",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n  \"provider\": {\"id\":1},\n  \"name\":\"My first Credential (updated)\",\n  \"environment\":\"Developement\",\n  \"status\":\"ACTIVE\",\n  \"authenticationMethod\":\"BASIC_AUTH\",\n  \"username\":\"boogyman\",\n  \"password\":\"boo!\",\n  \"httpMethod\":\"POST\",\n  \"authenticationUrl\":\"bullshit\",\n  \"renewTokenUrl\":\"\",\n  \"expirationDate\":\"2012-04-23T18:25:43.511Z\",\n  \"version\": 1\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/tag/asset/{{asset1}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"tag",
						"asset",
						"{{asset1}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "List Tags of Asset2",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "18bddc49-b427-40bd-b49a-e817d717f9ce",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"The tags keep showing up as part of the asset\", function () {",
							"    var jsonData = pm.response.json();",
							"    var lastIndex=jsonData.data.length-1;",
							"    var secondTolastIndex=jsonData.data.length-2;",
							"    var thirdTolastIndex=jsonData.data.length-3;",
							"    ",
							"    var lastItem = ((jsonData.data[lastIndex].tagId).toString());",
							"    var secondtoLastItem = ((jsonData.data[secondTolastIndex].tagId).toString());",
							"    var thirdTolastItem = ((jsonData.data[thirdTolastIndex].tagId).toString());",
							"    ",
							"    pm.expect(lastItem).to.eql(pm.variables.get(\"tag_id3\"));",
							"    pm.expect(secondtoLastItem).to.eql(pm.globals.get(\"tag_id2\"));",
							"    pm.expect(thirdTolastItem).to.eql(pm.variables.get(\"tag_id\"));",
							"});",
							"",
							""
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \n  \"provider\": {\"id\":1},\n  \"name\":\"My first Credential (updated)\",\n  \"environment\":\"Developement\",\n  \"status\":\"ACTIVE\",\n  \"authenticationMethod\":\"BASIC_AUTH\",\n  \"username\":\"boogyman\",\n  \"password\":\"boo!\",\n  \"httpMethod\":\"POST\",\n  \"authenticationUrl\":\"bullshit\",\n  \"renewTokenUrl\":\"\",\n  \"expirationDate\":\"2012-04-23T18:25:43.511Z\",\n  \"version\": 1\n}"
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/tag/asset/{{asset2}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"tag",
						"asset",
						"{{asset2}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete Tag",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "82394f8b-aafa-4ce5-ba0a-a2d3b5d60d12",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Success no data returned.\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.status).to.eql('success');",
							"    ",
							"    var data = jsonData.data;",
							"    pm.expect(data).to.eql({});",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"disabled": true
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/tag/{{tag_id}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"tag",
						"{{tag_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete Tag 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "9cdfe132-4abd-416e-b025-7516c06c2983",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Success no data returned.\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.status).to.eql('success');",
							"    ",
							"    var data = jsonData.data;",
							"    pm.expect(data).to.eql({});",
							"});"
						]
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"disabled": true
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/tag/{{tag_id2}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"tag",
						"{{tag_id2}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete Tag 3",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "91f38c89-ba2b-4937-8d12-7a3641917374",
						"type": "text/javascript",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Success no data returned.\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.status).to.eql('success');",
							"    ",
							"    var data = jsonData.data;",
							"    pm.expect(data).to.eql({});",
							"});",
							"",
							"//variable cleanup code",
							"pm.globals.unset(\"tag_id\");",
							"pm.globals.unset(\"tag_id2\");",
							"pm.globals.unset(\"tag_id3\");",
							"pm.globals.unset(\"asset1\");",
							"pm.globals.unset(\"asset2\");"
						]
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"disabled": true
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{host}}/tdstm/ws/tag/{{tag_id3}}",
					"host": [
						"{{host}}"
					],
					"path": [
						"tdstm",
						"ws",
						"tag",
						"{{tag_id3}}"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "6a008a9d-a85a-4ad5-be54-65a07d062084",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "164f05bb-7e95-45b4-a34a-9a91a4b7fb8d",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "88b86fbc-2b16-49f2-98be-73b90d80a5a2",
			"key": "projectId",
			"value": "2445",
			"type": "string"
		},
		{
			"id": "67389f71-2810-49b4-a7e2-05686955c98f",
			"key": "tagName1",
			"value": "anotherTestingTag",
			"type": "string"
		},
		{
			"id": "3c733afa-64c8-4608-8289-8ea8e3dabcd5",
			"key": "tagName",
			"value": "testingTag",
			"type": "string"
		},
		{
			"id": "accff221-ce12-475c-b74a-e18a745956e1",
			"key": "tagName2",
			"value": "anotherTestingTag1",
			"type": "string"
		}
	]
}