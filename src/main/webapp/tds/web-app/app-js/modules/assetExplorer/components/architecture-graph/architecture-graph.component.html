<div class="graphContainer">
	<div id="toolsContainerId">
		<div id="graphToolbarId">
			<tds-button (click)="toggleControlPanel()">Control Panel</tds-button>
			<tds-button>Legend</tds-button>
			<tds-button (click)="goFullScreen()">Fullscreen</tds-button>
		</div>
	</div>
	<div class="graph-control-panel graphPanel" id="controlPanelId" *ngIf="showControlPanel">
		<p>Select an Asset</p>
		<kendo-combobox #innerComboBox
						[data]="datasource"
						[(ngModel)]="assetItem"
						[textField]="'text'"
						[valueField]="'id'"
						[placeholder]="'Please Select'"
						[filterable]="true"
						[title]="'title empty'"
						(valueChange)="onAssetSelected($event)"
						(selectionChange)="onSelectionChange($event)"
						(filterChange)="onFilterChange($event)"
						(open)="onOpen()"
						[suggest]="true"
						name="assetSelectionDropdown"
						style="width: 100%;">
			<ng-template kendoComboBoxItemTemplate let-dataItem>
				<span [innerHTML]="comboBoxInnerSearch(dataItem)"></span>
			</ng-template>
			<ng-template kendoComboBoxFooterTemplate>
				<span #dropdownFooter></span>
			</ng-template>
		</kendo-combobox>

		<p>Filter: All classes</p>
		<kendo-dropdownlist
			[defaultItem]="'All Classes'"
			[data]="dataForSelect"
			[textField]="'value'"
			[valueField]="'id'"
		>
		</kendo-dropdownlist>
		<div class="tiers-above">
			<tds-button icon="minus-circle" (click)="extractLevelsUp()"></tds-button>
			<label>{{levelsUp}}</label>
			<tds-button icon="plus-circle" (click)="addLevelsUp()"></tds-button>
			<label>Tiers Above</label>
		</div>
		<div class="tiers-below">
			<tds-button icon="minus-circle" (click)="extractLevelsDown()"></tds-button>
			<label>{{levelsDown}}</label>
			<tds-button icon="plus-circle" (click)="addLevelsDown()"></tds-button>
			<label>Tiers Below</label>
		</div>
		<div class="graph-checkbox">
			<input type="checkbox" class="k-checkbox" [checked]="showCycles" (change)="toggleShowCycles()">
			<label class="k-checkbox-label" for="auth-2fa">Show Cyclical References</label>
		</div>
<!--		<div class="graph-checkbox">-->
<!--			<input type="checkbox" class="k-checkbox" checked="checked">-->
<!--			<label class="k-checkbox-label" for="auth-2fa">Black Background</label>-->
<!--		</div>-->
		<div class="labels">
			<label>Show Labels: </label> <tds-button icon="{{showLabels ? 'minus' : 'plus'}}" title="{{showLabels ? 'Show Labels' : 'Hide Labels'}}" (click)="toggleShowLabels()"></tds-button>
			<div class="label-items" *ngIf="showLabels">
<!--				Add all options here via ng for and add icon-->
				<div class="graph-checkbox" *ngFor="let label of graphLabels">
					<input type="checkbox" class="k-checkbox" name="{{label.value}}" [checked]="label.checked">
					<label class="k-checkbox-label" for="{{label.value}}">
<!--						<svg id="{{label.icon}}ShapeLeftPanel">-->
<!--							<use [attr.xlink:href]="'#'+ label.icon + 'ShapeId'" class="node" x="15" y="15" style="fill: #1f77b4;">-->
<!--							</use>-->
<!--						</svg>-->
						{{label.label}}
					</label>
				</div>
			</div>
		</div>
		<div class="graph-spacing">
			<tds-button icon="shrink" title="Zoom Out" (click)="zoomGraphOut()"></tds-button>
			<tds-button icon="resize-up" title="Zoom In" (click)="zoomGraphIn()"></tds-button>
			<label>Spacing</label>
		</div>
		<div class="graph-commands">
			<div class="graph-command">
				<tds-button>Regenerate Graph</tds-button>
			</div>
			<div class="graph-command">
				<tds-button>Save Preferences</tds-button>
			</div>
			<div class="graph-command">
				<tds-button>Reset Defaults</tds-button>
			</div>
		</div>
	</div>

	<div class="container architecture-graph-container">
		<tds-lib-diagram-layout
			[data]="data$ | async"
			[layout]="diagramLayout$ | async"
			[contextMenuOptions]="ctxOpts"
			[hideExpand]="true"
            #graph
		></tds-lib-diagram-layout>
	</div>
</div>
