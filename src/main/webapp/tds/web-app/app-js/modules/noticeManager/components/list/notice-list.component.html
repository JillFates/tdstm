<tds-grid [gridModel]="gridModel" (cellClick)="cellClick($event)"></tds-grid>

<!-- Main content -->
<!-- <div class="content body tds-kendo-grid notice-list-component">
	<section>
		<div *ngIf="noticeColumnModel">
			<div class="box-body box-with-empty-header">
				<kendo-grid
					*ngIf="gridSettings"
					[data]="gridSettings.gridData"
					[filter]="gridSettings.state.filter"
					[filterable]="true"
					(filterChange)="gridSettings.filterChange($event)"
					[sort]="gridSettings.state.sort"
					[sortable]="{ mode: 'single' }"
					[pageSize]="gridSettings.state.take"
					[skip]="gridSettings.state.skip"
					[pageable]="{
						pageSizes: gridSettings.defaultPageOptions,
						info: true
					}"
					(pageChange)="gridSettings.pageChange($event)"
					[resizable]="true"
					(sortChange)="gridSettings.sortChange($event)"
					(cellClick)="cellClick($event)"
					[selectable]="true"
					[ngClass]="{ 'hide-filter': !showFilters }"
					class="page-height row-actions-2-children"
				>
					<ng-template kendoGridToolbarTemplate [position]="'top'">
						<div class="clr-row">
							<div class="clr-col-4 grid-label">
							</div>
							<div class="clr-col-8 grid-actions">
								<tds-button
									icon="sync"
									(click)="reloadNotices()"
								></tds-button>
								<tds-button
									icon="plus"
									[disabled]="!isCreateAvailable()"
									title="{{
										'NOTICE.CREATE_NOTICE' | translate
									}}"
									(click)="onCreateNotice()"
								></tds-button>
							</div>
						</div>
					</ng-template>

					<kendo-grid-column
						[width]="60"
						[class]="{ 'k-custom-command-column': true }"
						[minResizableWidth]="60"
					>
						<ng-template
							kendoGridHeaderTemplate
							let-column
							let-columnIndex="columnIndex"
						>
							<tds-button [flat]="true" (click)="toggleFilter()">
								<clr-icon
									shape="filter"
									class="grid-filter-button is-solid"
								>
									<span
										*ngIf="hasFilterApplied()"
										class="badge badge-warning"
									>
										{{ filterCount() }}
									</span>
								</clr-icon>
							</tds-button>
						</ng-template>
						<ng-template
							kendoGridCellTemplate
							let-dataItem
							let-rowIndex="rowIndex"
						>
							<div class="action-button btn-link">
								<clr-dropdown>
									<tds-button
										icon="ellipsis-vertical"
										clrDropdownTrigger
									></tds-button>
									<clr-dropdown-menu
										*clrIfOpen
										clrPosition="bottom-left"
									>
										<a
											clrDropdownItem
											(click)="
												openNotice(
													dataItem,
													actionType.Edit
												)
											"
											[disabled]="!isEditAvailable()"
										>
											Edit
										</a>
										<a
											clrDropdownItem
											(click)="onDelete(dataItem)"
										>
											Delete
										</a>
									</clr-dropdown-menu>
								</clr-dropdown>
							</div>
						</ng-template>
					</kendo-grid-column>

					<kendo-grid-column
						*ngFor="let column of noticeColumnModel.columns"
						field="{{ column.property }}"
						format="{{ column.format }}"
						[locked]="column.locked"
						[width]="
							!column.width ? COLUMN_MIN_WIDTH : column.width
						"
					>
						<ng-template kendoGridHeaderTemplate>
							<div
								class="sortable-column"
								(click)="onClickTemplate($event)"
							>
								<label
									[ngClass]="{
										'action-header':
											column.type === 'action'
									}"
								>
									{{ column.label }}</label
								>
							</div>
						</ng-template>
						<ng-template kendoGridFilterCellTemplate let-filter>
							<div
								class="has-feedback"
								*ngIf="
									column.property && column.type !== 'action'
								"
								style="margin-bottom:0px;"
							>
								<div
									*ngIf="column.type === 'date'"
									class="filter-input"
								>
									<kendo-datepicker
										[format]="dateFormat"
										[(ngModel)]="column.filter"
										(valueChange)="
											gridSettings.onFilter(column)
										"
									></kendo-datepicker>
									<tds-button
										*ngIf="column.filter"
										(click)="
											gridSettings.clearFilter(column)
										"
										[title]="'Clear Filter'"
										icon="times-circle"
										[small]="true"
										[flat]="true"
									>
									</tds-button>
								</div>

								<div
									*ngIf="
										(column.type === 'text' ||
											column.type === 'number') &&
										column.property !== 'typeId' &&
										column.property !== 'active'
									"
								>
									<div class="filter-input">
										<input
											clrInput
											type="text"
											(keyup)="
												gridSettings.onFilter(column)
											"
											name="{{ column.property }}"
											[(ngModel)]="column.filter"
											placeholder="Filter {{
												column.label
											}}"
											value=""
										/>
										<tds-button
											*ngIf="column.filter"
											(click)="
												gridSettings.clearValue(column)
											"
											[title]="'Clear Filter'"
											icon="times-circle"
											[small]="true"
											[flat]="true"
										>
										</tds-button>
									</div>
								</div>
								<div
									*ngIf="column.type === 'boolean'"
									class="filter-input"
								>
									<kendo-dropdownlist
										[data]="yesNoList"
										[textField]="'name'"
										[valueField]="'value'"
										[valuePrimitive]="true"
										[(ngModel)]="column.filter"
										[defaultItem]="defaultYesNoList"
										(valueChange)="
											gridSettings.onFilter(column)
										"
									>
									</kendo-dropdownlist>
									<tds-button
										*ngIf="column.filter"
										(click)="resetBooleanFilter(column)"
										[title]="'Clear Filter'"
										icon="times-circle"
										[small]="true"
										[flat]="true"
									>
									</tds-button>
								</div>
								<div
									*ngIf="column.property === 'typeId'"
									class="filter-input"
								>
									<kendo-dropdownlist
										[data]="noticeTypes"
										[textField]="'name'"
										[valueField]="'typeId'"
										[valuePrimitive]="true"
										[(ngModel)]="column.filter"
										[defaultItem]="defaultNoticeType"
										(valueChange)="
											gridSettings.onFilter(column)
										"
									>
									</kendo-dropdownlist>
									<tds-button
										*ngIf="column.filter"
										(click)="resetBooleanFilter(column)"
										[title]="'Clear Filter'"
										icon="times-circle"
										[small]="true"
										[flat]="true"
									>
									</tds-button>
								</div>
							</div>
						</ng-template>
						<ng-template
							kendoGridCellTemplate
							*ngIf="column.property === 'typeId'"
							let-dataItem
						>
							{{ noticesTypeDescriptions[dataItem.typeId] }}
						</ng-template>
						<ng-template
							kendoGridCellTemplate
							*ngIf="column.type === 'boolean'"
							let-dataItem
						>
							<div>
								{{
									dataItem[column.property] === true
										? 'Yes'
										: 'No'
								}}
							</div>
						</ng-template>
					</kendo-grid-column>
					<ng-template
						kendoPagerTemplate
						let-total="total"
						let-totalPages="totalPages"
						let-currentPage="currentPage"
					>
						<div class="clr-col-12">
							<tds-grid-pager
								[total]="total"
								[totalPages]="totalPages"
								[currentPage]="currentPage"
								[pageSizes]="gridSettings.defaultPageOptions"
								(pageChange)="gridSettings.pageChange($event)"
							>
							</tds-grid-pager>
						</div>
					</ng-template>
				</kendo-grid>
			</div>
		</div>
	</section>
</div> -->
