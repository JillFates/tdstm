<div class="asset-explorer-view-show-component content body">
    <section class="page-asset-explorer-config" *ngIf="getDynamicConfiguration(); let config">
        <div>
            <div class="btn-group">
                <tds-button-save
                        [title]="config.canSaveAs && !config.canSave? translateService.transform('GLOBAL.SAVE_AS') : translateService.transform('GLOBAL.SAVE')"
                        (click)="save(config.saveButtonId)"
                        [ngClass]="{'btn-default':!config.isDirty,'btn-success':config.isDirty}"
                        [disabled] = "config.disableSaveButton"
                        [attr.id]="config.saveButtonId">
                </tds-button-save>

                <button type="button"
                        class="btn dropdown-toggle"
                        data-toggle="dropdown"
                        aria-haspopup="true"
                        aria-expanded="false"
                        *ngIf="config.canSave && config.canSaveAs"
                        [ngClass]="{'btn': true, 'btn-default': !config.isDirty,'btn-success': config.isDirty, 'pull-right': true }"
                        >
                    <span class="caret asset-view-show-caret"></span>
                    <span class="sr-only">Toggle Dropdown</span>
                </button>

                <ul class="dropdown-menu">
                    <!-- Save Button -->
                    <li *ngIf="config.canSave">
                        <a (click)="onSave()">{{ 'GLOBAL.SAVE' | translate }}</a>
                    </li>
                    <li *ngIf="config.canSaveAs">
                        <a (click)="onSaveAs()">{{ 'GLOBAL.SAVE_AS' | translate }}</a>
                    </li>
                </ul>
            </div>

            <tds-button-custom
                        [icon]="model.isFavorite ? 'star' : 'star-o'"
                        [title]="model.isFavorite ? 'Remove from Favorites' : 'Add to Favorites'"
                        class="text-yellow"
                        isIconButton="true"
                        (click)="onFavorite()">
            </tds-button-custom>

            <tds-button-export (click)="onExport()" [id]="'btnExport'"></tds-button-export>

            <tds-asset-view-selector
                    #select="tdsAssetViewSelector">
            </tds-asset-view-selector>
            <tds-button-custom *ngIf="config.isEditAvailable"
                        isIconButton="true"
                        icon="cog"
                        tooltip="Configure"
                        class="pull-right"
                        (click)="onEdit()"
                        >
            </tds-button-custom>

            
            <tds-button-custom 
                        class="pull-right no-action-button"
                        isIconButton="true"
                        [ngStyle]="{color: currentOverrideState.color}"
                        [icon]="currentOverrideState.icon"
                        [tooltip]="currentOverrideState.offLabel"
                        (click)="toggleAssetView()"
                        >
            </tds-button-custom>
        </div>
        <div class="box-body">
            <asset-explorer-view-grid
                    #assetExplorerViewGrid
                    [hiddenFilters]="hiddenFilters"
                    [data]=data
                    (modelChange)="onQuery()"
                    (justPlanningChange)="onJustPlanningChange($event)"
                    (hiddenFiltersChange)="onHiddenFiltersChange($event)"
                    [gridState]="gridState"
                    (gridStateChange)="onGridStateChange($event)"
                    [fields]="fields"
                    [edit]="false"
                    [model]="model.schema"
                    [viewId]="model.id"
                    [metadata]="metadata">
            </asset-explorer-view-grid>
        </div>
    </section>
</div>
