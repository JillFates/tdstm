<div
	tds-autofocus
	tds-handle-escape
	(escPressed)="cancelCloseDialog()"
	class="tds-modal-content has-side-nav news-create-edit-component"
>
	<div class="modal-header">
		<button
			(click)="cancelCloseDialog()"
			type="button"
			class="close"
			aria-label="Close"
		>
			<clr-icon aria-hidden="true" shape="close"></clr-icon>
		</button>
		<div class="modal-tiltle-container">
			<div class="modal-title">
				{{
					(isCreate() ? 'NEWS.CREATE_NEWS' : 'NEWS.EDIT_NEWS')
						| translate
				}}
			</div>
		</div>
	</div>
	<div class="modal-body">
		<form
			name="newsForm"
			role="form"
			class="form-horizontal left-alignment"
			#newsForm="ngForm"
		>
			<div class="box-body">
				<div *ngIf="!isCreate()">
					<div class="form-group">
						<label class="col-sm-4 control-label required-field"
							>Created At:</label
						>
						<div class="col-sm-8 label-value">
							<label>{{ model.dtCreated }}</label>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-4 control-label required-field"
							>Created By:</label
						>
						<div class="col-sm-8 label-value">
							<label>{{ model.personCreateObj }}</label>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-4 control-label required-field"
							>Comment Type:</label
						>
						<div class="col-sm-8 label-value">
							<label>{{ commentType }}</label>
						</div>
					</div>
					<div class="form-group" *ngIf="model.assetName">
						<label class="col-sm-4 control-label required-field"
							>Asset:</label
						>
						<div class="col-sm-8 label-value">
							<label>{{ model.assetName }}</label>
						</div>
					</div>
					<div
						class="form-group"
						*ngIf="model.commentObject.displayOption"
					>
						<label class="col-sm-4 control-label required-field"
							>User/Generic comment:</label
						>
						<div class="col-sm-8 label-value user-generic">
							<label class="label-detail">
								<input
									type="radio"
									class="radio-aligned"
									name="displayOption"
									[value]="optionUser"
									[(ngModel)]="
										model.commentObject.displayOption
									"
									checked
								/>
								User Comment
							</label>
							<label class="label-detail">
								<input
									type="radio"
									class="radio-aligned"
									name="displayOption"
									[value]="optionGeneric"
									[(ngModel)]="
										model.commentObject.displayOption
									"
									checked
								/>
								Generic Comment
							</label>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-4 control-label required-field"
						>Message:</label
					>
					<div class="col-sm-8 label-value">
						<textarea
							name="message"
							rows="3"
							required
							#message="ngModel"
							[(ngModel)]="model.commentObject.message"
						>
						</textarea>
						<div [hidden]="message.valid || message.pristine">
							Message is required
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-4 control-label required-field"
						>Resolved / Archived:</label
					>
					<div class="col-sm-8 label-value">
						<input
							type="checkbox"
							name="isArchived"
							[(ngModel)]="model.commentObject.isArchived"
						/>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-4 control-label required-field"
						>Resolution:</label
					>
					<div class="col-sm-8 label-value">
						<textarea
							name="resolution"
							rows="3"
							[(ngModel)]="model.commentObject.resolution"
						>
						</textarea>
					</div>
				</div>
				<div *ngIf="!isCreate()">
					<div class="form-group">
						<label class="col-sm-4 control-label required-field"
							>Resolved At:</label
						>
						<div class="col-sm-8 label-value">
							<label>{{ model.dtResolved }}</label>
						</div>
					</div>

					<div class="form-group">
						<label class="col-sm-4 control-label required-field"
							>Resolved By:</label
						>
						<div class="col-sm-8 label-value">
							<label>{{ model.personResolvedObj }}</label>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>

	<div class="modal-sidenav btn-link">
		<tds-button-save
			(click)="onSave()"
			[disabled]="!newsForm.form.valid || newsForm.form.pristine"
			[type]="'button'"
		></tds-button-save>
		<tds-button-delete
			*ngIf="!isCreate()"
			(click)="onDelete()"
			[disabled]="!isDeleteAvailable()"
			[type]="'button'"
		></tds-button-delete>
		<tds-button-cancel
			(click)="cancelCloseDialog()"
			[type]="'button'"
		></tds-button-cancel>
	</div>
</div>
