<div tds-handle-escape (escPressed)="cancelCloseDialog()" class="project-create-component modal-content" id="project-create-component">
    <div class="modal-header">
        <button (click)="cancelCloseDialog()" type="button" class="close" aria-label="Close">
            <span aria-hidden="true">Ã—</span>
        </button>
        <h4 class="modal-title">Project Create</h4>
    </div>
    <div class="modal-body">
        <div class="modal-body-container">
            <form action="save" method="post" name="projectCreateForm">
                <div class="dialog">
                    <table>
                        <tbody>
                        <tr>
                            <td colspan="2"><div class="required"> Fields marked ( * ) are mandatory </div> </td>
                        </tr>
                        <tr class="prop">
                            <td valign="top" class="name"><b>Client:&nbsp;<span style="color: red">*</span></b></td>
                            <td valign="top" class="value">
                                <kendo-dropdownlist type="text" [(ngModel)]="projectModel.clientId" [data]="clients" [valueField]="'clientId'" [textField]="'clientName'" id="client" name="client"></kendo-dropdownlist>
                            </td>
                        </tr>

                        <tr class="prop">
                            <td valign="top" class="name">Project Name:</td>
                            <td valign="top" class="value">
                                <input type="text" [(ngModel)]="projectModel.projectName"  id="projectName" name="projectName"/>
                            </td>
                        </tr>
                        <tr class="prop">
                            <td valign="top" class="name">Description:</td>
                            <td valign="top" class="value">
                                <textarea type="text" [(ngModel)]="projectModel.description"  id="description" name="description"></textarea>
                            </td>
                        </tr>
                        <tr class="prop">
                            <td valign="top" class="name">Start Date:</td>
                            <td valign="top" class="value">
                                <kendo-datepicker [(ngModel)]="projectModel.startDate"></kendo-datepicker>
                            </td>
                        </tr>

                        <tr class="prop">
                            <td valign="top" class="name">Completion Date:</td>
                            <td valign="top" class="value">
                                <kendo-datepicker [(ngModel)]="projectModel.completionDate"></kendo-datepicker>
                            </td>
                        </tr>

                        <tr class="prop">
                            <td valign="top" class="name">Associated Partners:</td>
                            <td valign="top" class="value">
                                <kendo-dropdownlist style="display: block" *ngFor="let partnerId of projectModel.partnerIds" [data]="partners" [textField]="'name'" [valueField]="'id'"></kendo-dropdownlist>
                                <button class="btn btn-secondary" (click)="projectModel.partnerIds.push(0)">Add Partner</button>
                            </td>
                        </tr>

                        <tr class="prop">
                            <td valign="top" class="name">Project Manager:</td>
                            <td valign="top" class="value">
                                <kendo-dropdownlist id="projectManagerId" name="projectManager" [(ngModel)]="projectModel.projectManagerId" ></kendo-dropdownlist>
                            </td>
                        </tr>


                        <td valign="top" class="name"><b>WorkFlow Code:&nbsp;<span style="color: red">*</span></b></td>
                        <td valign="top" class="value">
                            <kendo-dropdownlist id="workflowCodeId" name="workflowCode" [(ngModel)]="projectModel.workflowCode" [data]="workflowCodes"></kendo-dropdownlist>
                        </td>

                        <tr class="prop">
                            <td valign="top" class="name">Project Code:</td>
                            <td valign="top" class="value">
                                <input id="projectCode" name="projectCode" [(ngModel)]="projectModel.projectCode"/>
                            </td>
                        </tr>

                        <tr class="prop">
                            <td valign="top" class="name">Project Type:</td>
                            <td valign="top" class="value">
                                <kendo-dropdownlist id="projectType" name="projectType" [(ngModel)]="projectModel.projectType" ></kendo-dropdownlist>
                            </td>
                        </tr>
                        <tr>
                            <td valign="top" class="name"><b>Comment:&nbsp;<span style="color: red">*</span></b></td>
                            <td valign="top" class="value">
                                <textarea id="comment" name="comment" [(ngModel)]="projectModel.comment"></textarea>
                            </td>
                        </tr>

                        <tr>
                            <td valign="top" class="name"><b>Default Bundle:&nbsp;<span style="color: red">*</span></b></td>
                            <td valign="top" class="value">
                                <input id="defaultBundle" name="defaultBundle" [(ngModel)]="projectModel.defaultBundle"/>
                            </td>
                        </tr>

                        <tr>
                            <td valign="top" class="name"><b>Time Zone:&nbsp;<span style="color: red">*</span></b></td>
                            <td valign="top" class="value">
                                <input id="timeZone" name="timeZone" [(ngModel)]="projectModel.timeZone"/>
                            </td>
                        </tr>

                        <tr class="prop">
                            <td valign="top" class="name">Collect Reporting Metrics:</td>
                            <td> <input type="checkbox" name="collectReportingMetrics" id="collectReportingMetrics" value="true" checked="checked" [(ngModel)]="projectModel.collectReportingMetrics"/></td>
                        </tr>
                        </tbody>

                        <tr>
                            <td valign="top" class="name"><b>Plan Methodology:&nbsp;<span style="color: red">*</span></b></td>
                            <td valign="top" class="value">
                                <kendo-dropdownlist id="planMethodology" name="planMethodology" [(ngModel)]="projectModel.planMethodology" [data]="planMethodologies" [valueField]="'label'" [textField]="'label'"></kendo-dropdownlist>
                            </td>
                        </tr>
                    </table>
                </div>
            </form>
        </div>
    </div>
    <div class="buttons modal-footer">
        <tds-button-save class="btn-primary" (click)="saveForm()"></tds-button-save>
    </div>
</div>
