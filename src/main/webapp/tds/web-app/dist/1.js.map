{"version":3,"sources":["webpack:///./web-app/app-js/modules/assetExplorer/asset-explorer-routing.states.ts","webpack:///./web-app/app-js/modules/assetExplorer/asset-explorer.module.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/application/application-create.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/application/application-edit.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/application/application-show.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/asset-clone/asset-clone.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/asset-dependency/asset-dependency.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/asset/asset-common-edit.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/asset/asset-common-helper.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/asset/asset-common-show.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/asset/asset-create.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/asset/asset-edit.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/asset/asset-show.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/database/database-create.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/database/database-edit.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/database/database-show.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/device/device-create.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/device/device-edit.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/device/device-show.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/device/manufacturer/components/manufacturer-edit/manufacturer-edit.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/device/manufacturer/components/manufacturer-show/manufacturer-show.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/device/manufacturer/model/device-manufacturer.model.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/device/model-device/components/model-device-show/model-device-show.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/device/model-device/device-common.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/device/model-device/model/device-model.model.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/index/asset-explorer-index-columns.helper.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/index/asset-explorer-index.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/popups/popup-asset-message.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/single-comment/model/single-comment.model.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/single-comment/single-comment.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/storage/storage-create.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/storage/storage-edit.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/storage/storage-show.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/task-comment/dialog/task-comment-dialog.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/task-comment/model/task-comment-columns.model.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/task-comment/task-comment.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/view-config/asset-explorer-view-config.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/view-export/asset-explorer-view-export.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/view-grid/asset-explorer-view-grid.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/view-save/asset-explorer-view-save.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/view-selector/asset-explorer-view-selector.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/components/view-show/asset-explorer-view-show.component.ts","webpack:///./web-app/app-js/modules/assetExplorer/model/asset-entity.model.ts","webpack:///./web-app/app-js/modules/assetExplorer/model/asset-export-model.ts","webpack:///./web-app/app-js/modules/assetExplorer/model/asset-modal.model.ts","webpack:///./web-app/app-js/modules/assetExplorer/resolve/fields-resolve.service.ts","webpack:///./web-app/app-js/modules/assetExplorer/resolve/report-resolve.service.ts","webpack:///./web-app/app-js/modules/assetExplorer/resolve/reports-resolve.service.ts","webpack:///./web-app/app-js/modules/assetExplorer/resolve/tags-resolve.service.ts","webpack:///./web-app/app-js/modules/assetExplorer/service/dependecy.service.ts","webpack:///./web-app/app-js/modules/assetExplorer/service/model.service.ts","webpack:///./web-app/app-js/modules/assetExplorer/service/task-comment.service.ts","webpack:///./web-app/app-js/modules/fieldSettings/model/field-settings.model.ts","webpack:///./web-app/app-js/modules/taskManager/components/common/task-edit-create-common.component.ts","webpack:///./web-app/app-js/modules/taskManager/components/common/task-edit-create-model.helper.ts","webpack:///./web-app/app-js/modules/taskManager/components/create/task-create.component.ts","webpack:///./web-app/app-js/modules/taskManager/components/detail/task-detail.component.ts","webpack:///./web-app/app-js/modules/taskManager/components/edit/task-edit.component.ts","webpack:///./web-app/app-js/modules/taskManager/components/task-actions/task-actions.component.ts","webpack:///./web-app/app-js/modules/taskManager/model/shared-task-settings.ts","webpack:///./web-app/app-js/modules/taskManager/model/task-detail.model.ts","webpack:///./web-app/app-js/modules/taskManager/model/task-edit-create.model.ts","webpack:///./web-app/app-js/modules/taskManager/model/task-notes-columns.model.ts","webpack:///./web-app/app-js/modules/taskManager/model/task-successor-predecessor-columns.model.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["// Angular\nimport {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\n// Resolves\nimport {ModuleResolveService} from '../../shared/resolves/module.resolve.service';\nimport {PreferencesResolveService} from '../../shared/resolves/preferences-resolve.service';\nimport {ReportResolveService} from './resolve/report-resolve.service';\nimport {ReportsResolveService} from './resolve/reports-resolve.service';\nimport {FieldsResolveService} from './resolve/fields-resolve.service';\nimport {TagsResolveService} from './resolve/tags-resolve.service';\n// Services\nimport {AuthGuardService} from '../security/services/auth.guard.service';\n// Components\nimport {AssetExplorerIndexComponent} from './components/index/asset-explorer-index.component';\nimport {AssetExplorerViewConfigComponent} from './components/view-config/asset-explorer-view-config.component';\nimport {AssetExplorerViewShowComponent} from './components/view-show/asset-explorer-view-show.component';\n\n/**\n * Asset Explorer Route States\n * @class\n * @classdesc To use externally to reference possible state of the Asset Explorer Module\n */\nexport class AssetExplorerStates {\n\tpublic static readonly REPORT_SELECTOR = {\n\t\turl: 'views'\n\t};\n\tpublic static readonly REPORT_CREATE = {\n\t\turl: 'views/create'\n\t};\n\tpublic static readonly REPORT_EDIT = {\n\t\turl: 'views/:id/edit'\n\t};\n\tpublic static readonly REPORT_SHOW = {\n\t\turl: 'views/:id/show'\n\t};\n}\n\n/**\n * Top menu parent section class for all Assets Explorer module.\n * @type {string}\n */\nconst TOP_MENU_PARENT_SECTION = 'menu-parent-assets';\n\nexport const AssetExplorerRoute: Routes = [\n\t{path: '', pathMatch: 'full', redirectTo: AssetExplorerStates.REPORT_SELECTOR.url},\n\t{\n\t\tpath: AssetExplorerStates.REPORT_SELECTOR.url,\n\t\tdata: {\n\t\t\tpage: {\n\t\t\t\ttitle: 'ASSET_EXPLORER.ASSET_EXPLORER',\n\t\t\t\tinstruction: '',\n\t\t\t\tmenu: ['ASSETS.ASSETS', 'ASSET_EXPLORER.ASSET_EXPLORER'],\n\t\t\t\ttopMenu: { parent: TOP_MENU_PARENT_SECTION, child: 'menu-parent-assets-asset-manager', subMenu: true }\n\t\t\t},\n\t\t\trequiresAuth: true,\n\t\t},\n\t\tcomponent: AssetExplorerIndexComponent,\n\t\tresolve: {\n\t\t\treports: ReportsResolveService\n\t\t},\n\t\tcanActivate: [AuthGuardService, ModuleResolveService, PreferencesResolveService],\n\t\trunGuardsAndResolvers: 'always'\n\t},\n\t{\n\t\tpath: AssetExplorerStates.REPORT_CREATE.url,\n\t\tdata: {\n\t\t\tpage: {\n\t\t\t\ttitle: 'ASSET_EXPLORER.ASSET_EXPLORER',\n\t\t\t\tinstruction: '',\n\t\t\t\tmenu: ['ASSETS.ASSETS', { text: 'ASSET_EXPLORER.ASSET_EXPLORER', navigateTo: 'asset/' + AssetExplorerStates.REPORT_SELECTOR.url}, 'ASSET_EXPLORER.CREATE']\n\t\t\t},\n\t\t\trequiresAuth: true,\n\t\t\trequiresPermission: 'AssetExplorerCreate',\n\t\t\thasPendingChanges: false\n\t\t},\n\t\tcomponent: AssetExplorerViewConfigComponent,\n\t\tresolve: {\n\t\t\ttagList: TagsResolveService,\n\t\t\treport: ReportResolveService,\n\t\t\treports: ReportsResolveService,\n\t\t\tfields: FieldsResolveService\n\t\t},\n\t\tcanActivate: [AuthGuardService, ModuleResolveService, PreferencesResolveService],\n\t\trunGuardsAndResolvers: 'always'\n\t},\n\t{\n\t\tpath: AssetExplorerStates.REPORT_EDIT.url,\n\t\tdata: {\n\t\t\tpage: {\n\t\t\t\ttitle: 'ASSET_EXPLORER.ASSET_EXPLORER',\n\t\t\t\tinstruction: '',\n\t\t\t\tmenu: ['ASSETS.ASSETS', { text: 'ASSET_EXPLORER.ASSET_EXPLORER', navigateTo: 'asset/' + AssetExplorerStates.REPORT_SELECTOR.url}, 'ASSET_EXPLORER.EDIT']\n\t\t\t},\n\t\t\trequiresAuth: true,\n\t\t\trequiresPermission: 'AssetExplorerEdit',\n\t\t\thasPendingChanges: false\n\t\t},\n\t\tcomponent: AssetExplorerViewConfigComponent,\n\t\tresolve: {\n\t\t\ttagList: TagsResolveService,\n\t\t\treport: ReportResolveService,\n\t\t\treports: ReportsResolveService,\n\t\t\tfields: FieldsResolveService\n\t\t},\n\t\tcanActivate: [AuthGuardService, ModuleResolveService, PreferencesResolveService],\n\t\trunGuardsAndResolvers: 'always'\n\t},\n\t{\n\t\tpath: AssetExplorerStates.REPORT_SHOW.url,\n\t\tdata: {\n\t\t\tpage: {\n\t\t\t\ttitle: 'ASSET_EXPLORER.ASSET_EXPLORER',\n\t\t\t\tinstruction: '',\n\t\t\t\tmenu: ['ASSETS.ASSETS', { text: 'ASSET_EXPLORER.ASSET_EXPLORER', navigateTo: 'asset/' + AssetExplorerStates.REPORT_SELECTOR.url}, 'ASSET_EXPLORER.SHOW'],\n\t\t\t\ttopMenu: { parent: TOP_MENU_PARENT_SECTION, child: 'menu-parent-assets-asset-explorer', subMenu: true }\n\t\t\t},\n\t\t\trequiresAuth: true\n\t\t},\n\t\tcomponent: AssetExplorerViewShowComponent,\n\t\tresolve: {\n\t\t\ttagList: TagsResolveService,\n\t\t\treport: ReportResolveService,\n\t\t\treports: ReportsResolveService,\n\t\t\tfields: FieldsResolveService\n\t\t},\n\t\tcanActivate: [AuthGuardService, ModuleResolveService, PreferencesResolveService],\n\t\trunGuardsAndResolvers: 'always'\n\t}\n];\n\n@NgModule({\n\texports: [RouterModule],\n\timports: [RouterModule.forChild(AssetExplorerRoute)]\n})\n\nexport class AssetExplorerRouteModule {\n}\n","// Angular\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\n// Shared\nimport {SharedModule} from '../../shared/shared.module';\n// Kendo\nimport { DropDownListModule } from '@progress/kendo-angular-dropdowns';\nimport { GridModule } from '@progress/kendo-angular-grid';\nimport { ExcelExportModule } from '@progress/kendo-angular-excel-export';\nimport { SortableModule } from '@progress/kendo-angular-sortable';\nimport { IntlModule } from '@progress/kendo-angular-intl';\nimport { DateInputsModule } from '@progress/kendo-angular-dateinputs';\n// Route Module\nimport {AssetExplorerRouteModule} from './asset-explorer-routing.states';\n// Resolves\nimport {ModuleResolveService} from '../../shared/resolves/module.resolve.service';\nimport {FieldsResolveService} from './resolve/fields-resolve.service';\nimport {ReportsResolveService} from './resolve/reports-resolve.service';\nimport {ReportResolveService} from './resolve/report-resolve.service';\nimport {TagsResolveService} from './resolve/tags-resolve.service';\n// Services\nimport { AssetExplorerService } from './service/asset-explorer.service';\nimport { TaskCommentService } from './service/task-comment.service';\nimport { DependecyService } from './service/dependecy.service';\nimport { TagService } from '../assetTags/service/tag.service';\nimport { ManufacturerService } from './service/manufacturer.service';\nimport { ModelService } from  './service/model.service';\nimport {CustomDomainService} from '../fieldSettings/service/custom-domain.service';\n// Components\nimport {AssetExplorerViewSelectorComponent} from './components/view-selector/asset-explorer-view-selector.component';\nimport {AssetExplorerViewConfigComponent} from './components/view-config/asset-explorer-view-config.component';\nimport {AssetExplorerViewSaveComponent} from './components/view-save/asset-explorer-view-save.component';\nimport {AssetExplorerViewExportComponent} from './components/view-export/asset-explorer-view-export.component';\nimport {AssetExplorerViewGridComponent} from './components/view-grid/asset-explorer-view-grid.component';\nimport {AssetExplorerViewShowComponent} from './components/view-show/asset-explorer-view-show.component';\nimport {AssetExplorerIndexComponent} from './components/index/asset-explorer-index.component';\nimport {AssetCreateComponent} from './components/asset/asset-create.component';\nimport {AssetShowComponent} from './components/asset/asset-show.component';\nimport {AssetEditComponent} from './components/asset/asset-edit.component';\nimport {TaskCommentComponent} from './components/task-comment/task-comment.component';\nimport {AssetDependencyComponent} from './components/asset-dependency/asset-dependency.component';\nimport {SingleCommentComponent} from './components/single-comment/single-comment.component';\nimport {TaskDetailComponent} from '../taskManager/components/detail/task-detail.component';\nimport {TaskEditComponent} from '../taskManager/components/edit/task-edit.component';\nimport {ManufacturerShowComponent} from './components/device/manufacturer/components/manufacturer-show/manufacturer-show.component';\nimport {ManufacturerEditComponent} from './components/device/manufacturer/components/manufacturer-edit/manufacturer-edit.component';\nimport {ModelDeviceShowComponent} from './components/device/model-device/components/model-device-show/model-device-show.component';\nimport {AssetCloneComponent} from './components/asset-clone/asset-clone.component';\nimport {PopupAssetMessageComponent} from './components/popups/popup-asset-message.component';\nimport {TaskCommentDialogComponent} from './components/task-comment/dialog/task-comment-dialog.component';\nimport {TaskCreateComponent} from '../taskManager/components/create/task-create.component';\nimport {TaskActionsComponent} from '../taskManager/components/task-actions/task-actions.component';\n\n@NgModule({\n\timports: [\n\t\t// Angular\n\t\tCommonModule,\n\t\tSharedModule,\n\t\tFormsModule,\n\t\t// Kendo\n\t\tDropDownListModule,\n\t\tGridModule,\n\t\tExcelExportModule,\n\t\tSortableModule,\n\t\tIntlModule,\n\t\tDateInputsModule,\n\t\t// Route\n\t\tAssetExplorerRouteModule\n\t],\n\tdeclarations: [\n\t\tAssetExplorerViewSelectorComponent,\n\t\tAssetExplorerIndexComponent,\n\t\tAssetExplorerViewConfigComponent,\n\t\tAssetExplorerViewSaveComponent,\n\t\tAssetExplorerViewExportComponent,\n\t\tAssetExplorerViewGridComponent,\n\t\tAssetExplorerViewShowComponent,\n\t\tAssetShowComponent,\n\t\tAssetEditComponent,\n\t\tAssetCreateComponent,\n\t\tTaskCommentComponent,\n\t\tAssetDependencyComponent,\n\t\tSingleCommentComponent,\n\t\tModelDeviceShowComponent,\n\t\tManufacturerShowComponent,\n\t\tManufacturerEditComponent,\n\t\tAssetCloneComponent,\n\t\tPopupAssetMessageComponent,\n\t\tTaskCommentDialogComponent,\n\t\tTaskCreateComponent,\n\t\tTaskEditComponent,\n\t\tTaskDetailComponent,\n\t\tTaskActionsComponent\n\t],\n\tproviders: [\n\t\t// Resolve\n\t\tModuleResolveService,\n\t\tFieldsResolveService,\n\t\tReportResolveService,\n\t\tReportsResolveService,\n\t\tTagsResolveService,\n\t\t// Services\n\t\tCustomDomainService,\n\t\tAssetExplorerService,\n\t\tTaskCommentService,\n\t\tDependecyService,\n\t\tTagService,\n\t\tManufacturerService,\n\t\tModelService\n\t],\n\texports: [\n\t\tAssetShowComponent,\n\t\tAssetEditComponent,\n\t\tAssetCreateComponent,\n\t\tAssetDependencyComponent,\n\t\tAssetExplorerIndexComponent,\n\t\tTaskCommentComponent],\n\tentryComponents: [\n\t\tAssetExplorerViewSaveComponent,\n\t\tAssetExplorerViewExportComponent,\n\t\tAssetShowComponent,\n\t\tAssetEditComponent,\n\t\tAssetCreateComponent,\n\t\tAssetDependencyComponent,\n\t\tSingleCommentComponent,\n\t\tManufacturerShowComponent,\n\t\tManufacturerEditComponent,\n\t\tModelDeviceShowComponent,\n\t\tAssetCloneComponent,\n\t\tTaskCommentDialogComponent,\n\t\tTaskCreateComponent,\n\t\tTaskEditComponent,\n\t\tTaskDetailComponent\n\t],\n})\n\nexport class AssetExplorerModule {\n}\n","/**\n *  The component is being used dynamically, some vars will show as not being used or referenced but they could be part\n *  of the GSP\n *\n *  Use angular/views/TheAssetType as reference\n */\nimport { Component, Inject, OnInit } from '@angular/core';\nimport {UIActiveDialogService, UIDialogService} from '../../../../shared/services/ui-dialog.service';\nimport { PreferenceService } from '../../../../shared/services/preference.service';\nimport {DateUtils} from '../../../../shared/utils/date.utils';\nimport * as R from 'ramda';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport {TagService} from '../../../assetTags/service/tag.service';\nimport {ApiResponseModel} from '../../../../shared/model/ApiResponseModel';\nimport {AssetCommonEdit} from '../asset/asset-common-edit';\nimport { AddPersonComponent } from '../../../../shared/components/add-person/add-person.component';\nimport { PersonModel } from '../../../../shared/components/add-person/model/person.model';\nimport {PersonService} from '../../../../shared/services/person.service';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {ASSET_ENTITY_DIALOG_TYPES} from '../../model/asset-entity.model';\n\nconst pleaseSelectMessage = 'Please Select';\n\nexport function ApplicationCreateComponent(template: string, model: any, metadata: any): any {\n\t@Component({\n\t\tselector: 'tds-application-create',\n\t\ttemplate: template,\n\t\tproviders: [\n\t\t\t{ provide: 'model', useValue: model }\n\t\t]\n\t})\n\tclass ApplicationCreateComponent extends AssetCommonEdit implements OnInit {\n\t\tdefaultItem = {fullName: pleaseSelectMessage, personId: null};\n\t\taddPersonItem = {fullName: 'Add person', personId: -1};\n\t\tmoveBundleList = [];\n\t\tyesNoList = ['Y', 'N'];\n\t\tpersonList: any[] = null;\n\t\tpersons = {\n\t\t\tsme: null,\n\t\t\tsme2: null,\n\t\t\tappOwner: null\n\t\t};\n\n\t\tconstructor(\n\t\t\t@Inject('model') model: any,\n\t\t\tactiveDialog: UIActiveDialogService,\n\t\t\tpreference: PreferenceService,\n\t\t\tassetExplorerService: AssetExplorerService,\n\t\t\tdialogService: UIDialogService,\n\t\t\tnotifierService: NotifierService,\n\t\t\ttagService: TagService,\n\t\t\tpromptService: UIPromptService,\n\t\t\tprivate prompt: UIPromptService,\n\t\t\t) {\n\t\t\t\tsuper(model, activeDialog, preference, assetExplorerService, dialogService, notifierService, tagService, metadata, promptService);\n\t\t}\n\n\t\tngOnInit() {\n\t\t\tthis.initModel();\n\t\t\tthis.focusControlByName('assetName');\n\t\t\tthis.model.asset.validation = this.defaultValidation;\n\t\t}\n\n\t\t/**\n\t\t * Init model with necessary changes to support UI components.\n\t\t */\n\t\tprivate initModel(): void {\n\t\t\tthis.model.asset.retireDate =   '';\n\t\t\tthis.model.asset.maintExpDate =  '';\n\n\t\t\tthis.model.asset.moveBundle = this.model.dependencyMap.moveBundleList[0];\n\t\t\tthis.moveBundleList = this.model.dependencyMap.moveBundleList;\n\t\t\tthis.model.asset.planStatus = this.model.planStatusOptions[0];\n\t\t\tthis.model.asset.assetClass = {\n\t\t\t\tname: ASSET_ENTITY_DIALOG_TYPES.APPLICATION\n\t\t\t};\n\n\t\t\tthis.model.asset.sme = {id: null };\n\t\t\tthis.model.asset.sme2 =  {id: null };\n\t\t\tthis.model.asset.appOwner = {id: null };\n\t\t\tthis.model.asset.shutdownBy = {id: null };\n\t\t\tthis.model.asset.startupBy = {id: null };\n\t\t\tthis.model.asset.testingBy = {id: null };\n\n\t\t\tthis.model.asset.startupProc = '';\n\t\t\tthis.model.asset.testProc = '';\n\t\t\tthis.model.asset.latency = '';\n\t\t\tthis.model.asset.environment = '';\n\t\t\tthis.model.asset.criticality = '';\n\n\t\t\tthis.model.asset.scale = { name: { value: '', text: ''} };\n\n\t\t\tthis.persons.sme = { personId: null};\n\t\t\tthis.persons.sme2 = { personId: null };\n\t\t\tthis.persons.appOwner = { personId: null};\n\t\t}\n\n\t\t/**\n\t\t * Swap values among two persons\n\t\t * @param {source}  name of the source asset\n\t\t * @param {target}  name of the target asset\n\t\t */\n\t\tpublic shufflePerson(source: string, target: string): void {\n\t\t\tconst sourceId = this.model.asset && this.model.asset[source] && this.model.asset[source].id || null;\n\t\t\tconst targetId = this.model.asset && this.model.asset[target] && this.model.asset[target].id || null;\n\n\t\t\tif (sourceId && targetId) {\n\t\t\t\tconst backSource = sourceId;\n\t\t\t\tthis.model.asset[source].id = targetId;\n\t\t\t\tthis.model.asset[target].id = backSource;\n\t\t\t\tthis.updatePersonReferences();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * On Update button click save the current model form.\n\t\t * Method makes proper model modification to send the correct information to\n\t\t * the endpoint.\n\t\t */\n\t\tpublic onCreate(): void {\n\t\t\tconst modelRequest   = R.clone(this.model);\n\n\t\t\tif (modelRequest && modelRequest.asset.moveBundle) {\n\t\t\t\tmodelRequest.asset.moveBundleId = modelRequest.asset.moveBundle.id;\n\t\t\t}\n\n\t\t\t// Scale Format\n\t\t\tmodelRequest.asset.scale = (modelRequest.asset.scale && modelRequest.asset.scale.name && modelRequest.asset.scale.name.value || '');\n\t\t\tmodelRequest.asset.shutdownBy = modelRequest.asset.shutdownBy && modelRequest.asset.shutdownBy.id || '';\n\t\t\tmodelRequest.asset.startupBy = modelRequest.asset.startupBy && modelRequest.asset.startupBy.id || '';\n\t\t\tmodelRequest.asset.testingBy = modelRequest.asset.testingBy && modelRequest.asset.testingBy.id || '';\n\n\t\t\tmodelRequest.asset.environment  = modelRequest.asset.environment === this.defaultSelectOption ?\n\t\t\t\t'' : modelRequest.asset.environment;\n\n\t\t\tmodelRequest.asset.criticality  = modelRequest.asset.criticality === this.defaultSelectOption ?\n\t\t\t\t'' : modelRequest.asset.criticality;\n\n\t\t\t// Custom Fields\n\t\t\tObject.keys(modelRequest.asset)\n\t\t\t\t.filter((key: string) => key.startsWith('custom'))\n\t\t\t\t.forEach((key: string) => {\n\t\t\t\t\tmodelRequest.asset[key] = modelRequest.asset[key] && modelRequest.asset[key].value\n\t\t\t\t\t\t? modelRequest.asset[key].value : modelRequest.asset[key];\n\t\t\t\t});\n\n\t\t\tthis.assetExplorerService.createAsset(modelRequest).subscribe((result) => {\n\t\t\t\tthis.notifierService.broadcast({\n\t\t\t\t\tname: 'reloadCurrentAssetList'\n\t\t\t\t});\n\n\t\t\t\tif (result.id && !isNaN(result.id) && result.id > 0) {\n\t\t\t\t\tthis.createTags(result.id);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Open the dialog to allow create a person\n\t\t * @param {any}  person Contains the info related to the asset in which the person will be  created\n\t\t * @param {string}  fieldName Contains the field asset type\n\t\t * @param {any[]}  companies List of companies to display\n\t\t * @param {any[]}  teams List of teams to display\n\t\t * @param {any[]}  staffTypes List of staffs types to display\n\t\t * @returns {void}\n\t\t */\n\t\tonAddPerson(person: any, asset: string, fieldName: string, companies: any[], teams: any[], staffTypes: any[]): void {\n\t\t\tif (person.personId !== this.addPersonItem.personId) {\n\t\t\t\tthis.model.asset[fieldName].id = person.personId;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst personModel = new PersonModel();\n\t\t\tpersonModel.asset = asset;\n\t\t\tpersonModel.fieldName = fieldName;\n\t\t\tpersonModel.companies = companies || [];\n\t\t\tpersonModel.teams = teams;\n\t\t\tpersonModel.staffType = staffTypes || [];\n\t\t\tthis.dialogService.extra(AddPersonComponent,\n\t\t\t\t[UIDialogService,\n\t\t\t\t\t{\n\t\t\t\t\t\tprovide: PersonModel,\n\t\t\t\t\t\tuseValue: personModel\n\t\t\t\t\t},\n\t\t\t\t\tPersonService\n\t\t\t\t], false, true)\n\t\t\t\t.then((result) => {\n\t\t\t\t\tthis.personList.push({personId: result.id, fullName: result.name})\n\t\t\t\t\tthis.model.asset[fieldName].id = result.id;\n\t\t\t\t\tthis.updatePersonReferences();\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t// get back to previous value\n\t\t\t\t\tthis.persons[fieldName] = { personId: this.model.asset[fieldName].id};\n\t\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Get the current array containing the person items\n\t\t * It adds the default Add Person item\n\t\t */\n\t\tgetPersonList(personList: any[]): any[] {\n\t\t\tif (!this.personList) {\n\t\t\t\tthis.personList = personList;\n\t\t\t\tthis.personList.unshift(this.addPersonItem)\n\t\t\t}\n\t\t\treturn this.personList;\n\t\t}\n\n\t\t/**\n\t\t * Set the correct model values to objects of type person\n\t\t */\n\t\tupdatePersonReferences(): void {\n\t\t\tthis.persons.sme = { personId: this.model.asset.sme.id};\n\t\t\tthis.persons.sme2 = { personId: this.model.asset.sme2.id};\n\t\t\tthis.persons.appOwner = { personId: this.model.asset.appOwner.id};\n\t\t}\n\n\t}\n\n\treturn ApplicationCreateComponent;\n}","/**\n *  The component is being used dynamically, some vars will show as not being used or referenced but they could be part\n *  of the GSP\n *\n *  Use angular/views/TheAssetType as reference\n */\nimport { Component, Inject, OnInit } from '@angular/core';\nimport {UIActiveDialogService, UIDialogService} from '../../../../shared/services/ui-dialog.service';\nimport { PreferenceService } from '../../../../shared/services/preference.service';\nimport {DateUtils} from '../../../../shared/utils/date.utils';\nimport * as R from 'ramda';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport {TagService} from '../../../assetTags/service/tag.service';\nimport {ApiResponseModel} from '../../../../shared/model/ApiResponseModel';\nimport {AssetCommonEdit} from '../asset/asset-common-edit';\nimport { AddPersonComponent } from '../../../../shared/components/add-person/add-person.component';\nimport { PersonModel } from '../../../../shared/components/add-person/model/person.model';\nimport {PersonService} from '../../../../shared/services/person.service';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\n\nexport function ApplicationEditComponent(template: string, editModel: any, metadata: any): any {\n\t@Component({\n\t\tselector: 'tds-application-edit',\n\t\ttemplate: template,\n\t\tproviders: [\n\t\t\t{ provide: 'model', useValue: editModel }\n\t\t]\n\t})\n\tclass ApplicationShowComponent extends AssetCommonEdit implements OnInit {\n\t\tdefaultItem = {fullName: 'Please Select', personId: null};\n\t\taddPersonItem = {fullName: 'Add person', personId: -1};\n\t\tyesNoList = ['Y', 'N'];\n\t\tpersonList: any[] = null;\n\t\tpersons = {\n\t\t\tsme: null,\n\t\t\tsme2: null,\n\t\t\tappOwner: null\n\t\t};\n\n\t\tconstructor(\n\t\t\t@Inject('model') model: any,\n\t\t\tactiveDialog: UIActiveDialogService,\n\t\t\tpreference: PreferenceService,\n\t\t\tassetExplorerService: AssetExplorerService,\n\t\t\tdialogService: UIDialogService,\n\t\t\tnotifierService: NotifierService,\n\t\t\ttagService: TagService,\n\t\t\tpromptService: UIPromptService,\n\t\t\tprivate prompt: UIPromptService,\n\t\t\t) {\n\t\t\t\tsuper(model, activeDialog, preference, assetExplorerService, dialogService, notifierService, tagService, metadata, promptService);\n\t\t}\n\n\t\tngOnInit() {\n\t\t\tthis.initModel();\n\t\t\tthis.focusControlByName('assetName');\n\t\t}\n\n\t\t/**\n\t\t * Init model with necessary changes to support UI components.\n\t\t */\n\t\tprivate initModel(): void {\n\t\t\tthis.model.asset = R.clone(editModel.asset);\n\t\t\tthis.model.asset.sme = this.model.asset.sme || { id: null };\n\t\t\tthis.model.asset.sme2 = this.model.asset.sme2 || { id: null };\n\t\t\tthis.model.asset.shutdownBy = {id : this.model.asset.shutdownBy || null };\n\t\t\tthis.model.asset.startupBy = {id: this.model.asset.startupBy || null };\n\t\t\tthis.model.asset.testingBy = {id: this.model.asset.testingBy || null };\n\t\t\tthis.model.asset.appOwner = this.model.asset.appOwner || { id: null };\n\t\t\tif (this.model.asset.scale === null) {\n\t\t\t\tthis.model.asset.scale = {\n\t\t\t\t\tname: { value: '', text: ''}\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis.updatePersonReferences();\n\t\t}\n\n\t\t/**\n\t\t * Swap values among two persons\n\t\t * @param {source}  name of the source asset\n\t\t * @param {target}  name of the target asset\n\t\t */\n\t\tpublic shufflePerson(source: string, target: string): void {\n\t\t\tconst sourceId = this.model.asset && this.model.asset[source] && this.model.asset[source].id || null;\n\t\t\tconst targetId = this.model.asset && this.model.asset[target] && this.model.asset[target].id || null;\n\n\t\t\tthis.model.asset[source].id = targetId;\n\t\t\tthis.model.asset[target].id = sourceId;\n\n\t\t\tthis.updatePersonReferences();\n\t\t}\n\n\t\t/**\n\t\t * On Update button click save the current model form.\n\t\t * Method makes proper model modification to send the correct information to\n\t\t * the endpoint.\n\t\t */\n\t\tpublic onUpdate(): void {\n\t\t\tconst modelRequest   = R.clone(this.model);\n\n\t\t\tmodelRequest.asset.moveBundleId = modelRequest.asset.moveBundle.id;\n\t\t\tdelete modelRequest.asset.moveBundle;\n\n\t\t\t// Scale Format\n\t\t\tmodelRequest.asset.scale = (modelRequest.asset.scale && modelRequest.asset.scale.name && modelRequest.asset.scale.name.value || '');\n\t\t\tmodelRequest.asset.shutdownBy = modelRequest.asset.shutdownBy && modelRequest.asset.shutdownBy.id || '';\n\t\t\tmodelRequest.asset.startupBy = modelRequest.asset.startupBy && modelRequest.asset.startupBy.id || '';\n\t\t\tmodelRequest.asset.testingBy = modelRequest.asset.testingBy && modelRequest.asset.testingBy.id || '';\n\n\t\t\tmodelRequest.asset.environment  = modelRequest.asset.environment === this.defaultSelectOption ?\n\t\t\t\t\t\t\t\t\t\t\t\t'' : modelRequest.asset.environment;\n\n\t\t\tmodelRequest.asset.criticality  = modelRequest.asset.criticality === this.defaultSelectOption ?\n\t\t\t\t'' : modelRequest.asset.criticality;\n\n\t\t\t// Custom Fields\n\t\t\tthis.model.customs.forEach((custom: any) => {\n\t\t\t\tlet customValue = modelRequest.asset[custom.field.toString()];\n\t\t\t\tif (customValue && customValue.value) {\n\t\t\t\t\tmodelRequest.asset[custom.field.toString()] = customValue.value;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.assetExplorerService.saveAsset(modelRequest).subscribe((result) => {\n\t\t\t\tthis.notifierService.broadcast({\n\t\t\t\t\tname: 'reloadCurrentAssetList'\n\t\t\t\t});\n\t\t\t\tif (result === ApiResponseModel.API_SUCCESS || result === 'Success!') {\n\t\t\t\t\tthis.saveAssetTags();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tonAddPerson(person: any, asset: string, fieldName: string, companies: any[], teams: any[], staffTypes: any[]): void {\n\t\t\tif (person.personId !== this.addPersonItem.personId) {\n\t\t\t\tthis.model.asset[fieldName].id = person.personId;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst personModel = new PersonModel();\n\t\t\tpersonModel.asset = asset;\n\t\t\tpersonModel.fieldName = fieldName;\n\t\t\tpersonModel.companies = companies || [];\n\t\t\tpersonModel.teams = teams;\n\t\t\tpersonModel.staffType = staffTypes || [];\n\t\t\tthis.dialogService.extra(AddPersonComponent,\n\t\t\t\t[UIDialogService,\n\t\t\t\t\t{\n\t\t\t\t\t\tprovide: PersonModel,\n\t\t\t\t\t\tuseValue: personModel\n\t\t\t\t\t},\n\t\t\t\t\tPersonService\n\t\t\t\t], false, true)\n\t\t\t\t.then((result) => {\n\t\t\t\t\tthis.personList.push({personId: result.id, fullName: result.name})\n\t\t\t\t\tthis.model.asset[fieldName].id = result.id;\n\t\t\t\t\tthis.updatePersonReferences();\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t// get back to previous value\n\t\t\t\t\tthis.persons[fieldName] = { personId: this.model.asset[fieldName].id};\n\t\t\t\t});\n\t\t}\n\t\tgetPersonList(personList: any[]): any[] {\n\t\t\tif (!this.personList) {\n\t\t\t\tthis.personList = personList;\n\t\t\t\tthis.personList.unshift(this.addPersonItem)\n\t\t\t}\n\t\t\treturn this.personList;\n\t\t}\n\t\tupdatePersonReferences(): void {\n\t\t\tthis.persons.sme = { personId: this.model.asset.sme.id};\n\t\t\tthis.persons.sme2 = { personId: this.model.asset.sme2.id};\n\t\t\tthis.persons.appOwner = { personId: this.model.asset.appOwner.id};\n\t\t}\n\n\t\t/**\n\t\t\tallows to delete the application assets\n\t\t*/\n\t\tonDeleteAsset() {\n\n\t\t\tthis.deleteAsset(this.model.asset.id);\n\t\t}\n\t}\n\n\treturn ApplicationShowComponent;\n}","import { Component} from '@angular/core';\nimport { UIActiveDialogService, UIDialogService } from '../../../../shared/services/ui-dialog.service';\nimport { DependecyService } from '../../service/dependecy.service';\nimport { AssetEditComponent } from '../asset/asset-edit.component';\nimport { DOMAIN, DIALOG_SIZE } from '../../../../shared/model/constants';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport {AssetCloneComponent} from '../asset-clone/asset-clone.component';\nimport {CloneCLoseModel} from '../../model/clone-close.model';\nimport {AssetModalModel} from '../../model/asset-modal.model';\nimport {AssetCommonShow} from '../asset/asset-common-show';\nimport {PreferenceService} from '../../../../shared/services/preference.service';\nimport {AssetCommonHelper} from '../asset/asset-common-helper';\n\ndeclare var jQuery: any;\n\nexport function ApplicationShowComponent(template, modelId: number, metadata: any) {\n\t@Component({\n\t\tselector: `tds-application-show`,\n\t\ttemplate: template\n\t})\n\tclass ApplicationShowComponent extends AssetCommonShow {\n\n\t\tconstructor(\n\t\t\tactiveDialog: UIActiveDialogService,\n\t\t\tdialogService: UIDialogService,\n\t\t\tassetService: DependecyService,\n\t\t\tprompt: UIPromptService,\n\t\t\tassetExplorerService: AssetExplorerService,\n\t\t\tnotifierService: NotifierService,\n\t\t\tpreferenceService: PreferenceService) {\n\t\t\t\tsuper(activeDialog, dialogService, assetService, prompt, assetExplorerService, notifierService, preferenceService);\n\t\t\t\tthis.mainAsset = modelId;\n\t\t\t\tthis.assetTags = metadata.assetTags;\n\t\t}\n\n\t\tshowAssetEditView(): Promise<any> {\n\t\t\tconst componentParameters = [\n\t\t\t\t{ provide: 'ID', useValue: this.mainAsset },\n\t\t\t\t{ provide: 'ASSET', useValue: DOMAIN.APPLICATION }\n\t\t\t];\n\n\t\t\treturn this.dialogService\n\t\t\t\t.replace(AssetEditComponent, componentParameters, DIALOG_SIZE.LG);\n\t\t}\n\n\t\t/**\n\t\t * Allows to clone an application asset\n\t\t */\n\t\tonCloneAsset(): void {\n\n\t\t\tconst cloneModalModel: AssetModalModel = {\n\t\t\t\tassetType: DOMAIN.APPLICATION,\n\t\t\t\tassetId: this.mainAsset\n\t\t\t}\n\t\t\tthis.dialogService.extra(AssetCloneComponent, [\n\t\t\t\t{provide: AssetModalModel, useValue: cloneModalModel}\n\t\t\t], false, false).then( (result: CloneCLoseModel)  => {\n\n\t\t\t\tif (result.clonedAsset && result.showEditView) {\n\t\t\t\t\tconst componentParameters = [\n\t\t\t\t\t\t{ provide: 'ID', useValue: result.assetId },\n\t\t\t\t\t\t{ provide: 'ASSET', useValue: DOMAIN.APPLICATION }\n\t\t\t\t\t];\n\n\t\t\t\t\tthis.dialogService\n\t\t\t\t\t\t.replace(AssetEditComponent, componentParameters, DIALOG_SIZE.XLG);\n\t\t\t\t} else if (!result.clonedAsset && result.showView) {\n\t\t\t\t\tthis.showAssetDetailView(DOMAIN.APPLICATION, result.assetId);\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.catch( error => console.log('error', error));\n\t\t}\n\n\t}\n\treturn ApplicationShowComponent;\n}","import {Component, ElementRef, Inject, OnInit, ViewChild} from '@angular/core';\nimport {UIDialogService, UIExtraDialog} from '../../../../shared/services/ui-dialog.service';\nimport {DecoratorOptions} from '../../../../shared/model/ui-modal-decorator.model';\nimport {PermissionService} from '../../../../shared/services/permission.service';\nimport {Permission} from '../../../../shared/model/permission.model';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport {AssetShowComponent} from '../asset/asset-show.component';\nimport {DIALOG_SIZE} from '../../../../shared/model/constants';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {CloneCLoseModel} from '../../model/clone-close.model';\nimport {AssetModalModel} from '../../model/asset-modal.model';\n\n@Component({\n\tselector: `tds-asset-clone-modal`,\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/asset-clone/asset-clone.component.html'\n})\nexport class AssetCloneComponent extends UIExtraDialog implements OnInit {\n\n\tpublic modalOptions: DecoratorOptions;\n\tpublic ASSET_NAME_POPUP_MESSAGE = `Cloned asset will have Environment = 'Select...' and the next available Asset Tag number for device class`;\n\tprotected asset: any;\n\tprotected assetName: string;\n\tprotected uniqueAssetName: boolean;\n\tprotected existAsset: any;\n\t@ViewChild('includeDependencies') includeDependencies: ElementRef;\n\n\tconstructor(\n\t\tpublic cloneModalModel: AssetModalModel,\n\t\tprivate permissionService: PermissionService,\n\t\tprivate assetExplorerService: AssetExplorerService,\n\t\tprivate notifierService: NotifierService,\n\t\tprivate dialogService: UIDialogService,\n\t\tprivate prompt: UIPromptService) {\n\t\tsuper('#asset-clone-component');\n\t\tthis.modalOptions = { isResizable: true, isCentered: true };\n\t\tthis.uniqueAssetName = false;\n\t}\n\n\tngOnInit() {\n\t\tconsole.log('AssetClone', this.cloneModalModel);\n\t\tthis.assetExplorerService.getAsset(this.cloneModalModel.assetId)\n\t\t\t.subscribe( (res) => {\n\t\t\t\tthis.asset = res;\n\t\t\t\tthis.assetName = res.assetName;\n\t\t\t}, (err) => console.log(err));\n\n\t}\n\t/**\n\t * Close Dialog\n\t */\n\tprotected cancelCloseDialog(): void {\n\t\tthis.dismiss();\n\t}\n\n\t/**\n\t * Validates if user has Permission to clone assets\n\t */\n\tprotected canCloneAssets() {\n\t\treturn this.permissionService.hasPermission(Permission.AssetCreate);\n\t}\n\n\t/**\n\t * Validate the name uniqueness of assets\n\t */\n\tprotected isAssetUnique() {\n\t\tconst assetToValid = {\n\t\t\tid: this.cloneModalModel.assetId,\n\t\t\tname: this.assetName\n\t\t}\n\t\tthis.assetExplorerService.checkAssetForUniqueName(assetToValid)\n\t\t\t.subscribe((res) => {\n\t\t\t\tif (res && res.status === 'success') {\n\t\t\t\t\tthis.uniqueAssetName = res.data.unique;\n\t\t\t\t\tthis.existAsset = (!res.data.unique) ? res.data : null;\n\n\t\t\t\t}\n\t\t\t}, (err) => console.log(err));\n\t}\n\n\t/**\n\t * Validates if assets already exists to show confirmation prompt\n\t */\n\tprotected cloneAssetValidations(displayEdit: boolean) {\n\n\t\tif ((this.existAsset && !this.existAsset.unique) || !this.uniqueAssetName) {\n\t\t\tthis.prompt.open('Asset already exists',\n\t\t\t\t'The Asset Name you want to create already exists, do you want to proceed?',\n\t\t\t\t'Confirm', 'Cancel')\n\t\t\t\t.then( success => {\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\tthis.cloneAsset(displayEdit);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => console.log(error));\n\t\t} else {\n\t\t\tthis.cloneAsset(displayEdit);\n\t\t}\n\t}\n\n\t/**\n\t * Perform Clone Asset\n\t */\n\n\tprotected cloneAsset(displayEdit: boolean) {\n\t\tconst assetToClone = {\n\t\t\tassetId: this.cloneModalModel.assetId,\n\t\t\tcloneDependencies: this.includeDependencies.nativeElement.checked,\n\t\t\tname: this.assetName\n\t\t}\n\n\t\tthis.assetExplorerService.cloneAsset(assetToClone)\n\t\t\t.subscribe((res) => {\n\t\t\t\tif (res && res.status === 'success') {\n\t\t\t\t\tthis.notifyClone(displayEdit, res.data.assetId);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('Cannot Clone Asset', res.errors.join());\n\t\t\t\t}\n\t\t\t}, (err) => console.log(err));\n\t}\n\n\t/**\n\t * Display Asset Detail View\n\t */\n\n\tprotected showAssetDetailView() {\n\n\t\tconst cloneCloseModel: CloneCLoseModel = {\n\t\t\tclonedAsset: false,\n\t\t\tshowEditView: false,\n\t\t\tassetId: this.existAsset.assetId,\n\t\t\tshowView: true\n\t\t}\n\t\tthis.close(cloneCloseModel);\n\t}\n\n\t/**\n\t * Nofity asset list when clone has been completed\n\t * @param displayEdit\n\t */\n\tprivate notifyClone(displayEdit: boolean, id: any) {\n\t\tthis.notifierService.broadcast({\n\t\t\tname: 'reloadCurrentAssetList'\n\t\t});\n\n\t\tlet cloneCloseModel: CloneCLoseModel = {\n\t\t\tclonedAsset: true,\n\t\t\tshowEditView : false,\n\t\t\tassetId: null\n\t\t}\n\n\t\tif (displayEdit) {\n\t\t\tcloneCloseModel.showEditView = true;\n\t\t\tcloneCloseModel.assetId = id;\n\t\t}\n\n\t\tthis.close(cloneCloseModel);\n\n\t}\n}","import { Component, Inject } from '@angular/core';\nimport { UIExtraDialog } from '../../../../shared/services/ui-dialog.service';\nimport { DependecyService } from '../../service/dependecy.service';\n\n@Component({\n\tselector: 'asset-dependency',\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/asset-dependency/asset-dependency.component.html',\n\tstyles: [`\n        table {\n            margin-top: 10px;\n        }\n\n        .modal-body th {\n            background: white !important;\n        }\n\n        .modal-body {\n            padding-left: 10px;\n            padding-right: 10px;\n        }\n\n        .modal-body table {\n            border-spacing: inherit !important;\n        }\n\n        .modal-body table tr th,\n        .modal-body table tr td {\n            border-top: 0px !important;\n        }\n\n        td.lbl-asset-dependency-direction,\n        form.dependency-edit-fields td.legend-fields {\n            font-weight: bold;\n            color: green;\n            font: 12px helvetica, arial, sans-serif !important;\n        }\n\n        form.dependency-edit-fields table {\n            border: 0px;\n        }\n\n        form.dependency-edit-fields div.form-group {\n            height: 24px;\n            font: 12px helvetica, arial, sans-serif !important;\n        }\n\n        form.dependency-edit-fields label.control-label {\n            text-align: left;\n            font-weight: inherit;\n        }\n\n        form.dependency-edit-fields label.control-label-title {\n            font-weight: bold;\n        }\n\n        .btn-default {\n            background-color: #f4f4f4;\n            color: #444;\n            border-color: #ddd;\n        }\n\n        .delete-property {\n            text-decoration: line-through;\n        }\n\n        .half-size {\n            width: 60%;\n        }\n\n        .separator-table {\n            border-top: 2px solid #f4f4f4 !important;\n            margin-top: 10px !important;\n        }\n\n        .modal-body select,\n        .modal-body input.form-control {\n            width: 150px;\n        }`]\n})\nexport class AssetDependencyComponent extends UIExtraDialog {\n\tdependencyA: any;\n\tdependencyB: any;\n\n\tconstructor(\n\t\t@Inject('ASSET_DEP_MODEL') private assetDependency: any,\n\t\tprivate assetService: DependecyService) {\n\t\tsuper('#assetDependency');\n\n\t\tthis.dependencyA = assetDependency.assetA && assetDependency.assetA.dependency || null;\n\t\tthis.dependencyB = assetDependency.assetB && assetDependency.assetB.dependency || null ;\n\n\t\t// while dateCreated and lastUpdated are not coming from server inside of assetDependency.assetX.dependency\n\t\t// we need to get them from assetDependency.assetX\n\t\tthis.dependencyA = this.getDependencyWithDates(this.dependencyA, assetDependency.assetA);\n\t\tthis.dependencyB = this.getDependencyWithDates(this.dependencyB, assetDependency.assetB);\n\t}\n\n\tprivate getDependencyWithDates(dependency: any, asset: any): any {\n\t\tif (!asset || !dependency) {\n\t\t\treturn dependency;\n\t\t}\n\n\t\tconst { dateCreated, lastUpdated }  = asset;\n\t\treturn Object.assign({}, dependency, { dateCreated, lastUpdated });\n\t}\n\n\tprotected cancelCloseDialog(): void {\n\t\tthis.dismiss();\n\t}\n\n}","import {TagModel} from '../../../assetTags/model/tag.model';\nimport {PreferenceService} from '../../../../shared/services/preference.service';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport {UIActiveDialogService, UIDialogService} from '../../../../shared/services/ui-dialog.service';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {OnInit, ViewChild} from '@angular/core';\nimport {NgForm} from '@angular/forms';\nimport {TagService} from '../../../assetTags/service/tag.service';\nimport {DIALOG_SIZE} from '../../../../shared/model/constants';\nimport {AssetShowComponent} from './asset-show.component';\nimport {equals as ramdaEquals, clone as ramdaClone} from 'ramda';\nimport {AssetCommonHelper} from './asset-common-helper';\n\ndeclare var jQuery: any;\n\nexport class AssetCommonEdit implements OnInit {\n\t@ViewChild('form') protected form: NgForm;\n\n\tprivate assetTagsDirty = false;\n\tprotected assetTagsModel: any = {tags: []};\n\tprotected newAssetTagsSelection: any = {tags: []};\n\tprotected tagList: Array<TagModel> = [];\n\tprotected dateFormat: string;\n\tprotected isDependenciesValidForm = true;\n\tprotected defaultSelectOption = 'Please Select';\n\tprotected defaultPlanStatus = 'Unassigned';\n\tprotected defaultValidation = 'Unknown';\n\tprotected isHighField = AssetCommonHelper.isHighField;\n\tprivate initialModel: any = null;\n\n\tconstructor(\n\t\tprotected model: any,\n\t\tprotected activeDialog: UIActiveDialogService,\n\t\tprotected preference: PreferenceService,\n\t\tprotected assetExplorerService: AssetExplorerService,\n\t\tprotected dialogService: UIDialogService,\n\t\tprotected notifierService: NotifierService,\n\t\tprotected tagService: TagService,\n\t\tprotected metadata: any,\n\t\tprivate promptService: UIPromptService) {\n\t\t\tthis.assetTagsModel = {tags: metadata.assetTags};\n\t\t\tthis.tagList = metadata.tagList;\n\t\t\tthis.dateFormat = this.preference.preferences['CURR_DT_FORMAT'];\n\t\t\tif (this.dateFormat && this.dateFormat !== null) {\n\t\t\t\tthis.dateFormat = this.dateFormat.toLowerCase().replace(/m/g, 'M');\n\t\t\t}\n\t}\n\t/**\n\t * Initiates The Injected Component\n\t */\n\tngOnInit(): void {\n\t\tjQuery('[data-toggle=\"popover\"]').popover();\n\t}\n\n\t/**\n\t * Save a reference to the initial model in order to detect changes later on\n\t */\n\tonInitDependenciesDone(model): void {\n\t\tthis.initialModel = ramdaClone(model);\n\t}\n\n\t/**\n\t * On Tag Selector change event.\n\t * @param $event\n\t */\n\tprotected onTagValueChange($event: any): void {\n\t\tthis.newAssetTagsSelection.tags = $event.tags;\n\t\tthis.assetTagsDirty = true;\n\t}\n\n\t/**\n\t * Used on Create Asset view.\n\t * Creates the tag associations if configured.\n\t */\n\tprotected createTags(assetId: number): void {\n\t\tlet tagsToAdd = {tags: []};\n\t\tif (this.newAssetTagsSelection.tags && this.newAssetTagsSelection.tags.length > 0) {\n\t\t\ttagsToAdd = this.newAssetTagsSelection;\n\t\t}\n\t\tthis.tagService.createAssetTags(assetId, tagsToAdd.tags.map( item => item.id)).subscribe( result => {\n\t\t\tthis.showAssetDetailView(this.model.asset.assetClass.name, assetId);\n\t\t}, error => console.error('Error while saving asset tags', error));\n\t}\n\n\t/**\n\t * Save Asset Tags configuration\n\t */\n\tprotected saveAssetTags(): void {\n\t\tlet tagsToAdd = {tags: []};\n\t\tlet tagsToDelete = {...this.assetTagsModel};\n\t\tthis.newAssetTagsSelection.tags.forEach((asset: TagModel) => {\n\t\t\tlet foundIndex = this.assetTagsModel.tags.findIndex( item => item.id === asset.id);\n\t\t\tif (foundIndex === -1) {\n\t\t\t\t// add tag\n\t\t\t\ttagsToAdd.tags.push(asset);\n\t\t\t} else {\n\t\t\t\t// tag remains\n\t\t\t\ttagsToDelete.tags.splice(foundIndex, 1);\n\t\t\t}\n\t\t});\n\t\tif (!this.assetTagsDirty ||\n\t\t\t(tagsToAdd.tags.length === 0 && tagsToDelete.tags.length === 0) ) {\n\t\t\tthis.showAssetDetailView(this.model.asset.assetClass.name, this.model.assetId);\n\t\t} else {\n\t\t\tthis.tagService.createAndDeleteAssetTags(this.model.assetId,\n\t\t\t\ttagsToAdd.tags.map( item => item.id),\n\t\t\t\ttagsToDelete.tags.map( item => item.assetTagId))\n\t\t\t\t.subscribe(result => {\n\t\t\t\t\tthis.showAssetDetailView(this.model.asset.assetClass.name, this.model.assetId);\n\t\t\t\t}, error => console.log('error when saving asset tags', error));\n\t\t}\n\t}\n\n\tprotected showAssetDetailView(assetClass: string, id: number) {\n\t\tthis.dialogService.replace(AssetShowComponent, [\n\t\t\t\t{ provide: 'ID', useValue: id },\n\t\t\t\t{ provide: 'ASSET', useValue: assetClass }],\n\t\t\tDIALOG_SIZE.LG);\n\t}\n\n\t/***\n\t * Close the Active Dialog\n\t */\n\tprotected cancelCloseDialog(): void {\n\t\tthis.activeDialog.close();\n\t}\n\n\t/**\n\t * Validate if the current content of the Dependencies is correct\n\t * @param {boolean} invalidForm\n\t */\n\tprotected onDependenciesValidationChange(validForm: boolean): void {\n\t\tthis.isDependenciesValidForm = validForm;\n\t}\n\n\t/**\n\t * Notify user there are changes\n\t */\n\tprotected promptSaveChanges(): void {\n\t\tthis.promptService.open(\n\t\t\t'Confirmation Required',\n\t\t\t'You have changes that have not been saved. Do you want to continue and lose those changes?',\n\t\t\t'Confirm', 'Cancel').then(result => {\n\t\t\tif (result) {\n\t\t\t\tthis.cancelCloseDialog();\n\t\t\t} else {\n\t\t\t\tthis.focusAssetModal();\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * On Cancel if there is changes notify user\n\t */\n\tprotected onCancelEdit(): void {\n\t\tif (this.assetTagsDirty || !ramdaEquals(this.initialModel, this.model)) {\n\t\t\tthis.promptSaveChanges();\n\t\t} else {\n\t\t\tthis.cancelCloseDialog();\n\t\t}\n\t}\n\n\t/**\n\t * Submit the form in case errors select the first invalid field\n\t */\n\tprotected submitForm(event): void {\n\t\tif (!this.form.onSubmit(event) ) {\n\t\t\tthis.focusFirstInvalidFieldInput();\n\t\t}\n\t}\n\n\t/**\n\t * Focus the first control that belongs to the asset entry form and has an invalid status\n\t */\n\tprivate focusFirstInvalidFieldInput(): void {\n\t\tjQuery('form.asset-entry-form .tm-input-control.ng-invalid:first').focus();\n\t}\n\n\t/**\n\t allows to delete the application assets\n\t */\n\tdeleteAsset(assetId) {\n\n\t\tthis.promptService.open('Confirmation Required',\n\t\t\t'You are about to delete the selected asset for which there is no undo. Are you sure? Click OK to delete otherwise press Cancel',\n\t\t\t'OK', 'Cancel')\n\t\t\t.then( success => {\n\t\t\t\tif (success) {\n\t\t\t\t\tthis.assetExplorerService.deleteAssets([assetId]).subscribe( res => {\n\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\tthis.notifierService.broadcast({\n\t\t\t\t\t\t\t\tname: 'reloadCurrentAssetList'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.activeDialog.dismiss();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, (error) => console.log(error));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => console.log(error));\n\t}\n\n\tprotected focusAssetModal(): void {\n\t\tsetTimeout(() => jQuery('.modal-content').focus(), 500);\n\t}\n\n\t/**\n\t * Focus a control matching by name\n\t */\n\tprotected focusControlByName(name): void {\n\t\t// delay selection until bootstrap effects are done\n\t\tsetTimeout(() => {\n\t\t\tjQuery(`form.asset-entry-form .tm-input-control[name='${name}']:first`).focus();\n\t\t}, 600);\n\t}\n}","/**\n * Class to group common functionality used by Show and Create/Edit assets view\n */\nexport class AssetCommonHelper {\n\t/**\n\t * Determine if the class belongs to Yellow and Green and if the value is set\n\t */\n\tstatic isHighField(importanceClass: string, value: string): boolean {\n\t\tconst isImportantClass = 'YG'.indexOf(importanceClass.toUpperCase()) !== -1;\n\t\treturn isImportantClass && Boolean(value) === false;\n\t}\n}\n","import {NotifierService} from '../../../../shared/services/notifier.service';\nimport {UIActiveDialogService, UIDialogService} from '../../../../shared/services/ui-dialog.service';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {DependecyService} from '../../service/dependecy.service';\nimport {HostListener, OnInit} from '@angular/core';\nimport {DIALOG_SIZE, DOMAIN, KEYSTROKE} from '../../../../shared/model/constants';\nimport {TagModel} from '../../../assetTags/model/tag.model';\nimport {AssetEditComponent} from './asset-edit.component';\nimport {AssetShowComponent} from './asset-show.component';\nimport {AssetDependencyComponent} from '../asset-dependency/asset-dependency.component';\nimport {PreferenceService} from '../../../../shared/services/preference.service';\nimport {AssetCommonHelper} from './asset-common-helper';\n\ndeclare var jQuery: any;\n\nexport class AssetCommonShow implements OnInit {\n\n\tprotected userDateFormat: string;\n\tprotected userTimeZone: string;\n\tprotected mainAsset;\n\tprotected assetTags: Array<TagModel>;\n\tprotected isHighField = AssetCommonHelper.isHighField;\n\n\tconstructor(\n\t\tprotected activeDialog: UIActiveDialogService,\n\t\tprotected dialogService: UIDialogService,\n\t\tprotected assetService: DependecyService,\n\t\tprotected prompt: UIPromptService,\n\t\tprotected assetExplorerService: AssetExplorerService,\n\t\tprotected notifierService: NotifierService,\n\t\tprotected preferenceService: PreferenceService) {\n\t\t\tjQuery('[data-toggle=\"popover\"]').popover();\n\t\t\tthis.userDateFormat = this.preferenceService.getUserDateFormatForMomentJS();\n\t\t\tthis.userTimeZone = this.preferenceService.getUserTimeZone();\n\t}\n\n\t@HostListener('keydown', ['$event']) handleKeyboardEvent(event: KeyboardEvent) {\n\t\tif (event && event.code === KEYSTROKE.ESCAPE) {\n\t\t\tthis.cancelCloseDialog();\n\t\t}\n\t}\n\n\t/**\n\t * Initiates The Injected Component\n\t */\n\tngOnInit(): void {\n\t\tjQuery('[data-toggle=\"popover\"]').popover();\n\t}\n\n\tcancelCloseDialog(): void {\n\t\tthis.activeDialog.dismiss();\n\t}\n\n\tshowAssetDetailView(assetClass: string, id: number) {\n\t\tthis.dialogService.replace(AssetShowComponent, [\n\t\t\t\t{ provide: 'ID', useValue: id },\n\t\t\t\t{ provide: 'ASSET', useValue: assetClass }],\n\t\t\tDIALOG_SIZE.LG);\n\t}\n\n\tshowDependencyView(assetId: number, dependencyAsset: number) {\n\t\tthis.assetService.getDependencies(assetId, dependencyAsset)\n\t\t\t.subscribe((result) => {\n\t\t\t\tthis.dialogService.extra(AssetDependencyComponent, [\n\t\t\t\t\t{ provide: 'ASSET_DEP_MODEL', useValue: result }])\n\t\t\t\t\t.then(res => console.log(res))\n\t\t\t\t\t.catch(res => console.log(res));\n\t\t\t}, (error) => console.log(error));\n\t}\n\n\t/**\n\t allows to delete the application assets\n\t */\n\tonDeleteAsset() {\n\n\t\tthis.prompt.open('Confirmation Required',\n\t\t\t'You are about to delete the selected asset for which there is no undo. Are you sure? Click OK to delete otherwise press Cancel',\n\t\t\t'OK', 'Cancel')\n\t\t\t.then( success => {\n\t\t\t\tif (success) {\n\t\t\t\t\tthis.assetExplorerService.deleteAssets([this.mainAsset.toString()]).subscribe( res => {\n\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\tthis.notifierService.broadcast({\n\t\t\t\t\t\t\t\tname: 'reloadCurrentAssetList'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.activeDialog.dismiss();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, (error) => console.log(error));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => console.log(error));\n\t}\n\n\tgetGraphUrl(): string {\n\t\treturn `/tdstm/assetEntity/architectureViewer?assetId=${this.mainAsset}&level=2`;\n\t}\n}","import {\n\tComponent,\n\tAfterViewInit,\n\tViewChild,\n\tViewContainerRef,\n\tInjector,\n\tCompiler,\n\tNgModuleRef,\n\tInject\n} from '@angular/core';\n\nimport {Observable} from 'rxjs/Observable';\nimport {HttpInterceptor} from '../../../../shared/providers/http-interceptor.provider';\nimport {DynamicComponent} from '../../../../shared/components/dynamic.component';\n\nimport {DatabaseCreateComponent} from '../database/database-create.component';\nimport {StorageCreateComponent} from '../storage/storage-create.component';\nimport {DeviceCreateComponent} from '../device/device-create.component';\nimport {ApplicationCreateComponent} from '../application/application-create.component';\nimport {ApiResponseModel} from '../../../../shared/model/ApiResponseModel';\nimport {TagService} from '../../../assetTags/service/tag.service';\n\n@Component({\n\tselector: `tds-asset-all-create`,\n\ttemplate: `<div #view></div>`\n})\nexport class AssetCreateComponent extends DynamicComponent implements AfterViewInit {\n\n\t@ViewChild('view', {read: ViewContainerRef}) view: ViewContainerRef;\n\n\tconstructor(\n\t\tinj: Injector,\n\t\tcomp: Compiler,\n\t\tmod: NgModuleRef<any>,\n\t\tprivate http: HttpInterceptor,\n\t\tprivate tagService: TagService,\n\t\t@Inject('ASSET') private asset: 'APPLICATION' | 'DATABASE' | 'DEVICE' | 'STORAGE') {\n\t\tsuper(inj, comp, mod);\n\t}\n\n\tngAfterViewInit() {\n\t\tthis.prepareMetadata().then( (metadata: any) => {\n\t\t\tObservable.zip(\n\t\t\t\tthis.http.get(`../ws/asset/createTemplate/${this.asset}`),\n\t\t\t\tthis.http.get(`../ws/asset/defaultCreateModel/${this.asset}`))\n\t\t\t\t.subscribe(res => {\n\t\t\t\t\tlet template = res[0].text();\n\t\t\t\t\tlet model = res[1].json();\n\n\t\t\t\t\t// Get the default custom values\n\t\t\t\t\tconst customs = {};\n\t\t\t\t\tObject.keys(model.asset || {})\n\t\t\t\t\t\t\t.filter((key: string) => key.startsWith('custom'))\n\t\t\t\t\t\t\t.forEach((key: string) => {\n\t\t\t\t\t\t\t\tif (model.asset[key]) {\n\t\t\t\t\t\t\t\t\tcustoms[key] = model.asset[key]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\tmodel.asset = customs;\n\n\t\t\t\t\tif (!model.moveBundleList && model.dependencyMap && model.dependencyMap.moveBundleList) {\n\t\t\t\t\t\tmodel.moveBundleList = model.dependencyMap.moveBundleList;\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\tswitch (this.asset) {\n\t\t\t\t\t\t\tcase 'APPLICATION':\n\t\t\t\t\t\t\t\tthis.registerAndCreate(ApplicationCreateComponent(template, model, metadata), this.view);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'DATABASE':\n\t\t\t\t\t\t\t\tthis.registerAndCreate(DatabaseCreateComponent(template, model, metadata), this.view);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'DEVICE':\n\t\t\t\t\t\t\t\tthis.registerAndCreate(DeviceCreateComponent(template, model, metadata), this.view);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'STORAGE':\n\t\t\t\t\t\t\t\tthis.registerAndCreate(StorageCreateComponent(template, model, metadata), this.view);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 700);\n\t\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * This is used to prepare/build common metadata/information share among the Asset components and send it to be\n\t * available.\n\t * @returns {Promise<any>}\n\t */\n\tprivate prepareMetadata(): Promise<any> {\n\t\tlet metadata: any = {};\n\t\tlet promises = [];\n\t\tpromises.push(this.getTagList(metadata));\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t// Result with all modification\n\t\t\tPromise.all(promises).then(function () {\n\t\t\t\tresolve(metadata);\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate getTagList(metadata): Promise<any> {\n\t\tlet promise = new Promise((resolve, reject) => {\n\t\t\t// Check for tags related to the asset.\n\t\t\tthis.tagService.getTags().subscribe( (result: ApiResponseModel) => {\n\t\t\t\tif (result.status === ApiResponseModel.API_SUCCESS) {\n\t\t\t\t\tmetadata.tagList = result.data;\n\t\t\t\t} else {\n\t\t\t\t\tmetadata.tagList = [];\n\t\t\t\t\tthis.handleError(result.errors ? result.errors[0] : 'Error on get tag list call');\n\t\t\t\t}\n\t\t\t\tresolve(metadata);\n\t\t\t}, error => {\n\t\t\t\tresolve(metadata);\n\t\t\t\tthis.handleError(error);\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t}\n\n\tprivate handleError(error: string): void {\n\t\tconsole.log(error);\n\t}\n\n}","import {\n\tComponent,\n\tAfterViewInit,\n\tViewChild,\n\tViewContainerRef,\n\tInjector,\n\tCompiler,\n\tNgModuleRef,\n\tInject\n} from '@angular/core';\n\nimport { Observable } from 'rxjs';\nimport { HttpInterceptor } from '../../../../shared/providers/http-interceptor.provider';\nimport { DynamicComponent } from '../../../../shared/components/dynamic.component';\n\nimport { DatabaseEditComponent } from '../database/database-edit.component';\nimport { StorageEditComponent } from  '../storage/storage-edit.component';\nimport {DeviceEditComponent} from '../device/device-edit.component';\nimport { ApplicationEditComponent } from '../application/application-edit.component';\nimport {ApiResponseModel} from '../../../../shared/model/ApiResponseModel';\nimport {TagService} from '../../../assetTags/service/tag.service';\nimport {TagModel} from '../../../assetTags/model/tag.model';\n\n@Component({\n\tselector: `tds-asset-all-edit`,\n\ttemplate: `<div #view></div>`\n})\nexport class AssetEditComponent extends DynamicComponent implements AfterViewInit {\n\n\t@ViewChild('view', {read: ViewContainerRef}) view: ViewContainerRef;\n\n\tconstructor(\n\t\tinj: Injector,\n\t\tcomp: Compiler,\n\t\tmod: NgModuleRef<any>,\n\t\tprivate http: HttpInterceptor,\n\t\tprivate tagService: TagService,\n\t\t@Inject('ID') private modelId: number,\n\t\t@Inject('ASSET') private asset: 'APPLICATION' | 'DATABASE' | 'DEVICE' | 'STORAGE') {\n\t\tsuper(inj, comp, mod);\n\t}\n\n\tngAfterViewInit() {\n\t\tthis.prepareMetadata().then( (metadata: any) => {\n\t\t\tObservable.zip(\n\t\t\t\tthis.http.get(`../ws/asset/editTemplate/${this.modelId}`),\n\t\t\t\tthis.http.get(`../ws/asset/editModel/${this.modelId}`))\n\t\t\t\t.subscribe(res => {\n\t\t\t\t\tlet template = res[0].text();\n\t\t\t\t\tlet model = res[1].json();\n\n\t\t\t\t\tswitch (this.asset) {\n\t\t\t\t\t\tcase 'APPLICATION':\n\t\t\t\t\t\t\tthis.registerAndCreate(ApplicationEditComponent(template, model, metadata), this.view);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'DATABASE':\n\t\t\t\t\t\t\tthis.registerAndCreate(DatabaseEditComponent(template, model, metadata), this.view);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'DEVICE':\n\t\t\t\t\t\t\tthis.registerAndCreate(DeviceEditComponent(template, model, metadata), this.view);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'STORAGE':\n\t\t\t\t\t\t\tthis.registerAndCreate(StorageEditComponent(template, model, metadata), this.view);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * This is used to prepare/build common metadata/information share among the Asset components and send it to be\n\t * available.\n\t * @returns {Promise<any>}\n\t */\n\tprivate prepareMetadata(): Promise<any> {\n\t\tlet metadata: any = {};\n\t\tlet promises = [];\n\t\tpromises.push(this.getAssetTags(metadata));\n\t\tpromises.push(this.getTagList(metadata));\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t// Result with all modification\n\t\t\tPromise.all(promises).then(function () {\n\t\t\t\tresolve(metadata);\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate getAssetTags(metadata): Promise<any> {\n\t\tlet promise = new Promise((resolve, reject) => {\n\t\t\t// Check for tags related to the asset.\n\t\t\tthis.tagService.getAssetTags(this.modelId).subscribe( (result: ApiResponseModel) => {\n\t\t\t\tif (result.status === ApiResponseModel.API_SUCCESS) {\n\t\t\t\t\tmetadata.assetTags = result.data;\n\t\t\t\t} else {\n\t\t\t\t\tmetadata.assetTags = [];\n\t\t\t\t\tthis.handleError(result.errors ? result.errors[0] : 'Error on tags by asset id call');\n\t\t\t\t}\n\t\t\t\tresolve(metadata);\n\t\t\t}, error => {\n\t\t\t\tresolve(metadata);\n\t\t\t\tthis.handleError(error);\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t}\n\n\tprivate getTagList(metadata): Promise<any> {\n\t\tlet promise = new Promise((resolve, reject) => {\n\t\t\t// Check for tags related to the asset.\n\t\t\tthis.tagService.getTags().subscribe( (result: ApiResponseModel) => {\n\t\t\t\tif (result.status === ApiResponseModel.API_SUCCESS) {\n\t\t\t\t\tmetadata.tagList = result.data;\n\t\t\t\t} else {\n\t\t\t\t\tmetadata.tagList = [];\n\t\t\t\t\tthis.handleError(result.errors ? result.errors[0] : 'Error on get tag list call');\n\t\t\t\t}\n\t\t\t\tresolve(metadata);\n\t\t\t}, error => {\n\t\t\t\tresolve(metadata);\n\t\t\t\tthis.handleError(error);\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t}\n\n\tprivate handleError(error: string): void {\n\t\tconsole.log(error);\n\t}\n\n}","import {\n\tComponent,\n\tAfterViewInit,\n\tViewChild,\n\tViewContainerRef,\n\tInjector,\n\tCompiler,\n\tNgModuleRef,\n\tInject\n} from '@angular/core';\n\nimport { HttpInterceptor } from '../../../../shared/providers/http-interceptor.provider';\nimport { DynamicComponent } from '../../../../shared/components/dynamic.component';\n\nimport { DatabaseShowComponent } from '../database/database-show.component';\nimport { ApplicationShowComponent } from '../application/application-show.component';\nimport { DeviceShowComponent } from '../device/device-show.component';\nimport { StorageShowComponent } from '../storage/storage-show.component';\n\nimport { AssetExplorerModule } from '../../asset-explorer.module';\nimport {TagService} from '../../../assetTags/service/tag.service';\nimport {ApiResponseModel} from '../../../../shared/model/ApiResponseModel';\n\n@Component({\n\tselector: `tds-asset-all-show`,\n\ttemplate: `<div #view></div>`\n})\nexport class AssetShowComponent extends DynamicComponent implements AfterViewInit {\n\n\tconstructor(\n\t\tinj: Injector,\n\t\tcomp: Compiler,\n\t\tmod: NgModuleRef<any>,\n\t\tprivate http: HttpInterceptor,\n\t\tprivate tagService: TagService,\n\t\t@Inject('ID') private modelId: number,\n\t\t@Inject('ASSET') private asset: 'APPLICATION' | 'DATABASE' | 'DEVICE' | 'STORAGE') {\n\t\tsuper(inj, comp, mod);\n\t}\n\t@ViewChild('view', { read: ViewContainerRef }) view: ViewContainerRef;\n\n\tngAfterViewInit() {\n\t\tthis.prepareMetadata().then( (metadata: any) => {\n\t\t\tthis.http.get(`../ws/asset/showTemplate/${this.modelId}`).subscribe(res => {\n\t\t\t\tlet template = res.text();\n\t\t\t\tconst additionalImports = [AssetExplorerModule];\n\t\t\t\tswitch (this.asset) {\n\t\t\t\t\tcase 'APPLICATION':\n\t\t\t\t\t\tthis.registerAndCreate(ApplicationShowComponent(template, this.modelId, metadata), this.view, additionalImports);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'DATABASE':\n\t\t\t\t\t\tthis.registerAndCreate(DatabaseShowComponent(template, this.modelId, metadata), this.view, additionalImports);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'DEVICE':\n\t\t\t\t\t\tthis.registerAndCreate(DeviceShowComponent(template, this.modelId, metadata), this.view, additionalImports);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'STORAGE':\n\t\t\t\t\t\tthis.registerAndCreate(StorageShowComponent(template, this.modelId, metadata), this.view, additionalImports);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * This is used to prepare/build common metadata/information share among the Asset components and send it to be\n\t * available.\n\t * @returns {Promise<any>}\n\t */\n\tprivate prepareMetadata(): Promise<any> {\n\t\tlet metadata: any = {};\n\t\tlet promise = new Promise((resolve, reject) => {\n\t\t\t// Check for tags related to the asset.\n\t\t\tthis.tagService.getAssetTags(this.modelId).subscribe( (result: ApiResponseModel) => {\n\t\t\t\tif (result.status === ApiResponseModel.API_SUCCESS) {\n\t\t\t\t\tmetadata.assetTags = result.data;\n\t\t\t\t} else {\n\t\t\t\t\tmetadata.assetTags = [];\n\t\t\t\t\tthis.handleError(result.errors ? result.errors[0] : 'Error on tags by asset id call');\n\t\t\t\t}\n\t\t\t\tresolve(metadata);\n\t\t\t}, error => {\n\t\t\t\tresolve(metadata);\n\t\t\t\tthis.handleError(error);\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t}\n\n\tprivate handleError(error: string): void {\n\t\tconsole.log(error);\n\t}\n\n}","/**\n *  The component is being used dynamically, some vars will show as not being used or referenced but they could be part\n *  of the GSP\n *\n *  Use angular/views/TheAssetType as reference\n */\nimport {Component, Inject, OnInit} from '@angular/core';\nimport {UIActiveDialogService, UIDialogService} from '../../../../shared/services/ui-dialog.service';\nimport {PreferenceService} from '../../../../shared/services/preference.service';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport * as R from 'ramda';\nimport {TagService} from '../../../assetTags/service/tag.service';\nimport {AssetCommonEdit} from '../asset/asset-common-edit';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {ASSET_ENTITY_DIALOG_TYPES} from '../../model/asset-entity.model';\n\ndeclare var jQuery: any;\n\nexport function DatabaseCreateComponent(template, model: any, metadata: any) {\n\n\t@Component({\n\t\tselector: `tds-database-create`,\n\t\ttemplate: template,\n\t\tproviders: [\n\t\t\t{ provide: 'model', useValue: model }\n\t\t]\n\t}) class DatabaseCreateComponent extends AssetCommonEdit implements OnInit {\n\t\tconstructor(\n\t\t\t@Inject('model') model: any,\n\t\t\tactiveDialog: UIActiveDialogService,\n\t\t\tpreference: PreferenceService,\n\t\t\tassetExplorerService: AssetExplorerService,\n\t\t\tdialogService: UIDialogService,\n\t\t\tnotifierService: NotifierService,\n\t\t\ttagService: TagService,\n\t\t\tpromptService: UIPromptService) {\n\n\t\t\tsuper(model, activeDialog, preference, assetExplorerService, dialogService, notifierService, tagService, metadata, promptService);\n\t\t}\n\n\t\tngOnInit() {\n\t\t\tthis.model.asset.retireDate = null;\n\t\t\tthis.model.asset.maintExpDate = null;\n\n\t\t\tthis.model.asset.moveBundle = this.model.dependencyMap.moveBundleList[0];\n\t\t\tthis.model.asset.planStatus = this.model.planStatusOptions[0];\n\t\t\tthis.model.asset.environment = '';\n\t\t\tthis.model.asset.scale = null;\n\t\t\tthis.model.asset.validation = this.defaultValidation;\n\t\t\tthis.focusControlByName('assetName')\n\t\t}\n\n\t\t/**\n\t\t * Prepare te model and format all pending changes\n\t\t */\n\t\tpublic onCreate(): void {\n\t\t\tlet modelRequest = R.clone(this.model);\n\n\t\t\t// Scale Format\n\t\t\tmodelRequest.asset.scale = (modelRequest.asset.scale && modelRequest.asset.scale.value) ? modelRequest.asset.scale.value : modelRequest.asset.scale;\n\n\t\t\t// MoveBundle\n\t\t\tmodelRequest.asset.moveBundleId = modelRequest.asset.moveBundle.id;\n\n\t\t\t// AssetClass\n\t\t\tmodelRequest.asset.assetClass = {\n\t\t\t\tname: ASSET_ENTITY_DIALOG_TYPES.DATABASE\n\t\t\t};\n\t\t\tthis.model.asset.assetClass = modelRequest.asset.assetClass;\n\n\t\t\tmodelRequest.asset.environment = modelRequest.asset.environment === this.defaultSelectOption ?\n\t\t\t\t''\t : modelRequest.asset.environment;\n\n\t\t\tthis.assetExplorerService.createAsset(modelRequest).subscribe((result) => {\n\t\t\t\tthis.notifierService.broadcast({\n\t\t\t\t\tname: 'reloadCurrentAssetList'\n\t\t\t\t});\n\t\t\t\tif (result.id && !isNaN(result.id) && result.id > 0) {\n\t\t\t\t\tthis.createTags(result.id);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\treturn DatabaseCreateComponent;\n}","/**\n *  The component is being used dynamically, some vars will show as not being used or referenced but they could be part\n *  of the GSP\n *\n *  Use angular/views/TheAssetType as reference\n */\nimport {Component, Inject, OnInit} from '@angular/core';\nimport {UIActiveDialogService, UIDialogService} from '../../../../shared/services/ui-dialog.service';\nimport {PreferenceService} from '../../../../shared/services/preference.service';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {DateUtils} from '../../../../shared/utils/date.utils';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport * as R from 'ramda';\nimport {TagService} from '../../../assetTags/service/tag.service';\nimport {ApiResponseModel} from '../../../../shared/model/ApiResponseModel';\nimport {AssetCommonEdit} from '../asset/asset-common-edit';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\n\ndeclare var jQuery: any;\n\nexport function DatabaseEditComponent(template, editModel, metadata: any) {\n\n\t@Component({\n\t\tselector: `tds-database-edit`,\n\t\ttemplate: template,\n\t\tproviders: [\n\t\t\t{ provide: 'model', useValue: editModel }\n\t\t]\n\t}) class DatabaseShowComponent extends AssetCommonEdit implements OnInit {\n\t\tconstructor(\n\t\t\t@Inject('model') model: any,\n\t\t\tactiveDialog: UIActiveDialogService,\n\t\t\tpreference: PreferenceService,\n\t\t\tassetExplorerService: AssetExplorerService,\n\t\t\tdialogService: UIDialogService,\n\t\t\tnotifierService: NotifierService,\n\t\t\ttagService: TagService,\n\t\t\tpromptService: UIPromptService) {\n\n\t\t\tsuper(model, activeDialog, preference, assetExplorerService, dialogService, notifierService, tagService, metadata, promptService);\n\t\t}\n\n\t\tngOnInit() {\n\t\t\tthis.model.asset = R.clone(editModel.asset);\n\n\t\t\tif (this.model.asset.scale && this.model.asset.scale.name) {\n\t\t\t\tthis.model.asset.scale = { value: this.model.asset.scale.name, text: ''}\n\t\t\t}\n\t\t\tthis.model.asset.environment = this.model.asset.environment || '';\n\n\t\t\tthis.focusControlByName('assetName');\n\t\t}\n\n\t\t/**\n\t\t * Prepare te model and format all pending changes\n\t\t */\n\t\tpublic onUpdate(): void {\n\t\t\tlet modelRequest = R.clone(this.model);\n\t\t\t// Scale Format\n\t\t\tmodelRequest.asset.scale = (modelRequest.asset.scale && modelRequest.asset.scale.value) ? modelRequest.asset.scale.value : modelRequest.asset.scale;\n\t\t\tthis.model.customs.forEach((custom: any) => {\n\t\t\t\tlet customValue = modelRequest.asset[custom.field.toString()];\n\t\t\t\tif (customValue && customValue.value) {\n\t\t\t\t\tmodelRequest.asset[custom.field.toString()] = customValue.value;\n\t\t\t\t}\n\t\t\t});\n\t\t\tmodelRequest.asset.moveBundleId = modelRequest.asset.moveBundle.id;\n\t\t\tdelete modelRequest.asset.moveBundle;\n\n\t\t\tmodelRequest.asset.environment = modelRequest.asset.environment === this.defaultSelectOption ?\n\t\t\t\t''\t : modelRequest.asset.environment;\n\n\t\t\tthis.assetExplorerService.saveAsset(modelRequest).subscribe((result) => {\n\t\t\t\tthis.notifierService.broadcast({\n\t\t\t\t\tname: 'reloadCurrentAssetList'\n\t\t\t\t});\n\t\t\t\tif (result === ApiResponseModel.API_SUCCESS || result === 'Success!') {\n\t\t\t\t\tthis.saveAssetTags();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tonDeleteAsset() {\n\t\t\tthis.deleteAsset(this.model.asset.id);\n\t\t}\n\t}\n\n\treturn DatabaseShowComponent;\n}","import { Component} from '@angular/core';\nimport { UIActiveDialogService, UIDialogService } from '../../../../shared/services/ui-dialog.service';\nimport { AssetEditComponent } from '../asset/asset-edit.component';\nimport { DependecyService } from '../../service/dependecy.service';\nimport {DIALOG_SIZE, DOMAIN} from '../../../../shared/model/constants';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport {AssetModalModel} from '../../model/asset-modal.model';\nimport {AssetCloneComponent} from '../asset-clone/asset-clone.component';\nimport {CloneCLoseModel} from '../../model/clone-close.model';\nimport {AssetCommonShow} from '../asset/asset-common-show';\nimport {PreferenceService} from '../../../../shared/services/preference.service';\nimport {AssetCommonHelper} from '../asset/asset-common-helper';\n\nexport function DatabaseShowComponent(template, modelId: number, metadata: any) {\n\t@Component({\n\t\tselector: `tds-database-show`,\n\t\ttemplate: template\n\t})\n\tclass DatabaseShowComponent extends AssetCommonShow {\n\n\t\tconstructor(\n\t\t\tactiveDialog: UIActiveDialogService,\n\t\t\tdialogService: UIDialogService,\n\t\t\tassetService: DependecyService,\n\t\t\tprompt: UIPromptService,\n\t\t\tassetExplorerService: AssetExplorerService,\n\t\t\tnotifierService: NotifierService,\n\t\t\tpreferenceService: PreferenceService) {\n\t\t\t\tsuper(activeDialog, dialogService, assetService, prompt, assetExplorerService, notifierService, preferenceService);\n\t\t\t\tthis.mainAsset = modelId;\n\t\t\t\tthis.assetTags = metadata.assetTags;\n\t\t}\n\n\t\tshowAssetEditView() {\n\t\t\tthis.dialogService.replace(AssetEditComponent, [\n\t\t\t\t\t{ provide: 'ID', useValue: this.mainAsset },\n\t\t\t\t\t{ provide: 'ASSET', useValue: DOMAIN.DATABASE }],\n\t\t\t\tDIALOG_SIZE.LG);\n\t\t}\n\n\t\t/**\n\t\t * Allows to clone an application asset\n\t\t */\n\t\tonCloneAsset(): void {\n\n\t\t\tconst cloneModalModel: AssetModalModel = {\n\t\t\t\tassetType: DOMAIN.DATABASE,\n\t\t\t\tassetId: this.mainAsset\n\t\t\t}\n\t\t\tthis.dialogService.extra(AssetCloneComponent, [\n\t\t\t\t{provide: AssetModalModel, useValue: cloneModalModel}\n\t\t\t], false, false).then( (result: CloneCLoseModel)  => {\n\n\t\t\t\tif (result.clonedAsset && result.showEditView) {\n\t\t\t\t\tconst componentParameters = [\n\t\t\t\t\t\t{ provide: 'ID', useValue: result.assetId },\n\t\t\t\t\t\t{ provide: 'ASSET', useValue: DOMAIN.DATABASE }\n\t\t\t\t\t];\n\n\t\t\t\t\tthis.dialogService\n\t\t\t\t\t\t.replace(AssetEditComponent, componentParameters, DIALOG_SIZE.XLG);\n\t\t\t\t} else if (!result.clonedAsset && result.showView) {\n\t\t\t\t\tthis.showAssetDetailView(DOMAIN.DATABASE, result.assetId);\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.catch( error => console.log('error', error));\n\t\t}\n\n\t}\n\treturn DatabaseShowComponent;\n}","/**\n *  The component is being used dynamically, some vars will show as not being used or referenced but they could be part\n *  of the GSP\n *\n *  Use angular/views/TheAssetType as reference\n */\n\nimport * as R from 'ramda';\nimport {Component, Inject, OnInit } from '@angular/core';\nimport {UIActiveDialogService, UIDialogService} from '../../../../shared/services/ui-dialog.service';\nimport {PreferenceService} from '../../../../shared/services/preference.service';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport {TagService} from '../../../assetTags/service/tag.service';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {ASSET_ENTITY_DIALOG_TYPES} from '../../model/asset-entity.model';\nimport {DeviceCommonComponent} from './model-device/device-common.component';\n\ndeclare var jQuery: any;\n\nexport function DeviceCreateComponent(template, model: any, metadata: any) {\n\n\t@Component({\n\t\tselector: `tds-device-create`,\n\t\ttemplate: template,\n\t\tproviders: [\n\t\t\t{ provide: 'model', useValue: model }\n\t\t]\n\t}) class DeviceCreateComponent extends DeviceCommonComponent implements OnInit {\n\t\tconstructor(\n\t\t\t@Inject('model') model: any,\n\t\t\tactiveDialog: UIActiveDialogService,\n\t\t\tpreference: PreferenceService,\n\t\t\tassetExplorerService: AssetExplorerService,\n\t\t\tdialogService: UIDialogService,\n\t\t\tnotifierService: NotifierService,\n\t\t\ttagService: TagService,\n\t\t\tpromptService: UIPromptService) {\n\n\t\t\tsuper(model, activeDialog, preference, assetExplorerService, dialogService, notifierService, tagService, metadata, promptService);\n\n\t\t}\n\n\t\tngOnInit() {\n\t\t\tthis.initModel();\n\t\t\tthis.toggleAssetTypeFields();\n\t\t\tthis.focusControlByName('assetName');\n\t\t}\n\n\t\t/**\n\t\t * Init model with necessary changes to support UI components.\n\t\t */\n\t\tprivate initModel(): void {\n\t\t\tthis.model.sourceRoomSelect = [this.defaultRoom, ...this.model.sourceRoomSelect];\n\t\t\tthis.model.targetRoomSelect = [this.defaultRoom, ...this.model.targetRoomSelect];\n\t\t\tthis.model.rackSourceOptions = [this.defaultRoom, ...this.model.rackSourceOptions];\n\t\t\tthis.model.rackTargetOptions = [this.defaultRoom, ...this.model.rackTargetOptions];\n\t\t\tthis.model.bladeSourceOptions = [this.defaultRoom, ...this.model.bladeSourceOptions];\n\t\t\tthis.model.bladeTargetOptions = [this.defaultRoom, ...this.model.bladeTargetOptions];\n\n\t\t\tthis.model.asset.assetTypeSelectValue = {id: null};\n\t\t\tthis.model.asset.manufacturerSelectValue = {id: null};\n\t\t\tthis.model.asset.modelSelectValue = {id: null};\n\t\t\tthis.model.asset.moveBundle = this.model.dependencyMap.moveBundleList[0];\n\t\t\tthis.model.asset.planStatus = this.defaultPlanStatus;\n\t\t\tthis.model.asset.validation = this.defaultValidation;\n\t\t\tthis.model.asset.environment = '';\n\t\t\tthis.model.asset.priority = '';\n\t\t\tthis.model.asset.roomSource = this.defaultRoom;\n\t\t\tthis.model.asset.roomTarget = this.defaultRoom;\n\t\t\tthis.model.asset.rackSource = this.defaultRoom;\n\t\t\tthis.model.asset.rackTarget = this.defaultRoom;\n\t\t\tthis.model.sourceChassis = this.defaultRoom;\n\t\t\tthis.model.targetChassis = this.defaultRoom;\n\t\t\tthis.model.asset.scale = null;\n\t\t}\n\n\t\t/**\n\t\t * On Update button click save the current model form.\n\t\t * Method makes proper model modification to send the correct information to\n\t\t * the endpoint.\n\t\t */\n\t\tprivate onCreate(): void {\n\t\t\tlet modelRequest = R.clone(this.model);\n\n\t\t\tthis.prepareModelRequestToSave(modelRequest);\n\n\t\t\t// MoveBundle\n\t\t\tmodelRequest.asset.moveBundleId = modelRequest.asset.moveBundle.id;\n\n\t\t\t// AssetClass\n\t\t\tmodelRequest.asset.assetClass = {\n\t\t\t\tname: ASSET_ENTITY_DIALOG_TYPES.DEVICE\n\t\t\t};\n\t\t\tthis.model.asset.assetClass = modelRequest.asset.assetClass;\n\n\t\t\tthis.assetExplorerService.createAsset(modelRequest).subscribe((result) => {\n\t\t\t\tthis.notifierService.broadcast({\n\t\t\t\t\tname: 'reloadCurrentAssetList'\n\t\t\t\t});\n\t\t\t\tif (result.id && !isNaN(result.id) && result.id > 0) {\n\t\t\t\t\tthis.createTags(result.id);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\treturn DeviceCreateComponent;\n}","/**\n *  The component is being used dynamically, some vars will show as not being used or referenced but they could be part\n *  of the GSP\n *\n *  Use angular/views/TheAssetType as reference\n */\n\nimport * as R from 'ramda';\nimport {Component, Inject, OnInit} from '@angular/core';\nimport {UIActiveDialogService, UIDialogService} from '../../../../shared/services/ui-dialog.service';\nimport {PreferenceService} from '../../../../shared/services/preference.service';\nimport {DateUtils} from '../../../../shared/utils/date.utils';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {ComboBoxSearchModel} from '../../../../shared/components/combo-box/model/combobox-search-param.model';\nimport {Observable} from 'rxjs';\nimport {ComboBoxSearchResultModel} from '../../../../shared/components/combo-box/model/combobox-search-result.model';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport {ApiResponseModel} from '../../../../shared/model/ApiResponseModel';\nimport {TagService} from '../../../assetTags/service/tag.service';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {DeviceCommonComponent} from './model-device/device-common.component';\n\ndeclare var jQuery: any;\n\nexport function DeviceEditComponent(template, editModel, metadata: any) {\n\n\t@Component({\n\t\tselector: `tds-device-edit`,\n\t\ttemplate: template,\n\t\tproviders: [\n\t\t\t{ provide: 'model', useValue: editModel }\n\t\t]\n\t}) class DeviceEditComponent extends DeviceCommonComponent implements OnInit {\n\t\tconstructor(\n\t\t\t@Inject('model') model: any,\n\t\t\tactiveDialog: UIActiveDialogService,\n\t\t\tpreference: PreferenceService,\n\t\t\tassetExplorerService: AssetExplorerService,\n\t\t\tdialogService: UIDialogService,\n\t\t\tnotifierService: NotifierService,\n\t\t\ttagService: TagService,\n\t\t\tpromptService: UIPromptService) {\n\n\t\t\tsuper(model, activeDialog, preference, assetExplorerService, dialogService, notifierService, tagService, metadata, promptService);\n\t\t}\n\n\t\tngOnInit() {\n\t\t\tthis.initModel();\n\t\t\tthis.toggleAssetTypeFields();\n\t\t\tthis.focusControlByName('assetName');\n\t\t}\n\n\t\t/**\n\t\t * Init model with necessary changes to support UI components.\n\t\t */\n\t\tprivate initModel(): void {\n\t\t\tthis.model.asset = R.clone(editModel.asset);\n\n\t\t\tthis.model.sourceRoomSelect = [this.defaultRoom, ...this.model.sourceRoomSelect];\n\t\t\tthis.model.targetRoomSelect = [this.defaultRoom, ...this.model.targetRoomSelect];\n\n\t\t\tthis.model.asset.priority = (this.model.asset.priority || '').toString();\n\n\t\t\tif (this.model.asset.scale && this.model.asset.scale.name) {\n\t\t\t\tthis.model.asset.scale = { value: this.model.asset.scale.name, text: ''}\n\t\t\t}\n\n\t\t\tthis.model.asset.assetTypeSelectValue = {id: null};\n\t\t\tif (this.model.asset.assetType) {\n\t\t\t\tthis.model.asset.assetTypeSelectValue.id = this.model.asset.assetType;\n\t\t\t\tthis.model.asset.assetTypeSelectValue.text = this.model.asset.assetType;\n\t\t\t}\n\t\t\tthis.model.asset.manufacturerSelectValue = {id: null};\n\t\t\tif (this.model.asset.manufacturer) {\n\t\t\t\tthis.model.asset.manufacturerSelectValue.id = this.model.asset.manufacturer.id;\n\t\t\t\tthis.model.asset.manufacturerSelectValue.text = this.model.manufacturerName;\n\t\t\t}\n\t\t\tthis.model.asset.modelSelectValue = {id: null};\n\t\t\tif (this.model.asset.model) {\n\t\t\t\tthis.model.asset.modelSelectValue.id = this.model.asset.model.id;\n\t\t\t\tthis.model.asset.modelSelectValue.text = this.model.modelName;\n\t\t\t}\n\t\t\tif (this.model.sourceRackSelect) {\n\t\t\t\tthis.rackSourceOptions = [this.defaultRoom,  ...this.model.sourceRackSelect];\n\t\t\t}\n\t\t\tif (this.model.targetRackSelect) {\n\t\t\t\tthis.rackTargetOptions = [this.defaultRoom,  ...this.model.targetRackSelect];\n\t\t\t}\n\t\t\tif (this.model.sourceChassisSelect) {\n\t\t\t\tthis.bladeSourceOptions = [this.defaultRoom, ...this.model.sourceChassisSelect];\n\t\t\t}\n\t\t\tif (this.model.targetChassisSelect) {\n\t\t\t\tthis.bladeTargetOptions = [this.defaultRoom, this.model.targetChassisSelect];\n\t\t\t}\n\n\t\t\tthis.model.asset.roomSource = this.model.asset.roomSource || this.defaultRoom;\n\t\t\tthis.model.asset.roomTarget = this.model.asset.roomTarget ||  this.defaultRoom;\n\t\t\tthis.model.asset.rackSource = this.model.asset.rackSource || this.defaultRoom;\n\t\t\tthis.model.asset.rackTarget = this.model.asset.rackTarget || this.defaultRoom;\n\t\t\tthis.model.asset.sourceChassis = this.model.asset.sourceChassis || this.defaultRoom;\n\t\t\tthis.model.asset.targetChassis = this.model.asset.targetChassis || this.defaultRoom;\n\n\t\t\tthis.model.asset.scale = this.model.asset.scale || null;\n\n\t\t}\n\n\t\t/**\n\t\t * On Update button click save the current model form.\n\t\t * Method makes proper model modification to send the correct information to\n\t\t * the endpoint.\n\t\t */\n\t\tprivate onUpdate(): void {\n\t\t\tlet modelRequest = R.clone(this.model);\n\n\t\t\tthis.prepareModelRequestToSave(modelRequest);\n\n\t\t\t// MoveBundle\n\t\t\tmodelRequest.asset.moveBundleId = modelRequest.asset.moveBundle.id;\n\t\t\tdelete modelRequest.asset.moveBundle;\n\n\t\t\t// Custom Fields\n\t\t\tthis.model.customs.forEach((custom: any) => {\n\t\t\t\tlet customValue = modelRequest.asset[custom.field.toString()];\n\t\t\t\tif (customValue && customValue.value) {\n\t\t\t\t\tmodelRequest.asset[custom.field.toString()] = customValue.value;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.assetExplorerService.saveAsset(modelRequest).subscribe((result) => {\n\t\t\t\tthis.notifierService.broadcast({\n\t\t\t\t\tname: 'reloadCurrentAssetList'\n\t\t\t\t});\n\t\t\t\tif (result === ApiResponseModel.API_SUCCESS || result === 'Success!') {\n\t\t\t\t\tthis.saveAssetTags();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tprotected onDeleteAsset() {\n\t\t\tthis.deleteAsset(this.model.asset.id);\n\t\t}\n\n\t}\n\treturn DeviceEditComponent;\n}","import {Component} from '@angular/core';\nimport { UIActiveDialogService, UIDialogService } from '../../../../shared/services/ui-dialog.service';\nimport { DependecyService } from '../../service/dependecy.service';\nimport {DIALOG_SIZE, DOMAIN} from '../../../../shared/model/constants';\nimport {AssetEditComponent} from '../asset/asset-edit.component';\nimport { DeviceModel } from './model-device/model/device-model.model';\nimport { DeviceManufacturer } from './manufacturer/model/device-manufacturer.model';\nimport { ModelDeviceShowComponent } from './model-device/components/model-device-show/model-device-show.component';\nimport { ManufacturerShowComponent } from './manufacturer/components/manufacturer-show/manufacturer-show.component';\nimport {ModelService} from '../../service/model.service';\nimport {ManufacturerService} from '../../service/manufacturer.service';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport {AssetModalModel} from '../../model/asset-modal.model';\nimport {AssetCloneComponent} from '../asset-clone/asset-clone.component';\nimport {CloneCLoseModel} from '../../model/clone-close.model';\nimport {AssetCommonShow} from '../asset/asset-common-show';\nimport {PreferenceService} from '../../../../shared/services/preference.service';\nimport {AssetCommonHelper} from '../asset/asset-common-helper';\n\nexport function DeviceShowComponent(template, modelId: number, metadata: any) {\n\t@Component({\n\t\tselector: `tds-device-show`,\n\t\ttemplate: template\n\t})\n\tclass DeviceShowComponent extends AssetCommonShow {\n\n\t\tprotected manufacturerName: string;\n\n\t\tconstructor(\n\t\t\tactiveDialog: UIActiveDialogService,\n\t\t\tdialogService: UIDialogService,\n\t\t\tassetService: DependecyService,\n\t\t\tprivate modelService: ModelService,\n\t\t\tprivate manufacturerService: ManufacturerService,\n\t\t\tprompt: UIPromptService,\n\t\t\tassetExplorerService: AssetExplorerService,\n\t\t\tnotifierService: NotifierService,\n\t\t\tpreferenceService: PreferenceService) {\n\t\t\t\tsuper(activeDialog, dialogService, assetService, prompt, assetExplorerService, notifierService, preferenceService);\n\t\t\t\tthis.mainAsset = modelId;\n\t\t\t\tthis.assetTags = metadata.assetTags;\n\t\t\t\tthis.manufacturerName = null;\n\t\t}\n\n\t\tgetManufacturer(manufacturerName): string {\n\t\t\tif (this.manufacturerName === null) {\n\t\t\t\tthis.manufacturerName = manufacturerName;\n\t\t\t}\n\t\t\treturn this.manufacturerName;\n\t\t}\n\n\t\tshowModel(id: string): void {\n\t\t\tthis.modelService.getModelAsJSON(id)\n\t\t\t\t.subscribe((deviceModel: DeviceModel) => {\n\t\t\t\t\tthis.dialogService.extra(ModelDeviceShowComponent,\n\t\t\t\t\t\t[UIDialogService,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tprovide: DeviceModel,\n\t\t\t\t\t\t\t\tuseValue: deviceModel\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t], false, false)\n\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\tconsole.log(result);\n\t\t\t\t\t\t}).catch((error) => console.log(error));\n\t\t\t\t});\n\t\t}\n\n\t\tshowManufacturer(id: string): void {\n\t\t\tthis.manufacturerService.getDeviceManufacturer(id)\n\t\t\t\t.subscribe((deviceManufacturer: DeviceManufacturer) => {\n\n\t\t\t\t\tthis.dialogService.extra(ManufacturerShowComponent,\n\t\t\t\t\t\t[UIDialogService,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tprovide: DeviceManufacturer,\n\t\t\t\t\t\t\t\tuseValue: deviceManufacturer\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t], false, false)\n\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\t\tthis.manufacturerName = result.name;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch((error) => console.log(error));\n\t\t\t\t});\n\t\t}\n\n\t\tshowAssetEditView() {\n\t\t\tthis.dialogService.replace(AssetEditComponent, [\n\t\t\t\t\t{ provide: 'ID', useValue: this.mainAsset },\n\t\t\t\t\t{ provide: 'ASSET', useValue: DOMAIN.DEVICE }],\n\t\t\t\tDIALOG_SIZE.LG);\n\t\t}\n\n\t\t/**\n\t\t * Allows to clone an application asset\n\t\t */\n\t\tonCloneAsset(): void {\n\n\t\t\tconst cloneModalModel: AssetModalModel = {\n\t\t\t\tassetType: DOMAIN.DEVICE,\n\t\t\t\tassetId: this.mainAsset\n\t\t\t}\n\t\t\tthis.dialogService.extra(AssetCloneComponent, [\n\t\t\t\t{provide: AssetModalModel, useValue: cloneModalModel}\n\t\t\t], false, false).then( (result: CloneCLoseModel)  => {\n\n\t\t\t\tif (result.clonedAsset && result.showEditView) {\n\t\t\t\t\tconst componentParameters = [\n\t\t\t\t\t\t{ provide: 'ID', useValue: result.assetId },\n\t\t\t\t\t\t{ provide: 'ASSET', useValue: DOMAIN.DEVICE }\n\t\t\t\t\t];\n\n\t\t\t\t\tthis.dialogService\n\t\t\t\t\t\t.replace(AssetEditComponent, componentParameters, DIALOG_SIZE.XLG);\n\t\t\t\t} else if (!result.clonedAsset && result.showView) {\n\t\t\t\t\tthis.showAssetDetailView(DOMAIN.DEVICE, result.assetId);\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.catch( error => console.log('error', error));\n\t\t}\n\n\t}\n\treturn DeviceShowComponent;\n}","import { Component } from '@angular/core';\nimport { UIExtraDialog } from '../../../../../../../shared/services/ui-dialog.service';\nimport { UIPromptService } from '../../../../../../../shared/directives/ui-prompt.directive';\nimport { DeviceManufacturer } from '../../model/device-manufacturer.model';\nimport {AkaChanges} from '../../../../../../../shared/components/aka/model/aka.model';\nimport {ManufacturerService} from '../../../../../service/manufacturer.service';\n\n@Component({\n\tselector: 'device-manufacturer-edit',\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/device/manufacturer/components/manufacturer-edit/manufacturer-edit.component.html'\n})\nexport class ManufacturerEditComponent extends UIExtraDialog {\n\tisEditing: boolean;\n\thasAkaValidationErrors: boolean;\n\tconstructor(\n\t\tpublic deviceManufacturer: DeviceManufacturer,\n\t\tprivate manufacturerService: ManufacturerService,\n\t\tprivate prompt: UIPromptService) {\n\t\tsuper('#device-manufacturer-edit-component');\n\t\tthis.isEditing = false;\n\t\tthis.hasAkaValidationErrors = false;\n\t}\n\n\t/***\n\t * Close the Active Dialog\n\t */\n\tprotected cancelCloseDialog(): void {\n\t\tthis.close(null);\n\t}\n\n\t/**\n\t * On EscKey Pressed close the dialog.\n\t*/\n\tonEscKeyPressed(): void {\n\t\tthis.close(null);\n\t}\n\n\t/**\n\t * Save edited changes.\n\t */\n\tpublic onUpdateManufacturer(): void {\n\t\tthis.isEditing = false;\n\t\tthis.manufacturerService.updateManufacturer(this.deviceManufacturer, false)\n\t\t\t.subscribe((result) => {\n\t\t\t\tthis.close(this.deviceManufacturer);\n\n\t\t\t}, err => {\n\t\t\t\talert(err.message || err);\n\t\t\t})\n\t}\n\n\t/**\n\t * On changes on aka collection\n\t */\n\tpublic onAkaChange(akaChanges: AkaChanges): void {\n\t\tif (this.deviceManufacturer.akaChanges) {\n\t\t\tthis.isEditing = true;\n\t\t}\n\t\tthis.deviceManufacturer.akaChanges = akaChanges;\n\t}\n\n\t/**\n\t * on edit change set the edit flag to true\n\t */\n\tpublic onChange(event: any): void {\n\t\tthis.isEditing = true;\n\t}\n\n\t/**\n\t * Delete manufacturer\n\t */\n\tpublic onDeleteManufacturer() {\n\t\tthis.prompt.open(\n\t\t\t'Confirmation Required',\n\t\t\t'Are you sure?',\n\t\t\t'Ok', 'Cancel').then(result => {\n\t\t\tif (result) {\n\t\t\t\tthis.manufacturerService.updateManufacturer(this.deviceManufacturer, true)\n\t\t\t\t\t.subscribe((result) => {\n\t\t\t\t\t\tthis.deviceManufacturer.name = '';\n\t\t\t\t\t\tthis.close(this.deviceManufacturer);\n\n\t\t\t\t\t}, err => {\n\t\t\t\t\t\talert(err.message || err);\n\t\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tconsole.log('canceling...');\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * validate input errors\n\t */\n\tonValidationErrors(hasAkaValidationErrors: boolean): void {\n\t\tthis.hasAkaValidationErrors = hasAkaValidationErrors;\n\t}\n}","import { Component } from '@angular/core';\nimport {UIDialogService, UIExtraDialog} from '../../../../../../../shared/services/ui-dialog.service';\nimport { DeviceManufacturer} from '../../model/device-manufacturer.model';\nimport { ManufacturerEditComponent } from '../manufacturer-edit/manufacturer-edit.component';\nimport { PermissionService } from '../../../../../../../shared/services/permission.service';\nimport { Permission } from '../../../../../../../shared/model/permission.model';\n\n@Component({\n\tselector: 'device-manufacturer',\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/device/manufacturer/components/manufacturer-show/manufacturer-show.component.html'\n})\nexport class ManufacturerShowComponent extends UIExtraDialog {\n\taka: string;\n\tconstructor(\n\t\tprivate dialogService: UIDialogService,\n\t\tpublic deviceManufacturer: DeviceManufacturer,\n\t\tprivate permissionService: PermissionService) {\n\t\tsuper('#device-manufacturer-component');\n\t}\n\n\t/***\n\t * Close the Active Dialog\n\t */\n\tprotected cancelCloseDialog(): void {\n\t\tthis.dismiss();\n\t}\n\n\t/**\n\t * On EscKey Pressed close the dialog.\n\t*/\n\tonEscKeyPressed(): void {\n\t\tthis.cancelCloseDialog();\n\t}\n\n\t/**\n\t * Determine if user has permissions to edit manufacturer\n\t */\n\tcanEditManufacturer(): boolean {\n\t\treturn this.permissionService.hasPermission(Permission.ManufacturerEdit)\n\t}\n\n\t/**\n\t * On click Edit button\n\t */\n\tonEditManufacturer(): void {\n\t\tif (!this.canEditManufacturer()) {\n\t\t\treturn ;\n\t\t}\n\n\t\tthis.dialogService.extra(ManufacturerEditComponent,\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tprovide: DeviceManufacturer,\n\t\t\t\t\tuseValue: this.deviceManufacturer\n\t\t\t\t}\n\t\t\t], false, false)\n\t\t\t.then((result) => {\n\t\t\t\tthis.close(result);\n\t\t\t}).catch((error) => console.log(error));\n\t}\n}","import {Aka, AkaChanges} from '../../../../../../shared/components/aka/model/aka.model';\n\nexport class DeviceManufacturer {\n\tpublic id: number;\n\tpublic name: string;\n\tpublic description: string;\n\tpublic aka: string;\n\tpublic akaCollection: Array<Aka>;\n\tpublic corporateLocation: string;\n\tpublic corporateName: string;\n\tpublic website: string;\n\tpublic akaChanges: AkaChanges\n}\n","import { Component } from '@angular/core';\nimport {UIDialogService, UIExtraDialog} from '../../../../../../../shared/services/ui-dialog.service';\nimport {DeviceModel} from '../../model/device-model.model';\nimport {AssetExplorerService} from '../../../../../service/asset-explorer.service';\nimport {Permission} from '../../../../../../../shared/model/permission.model';\nimport {PermissionService} from '../../../../../../../shared/services/permission.service';\n\n@Component({\n\tselector: 'model-device-show',\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/device/model-device/components/model-device-show/model-device-show.component.html'\n})\nexport class ModelDeviceShowComponent extends UIExtraDialog {\n\tconstructor(\n\t\tprivate dialogService: UIDialogService,\n\t\tpublic deviceModel: DeviceModel,\n\t\tprivate assetExplorerService: AssetExplorerService,\n\t\tprivate permissionService: PermissionService) {\n\t\tsuper('#model-device-show-component');\n\t}\n\n\t/***\n\t * Close the Active Dialog\n\t */\n\tprotected cancelCloseDialog(): void {\n\t\tthis.dismiss();\n\t}\n\n\t/**\n\t * On EscKey Pressed close the dialog.\n\t*/\n\tonEscKeyPressed(): void {\n\t\tthis.cancelCloseDialog();\n\t}\n\n\t/**\n\t * On update comment\n\t */\n\tprotected onUpdateComment(): void {\n\t\tconsole.log('Updating component');\n\t}\n\n\t/**\n\t * Determine if user has permissions to edit model\n\t */\n\tcanEditModel(): boolean {\n\t\treturn this.permissionService.hasPermission(Permission.ModelEdit)\n\t}\n\n\t/**\n\t * On click Edit button\n\t */\n\tonEditModel(): void {\n\t\tif (!this.canEditModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\t// fix issue preventing submit form from bootstrap modal\n\t\tdocument.getElementById('editModelForm')['submit']();\n\t\tthis.close();\n\t}\n\n}","import {AssetCommonEdit} from '../../asset/asset-common-edit';\nimport {ComboBoxSearchModel} from '../../../../../shared/components/combo-box/model/combobox-search-param.model';\nimport {ComboBoxSearchResultModel} from '../../../../../shared/components/combo-box/model/combobox-search-result.model';\nimport {Observable} from 'rxjs/Observable';\n\nexport class DeviceCommonComponent extends AssetCommonEdit {\n\n\tprotected showRackFields = true;\n\tprotected showRackSourceInput: 'none'|'new'|'select' = 'none';\n\tprotected showRackTargetInput: 'none'|'new'|'select' = 'none';\n\tprotected rackSourceOptions: Array<any> = [];\n\tprotected rackTargetOptions: Array<any> =   [];\n\tprotected showBladeFields = true;\n\tprotected showBladeSourceInput: 'none'|'new'|'select' = 'none';\n\tprotected showBladeTargetInput: 'none'|'new'|'select' = 'none';\n\tprotected bladeSourceOptions: Array<any> = [];\n\tprotected bladeTargetOptions: Array<any> = [];\n\tprivate readonly SET_TO_NULL = '0';\n\tprivate readonly CREATE_NEW = '-1';\n\tprotected readonly defaultRoom = {id: null, value: 'Please Select'};\n\n\tprotected prepareModelRequestToSave(modelRequest: any): void {\n\t\t// currentAssetType, manufacturerId, modelId\n\t\tmodelRequest.asset.manufacturerId = null;\n\t\tif ( this.model.asset.manufacturerSelectValue.id > 0 ) {\n\t\t\tmodelRequest.asset.manufacturerId = this.model.asset.manufacturerSelectValue.id.toString();\n\t\t}\n\t\tmodelRequest.asset.currentAssetType = null;\n\t\tif (this.model.asset.assetTypeSelectValue.id) {\n\t\t\tmodelRequest.asset.currentAssetType = this.model.asset.assetTypeSelectValue.id.toString();\n\t\t}\n\t\tmodelRequest.asset.modelId = null;\n\t\tif (this.model.asset.modelSelectValue.id > 0) {\n\t\t\tmodelRequest.asset.modelId = this.model.asset.modelSelectValue.id.toString();\n\t\t}\n\n\t\t// roomSourceId, roomSource(new room)\n\t\tmodelRequest.asset.roomSourceId = this.SET_TO_NULL;\n\t\tif (this.model.asset.roomSource && this.model.asset.roomSource.id > 0) {\n\t\t\tmodelRequest.asset.roomSourceId = this.model.asset.roomSource.id.toString();\n\t\t}\n\t\tmodelRequest.asset.roomSource = this.model.asset.newRoomSource;\n\t\tif (this.model.asset.newRoomSource) {\n\t\t\tmodelRequest.asset.roomSourceId = this.CREATE_NEW;\n\t\t}\n\t\tdelete modelRequest.asset.newRoomSource;\n\n\t\t// roomTargetId, roomTarget(new room)\n\t\tmodelRequest.asset.roomTargetId = this.SET_TO_NULL;\n\t\tif (this.model.asset.roomTarget && this.model.asset.roomTarget.id > 0) {\n\t\t\tmodelRequest.asset.roomTargetId = this.model.asset.roomTarget.id.toString();\n\t\t}\n\t\tmodelRequest.asset.roomTarget = this.model.asset.newRoomTarget;\n\t\tif (this.model.asset.newRoomTarget) {\n\t\t\tmodelRequest.asset.roomTargetId = this.CREATE_NEW;\n\t\t}\n\t\tdelete modelRequest.asset.newRoomTarget;\n\n\t\t// rackSourceId, rackSource (new rack)\n\t\tmodelRequest.asset.rackSourceId = this.SET_TO_NULL;\n\t\tif (this.model.asset.rackSource && this.model.asset.rackSource.id > 0) {\n\t\t\tmodelRequest.asset.rackSourceId = this.model.asset.rackSource.id.toString();\n\t\t}\n\t\tmodelRequest.asset.rackSource = this.model.asset.newRackSource;\n\t\tif (this.model.asset.newRackSource) {\n\t\t\tmodelRequest.asset.rackSourceId = this.CREATE_NEW;\n\t\t}\n\t\tdelete modelRequest.asset.newRackSource;\n\n\t\t// rackTargetId, rackTarget(new rack)\n\t\tmodelRequest.asset.rackTargetId = this.SET_TO_NULL;\n\t\tif (this.model.asset.rackTarget && this.model.asset.rackTarget.id > 0) {\n\t\t\tmodelRequest.asset.rackTargetId = this.model.asset.rackTarget.id.toString();\n\t\t}\n\t\tmodelRequest.asset.rackTarget = this.model.asset.newRackTarget;\n\t\tif (this.model.asset.newRackTarget) {\n\t\t\tmodelRequest.asset.rackTargetId = this.CREATE_NEW;\n\t\t}\n\t\tdelete modelRequest.asset.newRackTarget;\n\n\t\t// sourceChassis\n\t\tif (this.model.asset.sourceChassis && this.model.asset.sourceChassis.id > 0) {\n\t\t\tmodelRequest.asset.sourceChassis = this.model.asset.sourceChassis.id.toString();\n\t\t} else {\n\t\t\tmodelRequest.asset.sourceChassis = this.SET_TO_NULL;\n\t\t}\n\n\t\t// targetChassis\n\t\tif (this.model.asset.targetChassis && this.model.asset.targetChassis.id > 0) {\n\t\t\tmodelRequest.asset.targetChassis = this.model.asset.targetChassis.id.toString();\n\t\t} else {\n\t\t\tmodelRequest.asset.targetChassis = this.SET_TO_NULL;\n\t\t}\n\n\t\t// Scale Format\n\t\tmodelRequest.asset.scale = (modelRequest.asset.scale && modelRequest.asset.scale.value) ? modelRequest.asset.scale.value : modelRequest.asset.scale;\n\t}\n\n\t/**\n\t * Taken from entity.crud.js\n\t */\n\tprotected toggleAssetTypeFields(): void {\n\t\tconst assetType = this.model.asset.assetTypeSelectValue.id;\n\t\tswitch (assetType) {\n\t\t\tcase 'Blade': /* TODO: should 'Blade Chassis' also be considered here ??*/\n\t\t\t\tthis.showHideRackFields(false); // pub.hideRackFields();\n\t\t\t\tthis.showHideBladeFields(true); // pub.showChassisFields();\n\t\t\t\tbreak;\n\t\t\tcase 'VM':\n\t\t\t\tthis.showHideRackFields(false); // pub.hideRackFields();\n\t\t\t\tthis.showHideBladeFields(false); // pub.hideChassisFields();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// Rack-able device\n\t\t\t\tthis.showHideRackFields(true); // pub.showRackFields();\n\t\t\t\tthis.showHideBladeFields(false); // pub.hideChassisFields();\n\t\t}\n\t}\n\n\t/**\n\t * Show/Hide Rack fields logic.\n\t * @param {boolean} show\n\t */\n\tprotected showHideRackFields(show: boolean): void {\n\t\tthis.showRackFields = show; // pub.showRackFields();\n\t\tif (!show) {\n\t\t\tthis.showRackSourceInput = 'none';\n\t\t\tthis.showRackTargetInput = 'none';\n\t\t} else {\n\t\t\tthis.populateRackSelect();\n\t\t}\n\t}\n\n\t/**\n\t * Calls endpoints to populate Rack selects.\n\t */\n\tprotected populateRackSelect(): void {\n\t\t// source room field\n\t\tconst roomId = this.model.asset.roomSource ? this.model.asset.roomSource.id : null;\n\t\tif (roomId && roomId > 0) {\n\t\t\tthis.showRackSourceInput = 'select';\n\t\t\tthis.assetExplorerService.getRacksForRoom(roomId, 'S').subscribe(response => {\n\t\t\t\tthis.rackSourceOptions = response.data;\n\t\t\t});\n\t\t} else if (roomId && roomId === -1) { /* -1 (New Room)*/\n\t\t\tthis.showRackSourceInput = 'new';\n\t\t} else {\n\t\t\tthis.showRackSourceInput = 'none';\n\t\t}\n\n\t\t// target room fields\n\t\tconst targetRoomId = this.model.asset.roomTarget ? this.model.asset.roomTarget.id : null;\n\t\tif (targetRoomId && targetRoomId > 0) {\n\t\t\tthis.showRackTargetInput = 'select';\n\t\t\tthis.assetExplorerService.getRacksForRoom(targetRoomId, 'T').subscribe(response => {\n\t\t\t\tthis.rackTargetOptions = response.data;\n\t\t\t});\n\t\t} else if (targetRoomId && targetRoomId === -1) { /* -1 (New Room)*/\n\t\t\tthis.showRackTargetInput = 'new';\n\t\t} else {\n\t\t\tthis.showRackTargetInput = 'none';\n\t\t}\n\t}\n\n\t/**\n\t * Show/Hide Blade(Chassis) fields logic.\n\t * @param {boolean} show\n\t */\n\tprotected showHideBladeFields(show: boolean): void {\n\t\tthis.showBladeFields = show; // pub.showRackFields();\n\t\tif (!show) {\n\t\t\tthis.showBladeSourceInput = 'none';\n\t\t\tthis.showBladeTargetInput = 'none';\n\t\t} else {\n\t\t\tthis.populateBladeSelect();\n\t\t}\n\t}\n\n\t/**\n\t * Calls endpoints to populate Blade(Chassis) selects\n\t */\n\tprotected populateBladeSelect(): void {\n\t\t// source room field\n\t\tconst roomId = this.model.asset.roomSource ? this.model.asset.roomSource.id : null;\n\t\tif (roomId && roomId > 0) {\n\t\t\tthis.showBladeSourceInput = 'select';\n\t\t\tthis.assetExplorerService.getChassisForRoom(roomId).subscribe(response => {\n\t\t\t\tthis.bladeSourceOptions = response.data;\n\t\t\t});\n\t\t} else {\n\t\t\tthis.showBladeSourceInput = 'none';\n\t\t}\n\n\t\t// target room field\n\t\tconst targetRoomId = this.model.asset.roomTarget ? this.model.asset.roomTarget.id : null;\n\t\tif (targetRoomId && targetRoomId > 0) {\n\t\t\tthis.showBladeTargetInput = 'select';\n\t\t\tthis.assetExplorerService.getChassisForRoom(targetRoomId).subscribe(response => {\n\t\t\t\tthis.bladeTargetOptions = response.data;\n\t\t\t});\n\t\t} else {\n\t\t\tthis.showBladeTargetInput = 'none';\n\t\t}\n\t}\n\n\t/**\n\t * Function that handles the request of the Asset Types tds-combobox\n\t * @param {ComboBoxSearchModel} searchModel\n\t * @returns {Observable<ComboBoxSearchResultModel>}\n\t */\n\tprotected searchAssetTypes = (searchModel: ComboBoxSearchModel): Observable<ComboBoxSearchResultModel>  => {\n\t\tsearchModel.query = `manufacturerId=${this.model.asset.manufacturerSelectValue.id ? this.model.asset.manufacturerSelectValue.id : ''}`;\n\t\treturn this.assetExplorerService.getAssetTypesForComboBox(searchModel);\n\t}\n\n\t/**\n\t * Function that handles the request of the Manufacturers tds-combobox\n\t * @param {ComboBoxSearchModel} searchModel\n\t * @returns {Observable<ComboBoxSearchResultModel>}\n\t */\n\tprotected searchManufacturers = (searchModel: ComboBoxSearchModel): Observable<ComboBoxSearchResultModel> => {\n\t\tsearchModel.query = `assetType=${this.model.asset.assetTypeSelectValue.id ? this.model.asset.assetTypeSelectValue.id : ''}`;\n\t\treturn this.assetExplorerService.getManufacturersForComboBox(searchModel);\n\t}\n\n\t/**\n\t * Function that handles the request of the Models tds-combobox\n\t * @param {ComboBoxSearchModel} searchModel\n\t * @returns {Observable<ComboBoxSearchResultModel>}\n\t */\n\tprotected searchModels = (searchModel: ComboBoxSearchModel): Observable<ComboBoxSearchResultModel> => {\n\t\tsearchModel.query = `manufacturerId=${this.model.asset.manufacturerSelectValue.id ? this.model.asset.manufacturerSelectValue.id : ''}\n\t\t\t&assetType=${this.model.asset.assetTypeSelectValue.id ? this.model.asset.assetTypeSelectValue.id : ''}`;\n\t\treturn this.assetExplorerService.getModelsForComboBox(searchModel);\n\t}\n\n\t/**\n\t * On Asset Types combobox change.\n\t * @param value\n\t */\n\tprotected onAssetTypeValueChange(value: any): void {\n\t\tif (!value) {\n\t\t\tvalue = {id: null};\n\t\t}\n\t\tthis.model.asset.assetTypeSelectValue = value;\n\t\tthis.model.asset.modelSelectValue = {id: null};\n\t\tthis.toggleAssetTypeFields();\n\t}\n\n\t/**\n\t * On Manufacturers combobox change.\n\t * @param value\n\t */\n\tprotected onManufacturerValueChange(value: any): void {\n\t\tif (!value) {\n\t\t\tvalue = {id: null};\n\t\t}\n\t\tthis.model.asset.manufacturerSelectValue = value;\n\t\tthis.model.asset.modelSelectValue = {id: null};\n\t}\n\n\t/**\n\t * On Models combobox change.\n\t * @param value\n\t */\n\tprotected onModelValueChange(value: any): void {\n\t\tthis.model.asset.assetTypeSelectValue.id = value.assetType;\n\t\tthis.model.asset.manufacturerSelectValue.id = value.manufacturerId;\n\t\tthis.model.asset.modelSelectValue.id = value.id;\n\t\tthis.model.asset.modelSelectValue.text = value.text;\n\t\tthis.toggleAssetTypeFields();\n\t}\n\n\t/**\n\t * On Source Room dropdown select change.\n\t * @param event\n\t */\n\tprotected onRoomSourceValueChange(event: any): void {\n\t\tthis.toggleAssetTypeFields();\n\t}\n\n\t/**\n\t * On Target Room dropdown select change.\n\t * @param event\n\t */\n\tprotected onRoomTargetValueChange(event: any): void {\n\t\tthis.toggleAssetTypeFields();\n\t}\n}","import {Aka} from '../../../../../../shared/components/aka/model/aka.model';\nimport {Connector} from '../../../../../../shared/components/connector/model/connector.model';\n\nexport class DeviceModel {\n\tpublic id: string;\n\tpublic name: string;\n\tpublic manufacturer: string;\n\tpublic aka: string;\n\tpublic modelName: string;\n\tpublic assetType: string;\n\tpublic usize: string;\n\tpublic powerUse: string;\n\tpublic powerNameplate: string;\n\tpublic powerDesign: string;\n}\n\nexport class DeviceModelDetails {\n\tpublic manufacturer: { id: string | number, text: string};\n\tpublic assetType: { id: string | number, text: string};\n\tpublic aka: Array<Aka>;\n\tpublic usize: number;\n\tpublic weight: number;\n\tpublic productLine: string;\n\tpublic endOfLifeDate: any;\n\tpublic powerNamePlate: number;\n\tpublic powerDesign: number;\n\tpublic powerUse: number;\n\tpublic powerUnit: string;\n\tpublic roomObject: boolean;\n\tpublic createdBy: string;\n\tpublic UpdatedBy: string;\n\tpublic validatedBy: string;\n\tpublic modelName: string;\n\tpublic dimensionH: number;\n\tpublic dimensionW: number;\n\tpublic dimensionD: number;\n\tpublic layoutStyle: string;\n\tpublic endOfLineStatus: string;\n\tpublic modelFamily: string;\n\tpublic Notes: string;\n\tpublic sourceTDS: boolean;\n\tpublic sourceURL: string;\n\tpublic modelStatus: string;\n\tpublic connectors: Array<Connector>;\n}\n","import { GridColumnModel } from '../../../../shared/model/data-list-grid.model';\n\n// PRIVATE -------------------------------------------\n\nconst DEFAULT_COLUMN_NAME = 'createdOn';\nlet columns: GridColumnModel[] = [];\n\n/**\n * Given a name return the corresponding column searching by property\n +\n * @param name Property Name\n * @returns {GridColumnModel}\n */\nfunction getColumnByName(name): GridColumnModel {\n\treturn columns.find((column: GridColumnModel) => column.property === name);\n}\n\n/**\n * Add a column to the columns collection\n +\n * @param column Column to add\n * @returns void\n */\nfunction addColumn(column: GridColumnModel) {\n\tcolumns.push(column);\n}\n\n// PUBLIC -------------------------------------------\n\n/**\n * Handle View Manager columns\n */\nexport const ViewManagerColumnsHelper = {\n\t/**\n\t * Create the columns used by the view manager\n\t +\n\t * @returns {GridColumnModel[]}\n\t */\n\tcreateColumns: (): GridColumnModel[] => {\n\t\tcolumns = [];\n\n\t\taddColumn({ property: 'isFavorite', label: 'ASSET_EXPLORER.INDEX.FAVORITE', sort: { isSorting: false, isAscending: false  }, type: 'boolean', width: 100 });\n\t\taddColumn({ property: 'name', label: 'ASSET_EXPLORER.INDEX.NAME', sort: { isSorting: false, isAscending: false  }, type: 'string', width: 100 });\n\t\taddColumn({ property: 'createdBy', label: 'ASSET_EXPLORER.INDEX.CREATED_BY', sort: { isSorting: false, isAscending: false  }, type: 'string', width: 100 });\n\t\taddColumn({ property: 'createdOn', label: 'ASSET_EXPLORER.INDEX.CREATED_ON', sort: { isSorting: false, isAscending: true  }, type: 'date', format: null, width: 100 });\n\t\taddColumn({ property: 'updatedOn', label: 'ASSET_EXPLORER.INDEX.UPDATED_ON', sort: { isSorting: false, isAscending: true  }, type: 'date', format: null, width: 100 });\n\t\taddColumn({ property: 'isShared', label: 'ASSET_EXPLORER.INDEX.SHARED',  sort: { isSorting: false,  isAscending: false  }, type: 'boolean', width: 100 });\n\t\taddColumn({ property: 'isSystem', label: 'ASSET_EXPLORER.INDEX.SYSTEM', sort: { isSorting: false,  isAscending: false  }, type: 'boolean', width: 100 });\n\n\t\treturn columns;\n\t},\n\n\t/**\n\t * Mark a column as sorted, mark the rest of columns as unsorted\n\t +\n\t * @param columnName  column Name\n\t * @returns {GridColumnModel[]}\n\t */\n\tsetColumnAsSorted(columnName: string): GridColumnModel[] {\n\t\tif (!columnName) {\n\t\t\tcolumnName = DEFAULT_COLUMN_NAME;\n\t\t}\n\n\t\tconst restartedSort = { sort: { isSorting: false, isAscending: false } };\n\n\t\tcolumns = columns.map((column: GridColumnModel) => {\n\t\t\tconst sort = (column.property === columnName) ? { sort: {isSorting: true, isAscending: !column.sort.isAscending } } : restartedSort ;\n\t\t\treturn Object.assign({}, column, sort);\n\t\t});\n\n\t\treturn columns;\n\t},\n\t/**\n\t * Set the property format to date type items only\n\t +\n\t * @param format  User preference DateFormat\n\t * @returns {GridColumnModel[]}\n\t */\n\tsetFormatToDateColumns(format: string): GridColumnModel[] {\n\t\tcolumns = columns.map((column: GridColumnModel) => {\n\t\t\treturn (column.type === 'date') ? ({...column, format}) : column;\n\t\t});\n\n\t\treturn columns;\n\t},\n\t/**\n\t * Get the current sorted column, otherwise return the default column\n\t +\n\t * @returns {GridColumnModel}\n\t */\n\tgetCurrentSortedColumnOrDefault(): GridColumnModel {\n\t\tconst match: GridColumnModel =  columns.find((column: GridColumnModel) => column.sort.isSorting);\n\n\t\treturn match || getColumnByName(DEFAULT_COLUMN_NAME);\n\t}\n\n};\n","import { Component, Inject, OnInit } from '@angular/core';\nimport { AssetExplorerStates } from '../../asset-explorer-routing.states';\nimport { ViewGroupModel, ViewModel, ViewType } from '../../model/view.model';\nimport { Observable } from 'rxjs';\nimport { AssetExplorerService } from '../../service/asset-explorer.service';\n\nimport { PermissionService } from '../../../../shared/services/permission.service';\nimport { UIPromptService } from '../../../../shared/directives/ui-prompt.directive';\nimport { Permission } from '../../../../shared/model/permission.model';\nimport { NotifierService } from '../../../../shared/services/notifier.service';\nimport { AlertType } from '../../../../shared/model/alert.model';\nimport { DictionaryService } from '../../../../shared/services/dictionary.service';\nimport { LAST_SELECTED_FOLDER } from '../../../../shared/model/constants';\nimport {PreferenceService, PREFERENCES_LIST} from '../../../../shared/services/preference.service';\nimport { SortUtils } from '../../../../shared/utils/sort.utils';\nimport { GridColumnModel } from '../../../../shared/model/data-list-grid.model';\nimport { ViewManagerColumnsHelper } from './asset-explorer-index-columns.helper';\nimport {ActivatedRoute, Router} from '@angular/router';\n\n@Component({\n\tselector: 'asset-explorer-index',\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/index/asset-explorer-index.component.html',\n})\nexport class AssetExplorerIndexComponent implements OnInit {\n\n\tprivate reportGroupModels = Array<ViewGroupModel>();\n\tprivate searchText: String;\n\tprivate viewType = ViewType;\n\tprivate selectedFolder: ViewGroupModel;\n\tprivate gridColumns: GridColumnModel[];\n\tprivate report;\n\n\tconstructor(\n\t\tprivate route: ActivatedRoute,\n\t\tprivate router: Router,\n\t\tprivate permissionService: PermissionService,\n\t\tprivate assetExpService: AssetExplorerService,\n\t\tprivate prompt: UIPromptService,\n\t\tprivate notifier: NotifierService,\n\t\tprivate dictionary: DictionaryService,\n\t\tprivate preferenceService: PreferenceService) {\n\t\tthis.report = this.route.snapshot.data['reports'] as Observable<ViewGroupModel[]>;\n\t}\n\tngOnInit() {\n\t\tthis.gridColumns = ViewManagerColumnsHelper.createColumns();\n\t\tconst preferencesCodes = `${PREFERENCES_LIST.CURRENT_DATE_FORMAT},${PREFERENCES_LIST.VIEW_MANAGER_DEFAULT_SORT}`;\n\t\tthis.preferenceService.getPreferences(preferencesCodes).subscribe((preferences) => {\n\t\t\tthis.setupDefaultSettings(preferences);\n\t\t});\n\t}\n\n\tprivate setupDefaultSettings(preferences: any[]) {\n\t\tconst userDateFormat = preferences[PREFERENCES_LIST.CURRENT_DATE_FORMAT];\n\t\tthis.gridColumns =  ViewManagerColumnsHelper.setFormatToDateColumns(userDateFormat);\n\t\tthis.reportGroupModels = this.report;\n\t\tconst lastFolder = this.dictionary.get(LAST_SELECTED_FOLDER);\n\t\tthis.selectFolder(lastFolder || this.reportGroupModels.find((r) => r.open));\n\t\tthis.gridColumns =  ViewManagerColumnsHelper.setColumnAsSorted(preferences[PREFERENCES_LIST.VIEW_MANAGER_DEFAULT_SORT]);\n\t\tthis.selectedFolder.items = SortUtils.sort(this.selectedFolder.items, ViewManagerColumnsHelper.getCurrentSortedColumnOrDefault() );\n\t}\n\n\tprotected selectFolder(folderOpen: ViewGroupModel): void {\n\n\t\tthis.dictionary.set(LAST_SELECTED_FOLDER, folderOpen);\n\t\tthis.reportGroupModels.forEach((folder) => folder.open = false);\n\t\tthis.selectedFolder = this.reportGroupModels.filter((folder) => folder.name === folderOpen.name)[0];\n\t\tif (this.selectedFolder) {\n\t\t\tthis.selectedFolder.open = true;\n\t\t}\n\t\tthis.selectedFolder.items = SortUtils.sort(this.selectedFolder.items, ViewManagerColumnsHelper.getCurrentSortedColumnOrDefault());\n\t}\n\n\tprotected onClearTextFilter(): void {\n\t\tthis.searchText = '';\n\t}\n\n\tprotected onCreateReport(): void {\n\t\tif (this.isCreateAvailable()) {\n\t\t\tthis.router.navigate(['asset', 'views', 'create']);\n\t\t}\n\t}\n\n\tprotected onEditReport(report: ViewModel): void {\n\t\tif (this.isEditAvailable(report)) {\n\t\t\tthis.router.navigate(['asset', 'views', report.id, 'edit']);\n\t\t}\n\t}\n\n\tprotected onShowReport(report: ViewModel): void {\n\t\tthis.router.navigate(['asset', 'views', report.id, 'show']);\n\t}\n\n\tprotected onDeleteReport(report: ViewModel): void {\n\t\tif (this.isDeleteAvailable(report)) {\n\t\t\tthis.prompt.open('Confirmation Required', 'Are you sure you want to delete this view?', 'Yes', 'No')\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tthis.assetExpService.deleteReport(report.id)\n\t\t\t\t\t\t\t.subscribe(\n\t\t\t\t\t\t\tresult => {\n\t\t\t\t\t\t\t\tthis.notifier.broadcast({\n\t\t\t\t\t\t\t\t\tname: AlertType.SUCCESS,\n\t\t\t\t\t\t\t\t\tmessage: result\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.loadData();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror => console.log(error));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t}\n\n\tprotected loadData() {\n\t\tthis.assetExpService.getReports()\n\t\t\t.subscribe(result => {\n\t\t\t\tthis.reportGroupModels = result as ViewGroupModel[];\n\t\t\t\tthis.selectedFolder = this.reportGroupModels.find((r) => r.open);\n\n\t\t\t\tthis.selectedFolder.items =  SortUtils.sort(this.selectedFolder.items, ViewManagerColumnsHelper.getCurrentSortedColumnOrDefault());\n\t\t\t});\n\t}\n\n\tprotected changeSort(propertyName: string) {\n\t\tthis.gridColumns = ViewManagerColumnsHelper.setColumnAsSorted(propertyName);\n\n\t\tthis.preferenceService.setPreference(PREFERENCES_LIST.VIEW_MANAGER_DEFAULT_SORT, propertyName)\n\t\t\t.subscribe(() => console.log('Saving sort preference'), (err) => console.log(err.message || err));\n\n\t\tthis.selectedFolder.items =  SortUtils.sort(this.selectedFolder.items, ViewManagerColumnsHelper.getCurrentSortedColumnOrDefault());\n\t\treturn ;\n\t}\n\n\t/**\n\t * Disable the Create Report if the user does not have the proper permission\n\t * @returns {boolean}\n\t */\n\tprotected isCreateAvailable(): boolean {\n\t\treturn this.permissionService.hasPermission(Permission.AssetExplorerCreate);\n\t}\n\n\tprotected isEditAvailable(report: ViewModel): boolean {\n\t\treturn report.isSystem ?\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerSystemEdit) ||\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerSystemSaveAs) :\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerEdit) ||\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerSaveAs);\n\t\t;\n\t}\n\n\tprotected isDeleteAvailable(report: ViewModel): boolean {\n\t\treturn report.isSystem ?\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerSystemDelete) :\n\t\t\treport.isOwner && this.permissionService.hasPermission(Permission.AssetExplorerDelete);\n\t}\n\n\tprotected toggleFavorite(report: ViewModel): void {\n\t\tif (report.isFavorite) {\n\t\t\tthis.assetExpService.deleteFavorite(report.id)\n\t\t\t\t.subscribe(d => {\n\t\t\t\t\treport.isFavorite = false;\n\t\t\t\t\tthis.loadData();\n\t\t\t\t});\n\t\t} else {\n\t\t\tif (this.assetExpService.hasMaximumFavorites(this.reportGroupModels.filter(x => x.name === 'Favorites')[0].items.length + 1)) {\n\t\t\t\tthis.notifier.broadcast({\n\t\t\t\t\tname: AlertType.DANGER,\n\t\t\t\t\tmessage: 'Maximum number of favorite data views reached.'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.assetExpService.saveFavorite(report.id)\n\t\t\t\t\t.subscribe(d => {\n\t\t\t\t\t\treport.isFavorite = true;\n\t\t\t\t\t\tthis.loadData();\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n}","import {Component, Input} from '@angular/core';\n\n@Component({\n\tselector: 'tds-popup-asset-message',\n\ttemplate: `\n        <span style=\"cursor:pointer;\" #popUpPolling (click)=\"onToggle()\"><i class=\"fa  fa-fw fa-question-circle\"></i></span>\n        <kendo-popup [anchor]=\"popUpPolling\" [popupClass]=\"'content popup'\" *ngIf=\"show\">\n            <div>\n                <label>\n                    {{message}}\n                </label>\n            </div>\n        </kendo-popup>\n\t`,\n\tstyles: [`\n\t\tdiv { width: 180px; padding: 10px; }\n    `]\n})\n\nexport class PopupAssetMessageComponent {\n\t@Input() message: string;\n\tprivate show = false;\n\n\tpublic onToggle(): void {\n\t\tthis.show = !this.show;\n\t}\n}","import {ModalType} from '../../../../../shared/model/constants';\n\nexport class SingleCommentModel {\n\tpublic id?: string;\n\tpublic modal: {\n\t\ttitle:  string;\n\t\ttype: ModalType\n\t}\n\tpublic archive: boolean;\n\tpublic comment: string;\n\tpublic category: string;\n\tpublic assetClass: {\n\t\tid?: string;\n\t\ttext?: string;\n\t};\n\tpublic asset: {\n\t\tid?: any;\n\t\ttext: string;\n\t};\n\tpublic lastUpdated?: string;\n\tpublic dateCreated?: string;\n}","import {Component, HostListener, OnInit} from '@angular/core';\nimport {SingleCommentModel} from './model/single-comment.model';\nimport {KEYSTROKE, ModalType} from '../../../../shared/model/constants';\nimport {UIExtraDialog} from '../../../../shared/services/ui-dialog.service';\nimport {PreferenceService} from '../../../../shared/services/preference.service';\nimport {DateUtils} from '../../../../shared/utils/date.utils';\nimport {TaskService} from '../../../taskManager/service/task.service';\nimport {ComboBoxSearchModel} from '../../../../shared/components/combo-box/model/combobox-search-param.model';\nimport {Observable} from 'rxjs';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\n\n@Component({\n\tselector: `single-comment`,\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/single-comment/single-comment.component.html',\n\tstyles: []\n})\nexport class SingleCommentComponent extends UIExtraDialog implements  OnInit {\n\n\tpublic modalType = ModalType;\n\tpublic dateFormatTime: string;\n\tpublic assetClassOptions: any[];\n\tpublic commentCategories: string[];\n\tprivate dataSignature: string;\n\n\tconstructor(public singleCommentModel: SingleCommentModel, public userPreferenceService: PreferenceService, public taskManagerService: TaskService, public assetExplorerService: AssetExplorerService, public promptService: UIPromptService) {\n\t\tsuper('#single-comment-component');\n\t}\n\n\tngOnInit(): void {\n\t\tthis.dateFormatTime = this.userPreferenceService.getUserDateTimeFormat();\n\t\tthis.loadCommentCategories();\n\t}\n\n\t/**\n\t * Load All Comment Categories\n\t */\n\tprivate loadCommentCategories(): void {\n\t\tthis.taskManagerService.getCommentCategories().subscribe((res) => {\n\t\t\tthis.commentCategories = res;\n\t\t\tif (!this.singleCommentModel.category || this.singleCommentModel.category === null) {\n\t\t\t\tthis.singleCommentModel.category = this.commentCategories[0];\n\t\t\t}\n\t\t\tthis.dataSignature = JSON.stringify(this.getModelFields());\n\t\t});\n\t}\n\n\t/**\n\t * Verify the Object has not changed\n\t * @returns {boolean}\n\t */\n\tprotected isDirty(): boolean {\n\t\treturn this.dataSignature !== JSON.stringify(this.getModelFields());\n\t}\n\n\t/**\n\t * Change to Edit view\n\t */\n\tprotected onEdit(): void {\n\t\tthis.singleCommentModel.modal.title = 'Edit Comment';\n\t\tthis.singleCommentModel.modal.type = ModalType.EDIT;\n\t}\n\n\tprotected onSave(): void {\n\t\tthis.taskManagerService.saveComment(this.singleCommentModel).subscribe((res) => {\n\t\t\tthis.close();\n\t\t});\n\t}\n\n\t/**\n\t * Get only the fields relevants to the model\n\t */\n\tgetModelFields(): any {\n\t\tconst {id, archive, comment, category, assetClass, asset} = this.singleCommentModel;\n\n\t\treturn {id, archive, comment, category, assetClass, asset};\n\t}\n\n\t/**\n\t * Delete the Asset Comment\n\t */\n\tprotected onDelete(): void {\n\t\tthis.promptService.open(\n\t\t\t'Confirmation Required',\n\t\t\t'Confirm deletion of this record. There is no undo for this action?',\n\t\t\t'Confirm', 'Cancel')\n\t\t\t.then(confirm => {\n\t\t\t\tif (confirm) {\n\t\t\t\t\tthis.taskManagerService.deleteTaskComment(this.singleCommentModel.id).subscribe((res) => {\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => console.log(error));\n\t}\n\n\t/**\n\t * Close the Dialog but first it verify is not Dirty\n\t */\n\tprotected cancelCloseDialog(): void {\n\t\tif (this.isDirty()) {\n\t\t\tthis.promptService.open(\n\t\t\t\t'Confirmation Required',\n\t\t\t\t'You have changes that have not been saved. Do you want to continue and lose those changes?',\n\t\t\t\t'Confirm', 'Cancel')\n\t\t\t\t.then(confirm => {\n\t\t\t\t\tif (confirm) {\n\t\t\t\t\t\tthis.dismiss();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => console.log(error));\n\t\t} else {\n\t\t\tthis.dismiss();\n\t\t}\n\t}\n}","/**\n *  The component is being used dynamically, some vars will show as not being used or referenced but they could be part\n *  of the GSP\n *\n *  Use angular/views/TheAssetType as reference\n */\nimport {Component, Inject, OnInit} from '@angular/core';\nimport {UIActiveDialogService, UIDialogService} from '../../../../shared/services/ui-dialog.service';\nimport { PreferenceService } from '../../../../shared/services/preference.service';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport * as R from 'ramda';\nimport {TagService} from '../../../assetTags/service/tag.service';\nimport {AssetCommonEdit} from '../asset/asset-common-edit';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {ASSET_ENTITY_DIALOG_TYPES} from '../../model/asset-entity.model';\n\ndeclare var jQuery: any;\n\nexport function StorageCreateComponent(template: string, model: any, metadata: any): any {\n\t@Component({\n\t\tselector: 'tds-storage-create',\n\t\ttemplate: template,\n\t\tproviders: [\n\t\t\t{ provide: 'model', useValue: model }\n\t\t]\n\t})\n\tclass StorageCreateComponent extends AssetCommonEdit implements OnInit {\n\t\tconstructor(\n\t\t\t@Inject('model') model: any,\n\t\t\tactiveDialog: UIActiveDialogService,\n\t\t\tpreference: PreferenceService,\n\t\t\tassetExplorerService: AssetExplorerService,\n\t\t\tdialogService: UIDialogService,\n\t\t\tnotifierService: NotifierService,\n\t\t\ttagService: TagService,\n\t\t\tpromptService: UIPromptService) {\n\n\t\t\tsuper(model, activeDialog, preference, assetExplorerService, dialogService, notifierService, tagService, metadata, promptService);\n\t\t}\n\n\t\tngOnInit() {\n\t\t\tthis.initModel();\n\t\t\tthis.focusControlByName('assetName');\n\t\t}\n\n\t\t/**\n\t\t * Init model with necessary changes to support UI components.\n\t\t */\n\t\tprivate initModel(): void {\n\t\t\tthis.model.asset.moveBundle = this.model.dependencyMap.moveBundleList[0];\n\t\t\tthis.model.asset.planStatus = this.model.planStatusOptions.find((plan: string) => plan === this.defaultPlanStatus);\n\t\t\tthis.model.asset.validation =  this.defaultValidation;\n\t\t\tthis.model.asset.environment = '';\n\t\t\tthis.model.asset.scale = null;\n\t\t}\n\n\t\t/**\n\t\t * Prepare te model and format all pending changes\n\t\t */\n\t\tpublic onCreate(): void {\n\t\t\tlet modelRequest = R.clone(this.model);\n\n\t\t\t// Scale Format\n\t\t\tmodelRequest.asset.scale = (modelRequest.asset.scale && modelRequest.asset.scale.value) ?\n\t\t\t\tmodelRequest.asset.scale.value : modelRequest.asset.scale;\n\n\t\t\t// MoveBundle\n\t\t\tmodelRequest.asset.moveBundleId = modelRequest.asset.moveBundle.id;\n\n\t\t\t// AssetClass\n\t\t\tmodelRequest.asset.assetClass = {\n\t\t\t\tname: ASSET_ENTITY_DIALOG_TYPES.STORAGE\n\t\t\t};\n\t\t\tthis.model.asset.assetClass = modelRequest.asset.assetClass;\n\n\t\t\tthis.assetExplorerService.createAsset(modelRequest).subscribe((result) => {\n\t\t\t\tthis.notifierService.broadcast({\n\t\t\t\t\tname: 'reloadCurrentAssetList'\n\t\t\t\t});\n\t\t\t\tif (result.id && !isNaN(result.id) && result.id > 0) {\n\t\t\t\t\tthis.createTags(result.id);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\n\treturn StorageCreateComponent;\n}\n","/**\n *  The component is being used dynamically, some vars will show as not being used or referenced but they could be part\n *  of the GSP\n *\n *  Use angular/views/TheAssetType as reference\n */\nimport {Component, Inject, OnInit} from '@angular/core';\nimport {UIActiveDialogService, UIDialogService} from '../../../../shared/services/ui-dialog.service';\nimport { PreferenceService } from '../../../../shared/services/preference.service';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport * as R from 'ramda';\nimport {TagService} from '../../../assetTags/service/tag.service';\nimport {ApiResponseModel} from '../../../../shared/model/ApiResponseModel';\nimport {AssetCommonEdit} from '../asset/asset-common-edit';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\n\ndeclare var jQuery: any;\n\nexport function StorageEditComponent(template: string, editModel: any, metadata: any): any {\n\t@Component({\n\t\tselector: 'tds-storage-edit',\n\t\ttemplate: template,\n\t\tproviders: [\n\t\t\t{ provide: 'model', useValue: editModel }\n\t\t]\n\t})\n\tclass StorageShowComponent extends AssetCommonEdit implements OnInit {\n\t\tconstructor(\n\t\t\t@Inject('model') model: any,\n\t\t\tactiveDialog: UIActiveDialogService,\n\t\t\tpreference: PreferenceService,\n\t\t\tassetExplorerService: AssetExplorerService,\n\t\t\tdialogService: UIDialogService,\n\t\t\tnotifierService: NotifierService,\n\t\t\ttagService: TagService,\n\t\t\tpromptService: UIPromptService) {\n\n\t\t\tsuper(model, activeDialog, preference, assetExplorerService, dialogService, notifierService, tagService, metadata, promptService);\n\t\t}\n\n\t\tngOnInit() {\n\t\t\tthis.initModel();\n\t\t\tthis.focusControlByName('assetName');\n\t\t}\n\n\t\t/**\n\t\t * Init model with necessary changes to support UI components.\n\t\t */\n\t\tprivate initModel(): void {\n\t\t\tif (this.model.asset.scale && this.model.asset.scale.name) {\n\t\t\t\tthis.model.asset.scale = { value: this.model.asset.scale.name, text: ''}\n\t\t\t}\n\n\t\t\tthis.model.asset.environment = this.model.asset.environment || '';\n\t\t}\n\n\t\t/**\n\t\t * Prepare te model and format all pending changes\n\t\t */\n\t\tpublic onUpdate(): void {\n\t\t\tlet modelRequest = R.clone(this.model);\n\t\t\t// Scale Format\n\t\t\tmodelRequest.asset.scale = (modelRequest.asset.scale && modelRequest.asset.scale.value) ?\n\t\t\t\tmodelRequest.asset.scale.value : modelRequest.asset.scale;\n\n\t\t\tthis.model.customs.forEach((custom: any) => {\n\t\t\t\tlet customValue = modelRequest.asset[custom.field.toString()];\n\t\t\t\tif (customValue && customValue.value) {\n\t\t\t\t\tmodelRequest.asset[custom.field.toString()] = customValue.value;\n\t\t\t\t}\n\t\t\t});\n\t\t\tmodelRequest.asset.moveBundleId = modelRequest.asset.moveBundle.id;\n\t\t\tdelete modelRequest.asset.moveBundle;\n\t\t\tthis.assetExplorerService.saveAsset(modelRequest).subscribe((result) => {\n\t\t\t\tthis.notifierService.broadcast({\n\t\t\t\t\tname: 'reloadCurrentAssetList'\n\t\t\t\t});\n\t\t\t\tif (result === ApiResponseModel.API_SUCCESS || result === 'Success!') {\n\t\t\t\t\tthis.saveAssetTags();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Delete the storage asset\n\t\t */\n\t\tonDeleteAsset(): void {\n\t\t\tthis.deleteAsset(this.model.asset.id);\n\t\t}\n\n\t}\n\n\treturn StorageShowComponent;\n}\n","import {Component} from '@angular/core';\nimport { UIActiveDialogService, UIDialogService } from '../../../../shared/services/ui-dialog.service';\nimport { DependecyService } from '../../service/dependecy.service';\nimport { AssetEditComponent } from '../asset/asset-edit.component';\nimport {DOMAIN, DIALOG_SIZE} from '../../../../shared/model/constants';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport {AssetModalModel} from '../../model/asset-modal.model';\nimport {AssetCloneComponent} from '../asset-clone/asset-clone.component';\nimport {CloneCLoseModel} from '../../model/clone-close.model';\nimport {AssetCommonShow} from '../asset/asset-common-show';\nimport {PreferenceService} from '../../../../shared/services/preference.service';\nimport {AssetCommonHelper} from '../asset/asset-common-helper';\n\nexport function StorageShowComponent(template, modelId: number, metadata: any) {\n\t@Component({\n\t\tselector: `tds-storage-show`,\n\t\ttemplate: template\n\t})\n\tclass StorageShowComponent extends AssetCommonShow {\n\n\t\tconstructor(\n\t\t\tactiveDialog: UIActiveDialogService,\n\t\t\tdialogService: UIDialogService,\n\t\t\tassetService: DependecyService,\n\t\t\tprompt: UIPromptService,\n\t\t\tassetExplorerService: AssetExplorerService,\n\t\t\tnotifierService: NotifierService,\n\t\t\tpreferenceService: PreferenceService) {\n\t\t\t\tsuper(activeDialog, dialogService, assetService, prompt, assetExplorerService, notifierService, preferenceService);\n\t\t\t\tthis.mainAsset = modelId;\n\t\t\t\tthis.assetTags = metadata.assetTags;\n\t\t}\n\n\t\tshowAssetEditView(): Promise<any> {\n\t\t\tconst componentParameters = [\n\t\t\t\t{ provide: 'ID', useValue: this.mainAsset },\n\t\t\t\t{ provide: 'ASSET', useValue: DOMAIN.STORAGE }\n\t\t\t];\n\n\t\t\treturn this.dialogService\n\t\t\t\t.replace(AssetEditComponent, componentParameters, DIALOG_SIZE.LG);\n\t\t}\n\n\t\t/**\n\t\t * Allows to clone an application asset\n\t\t */\n\t\tonCloneAsset(): void {\n\n\t\t\tconst cloneModalModel: AssetModalModel = {\n\t\t\t\tassetType: DOMAIN.STORAGE,\n\t\t\t\tassetId: this.mainAsset\n\t\t\t}\n\t\t\tthis.dialogService.extra(AssetCloneComponent, [\n\t\t\t\t{provide: AssetModalModel, useValue: cloneModalModel}\n\t\t\t], false, false).then( (result: CloneCLoseModel)  => {\n\n\t\t\t\tif (result.clonedAsset && result.showEditView) {\n\t\t\t\t\tconst componentParameters = [\n\t\t\t\t\t\t{ provide: 'ID', useValue: result.assetId },\n\t\t\t\t\t\t{ provide: 'ASSET', useValue: DOMAIN.STORAGE }\n\t\t\t\t\t];\n\n\t\t\t\t\tthis.dialogService\n\t\t\t\t\t\t.replace(AssetEditComponent, componentParameters, DIALOG_SIZE.XLG);\n\t\t\t\t} else if (!result.clonedAsset && result.showView) {\n\t\t\t\t\tthis.showAssetDetailView(DOMAIN.STORAGE, result.assetId);\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.catch( error => console.log('error', error));\n\t\t}\n\n\t}\n\treturn StorageShowComponent;\n}","import {Component, Inject} from '@angular/core';\nimport {UIActiveDialogService} from '../../../../../shared/services/ui-dialog.service';\nimport {AssetModalModel} from '../../../model/asset-modal.model';\n\n@Component({\n\tselector: `tds-task-comment-dialog`,\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/task-comment/dialog/task-comment-dialog.component.html'\n})\nexport class TaskCommentDialogComponent {\n\tconstructor(\n\t\tprotected assetModalModel: AssetModalModel,\n\t\tpublic activeDialog: UIActiveDialogService,\n\t\t@Inject('currentUserId') private currentUserId: number) {}\n\t/**\n\t * Close the Dialog\n\t */\n\tprotected cancelCloseDialog(): void {\n\t\tthis.activeDialog.dismiss();\n\t}\n}","import {GridColumnModel} from '../../../../../shared/model/data-list-grid.model';\n\n/**\n * Defines the columns\n */\nexport class TaskColumnsModel {\n\tcolumns: Array<GridColumnModel>;\n\n\tconstructor() {\n\t\tthis.columns = [\n\t\t\t{\n\t\t\t\tlabel: 'Action',\n\t\t\t\tproperty: 'action',\n\t\t\t\ttype: 'action',\n\t\t\t\twidth: 82,\n\t\t\t\tlocked: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Task #',\n\t\t\t\tproperty: 'commentInstance.taskNumber',\n\t\t\t\ttype: 'text',\n\t\t\t\twidth: 70\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Task',\n\t\t\t\tproperty: 'commentInstance.comment',\n\t\t\t\ttype: 'text',\n\t\t\t\twidth: 200\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Status',\n\t\t\t\tproperty: 'commentInstance.status',\n\t\t\t\ttype: 'text',\n\t\t\t\twidth: 105\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Category',\n\t\t\t\tproperty: 'commentInstance.category',\n\t\t\t\ttype: 'text',\n\t\t\t\twidth: 105\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Assigned To',\n\t\t\t\tproperty: 'assignedTo',\n\t\t\t\ttype: 'text',\n\t\t\t\twidth: 105\n\t\t\t}\n\t\t];\n\t}\n}\n\nexport class CommentColumnsModel {\n\tcolumns: Array<GridColumnModel>;\n\n\tconstructor() {\n\t\tthis.columns = [\n\t\t\t{\n\t\t\t\tlabel: 'Action',\n\t\t\t\tproperty: 'action',\n\t\t\t\ttype: 'action',\n\t\t\t\twidth: 60,\n\t\t\t\tlocked: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Comment',\n\t\t\t\tproperty: 'commentInstance.comment',\n\t\t\t\ttype: 'text',\n\t\t\t\twidth: 330\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Category',\n\t\t\t\tproperty: 'commentInstance.category',\n\t\t\t\ttype: 'text',\n\t\t\t\twidth: 100\n\t\t\t}\n\t\t];\n\t}\n}","import {Component, Input, OnInit} from '@angular/core';\n\nimport {TaskCommentService} from '../../service/task-comment.service';\nimport {SingleCommentComponent} from '../single-comment/single-comment.component';\nimport {SingleCommentModel} from '../single-comment/model/single-comment.model';\nimport {UIDialogService} from '../../../../shared/services/ui-dialog.service';\nimport {ModalType} from '../../../../shared/model/constants';\nimport {DataGridOperationsHelper} from '../../../../shared/utils/data-grid-operations.helper';\nimport {TaskColumnsModel, CommentColumnsModel} from './model/task-comment-columns.model';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {TaskService} from '../../../taskManager/service/task.service';\nimport {TaskDetailComponent} from '../../../taskManager/components/detail/task-detail.component';\nimport {TaskEditComponent} from '../../../taskManager/components/edit/task-edit.component';\nimport {TaskCreateComponent} from '../../../taskManager/components/create/task-create.component';\nimport {TaskDetailModel} from '../../../taskManager/model/task-detail.model';\nimport {PreferenceService, PREFERENCES_LIST} from '../../../../shared/services/preference.service';\nimport {TaskEditCreateModelHelper} from '../../../taskManager/components/common/task-edit-create-model.helper';\nimport {DateUtils} from '../../../../shared/utils/date.utils';\nimport {clone} from 'ramda';\n\n@Component({\n\tselector: `task-comment`,\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/task-comment/task-comment.component.html',\n\tstyles: []\n})\nexport class TaskCommentComponent implements OnInit {\n\t@Input('asset-id') id: number;\n\t@Input('has-publish-permission') hasPublishPermission ? = false;\n\t@Input('can-edit-comments') canEdit ? = false;\n\t@Input('can-edit-tasks') canEditTasks ? = false;\n\t@Input('asset-name') assetName: string;\n\t@Input('asset-type') assetType: string;\n\t@Input('show-task') showTask: boolean;\n\t@Input('show-comment') showComment: boolean;\n\t@Input('asset-class') assetClass: string;\n\t@Input('user-id') currentUserId: string;\n\n\t// Grid Configuration for Task and Comment\n\tprivate dataGridTaskHelper: DataGridOperationsHelper;\n\tprivate dataGridCommentHelper: DataGridOperationsHelper;\n\tprotected userTimeZone: string;\n\n\tprotected taskColumnModel = new TaskColumnsModel();\n\tprotected commentColumnModel = new CommentColumnsModel();\n\tprivate modalType = ModalType;\n\tprivate viewUnpublished = false;\n\n\tprivate showAllComments: boolean;\n\tprivate showAllTasks: boolean;\n\tprivate taskCommentsList: any[] = [];\n\n\tconstructor(private taskService: TaskCommentService, private dialogService: UIDialogService, public promptService: UIPromptService, public taskManagerService: TaskService, private preferenceService: PreferenceService) {\n\t\tthis.getPreferences();\n\t}\n\n\tngOnInit(): void {\n\t\tthis.userTimeZone = this.preferenceService.getUserTimeZone();\n\t\tthis.showAllComments = false;\n\t\tthis.showAllTasks = false;\n\t\tthis.createDataGrids();\n\t}\n\n\t/**\n\t * Create the List for the Data Grids for Task and Comments\n\t * @returns {any}\n\t */\n\tprivate createDataGrids(): any {\n\t\tthis.taskService.searchComments(this.id, '')\n\t\t\t.subscribe((res) => {\n\t\t\t\tthis.taskCommentsList = res;\n\t\t\t\tthis.dataGridTaskHelper = new DataGridOperationsHelper(this.getTaskWithFilter(), null, null);\n\t\t\t\tthis.dataGridCommentHelper = new DataGridOperationsHelper(this.getCommentsWithFilter(), null, null);\n\t\t\t}, (err) => console.log(err));\n\t}\n\n\t/**\n\t * Get the Tasks and change the list based on the Filters being applied\n\t * @returns {any}\n\t */\n\tpublic getTaskWithFilter(): any {\n\t\treturn this.taskCommentsList\n\t\t\t.filter(comment => this.viewUnpublished || comment.commentInstance.isPublished)\n\t\t\t.filter(comment => comment.commentInstance.commentType === 'issue' || comment.commentInstance.taskNumber)\n\t\t\t.filter(comment => this.showAllTasks || comment.commentInstance.status !== 'Completed');\n\t}\n\n\t/**\n\t * Get the Comments and change the list based on the Filters being applied\n\t * @returns {any}\n\t */\n\tpublic getCommentsWithFilter(): any {\n\t\tlet filteredList = this.taskCommentsList.filter(comment => comment.commentInstance.commentType === 'comment' && comment.commentInstance.dateResolved === null);\n\t\tif (this.showAllComments) {\n\t\t\tfilteredList = this.taskCommentsList.filter(comment => comment.commentInstance.commentType === 'comment');\n\t\t}\n\t\treturn filteredList;\n\t}\n\n\tpublic getAssignedTo(comment): any {\n\t\tlet assignedToRoleLabel = (comment.role ? `/${comment.role}` : '');\n\t\treturn comment.assignedTo + (comment.commentInstance.commentType === 'comment' ? '' : assignedToRoleLabel);\n\t}\n\n\t/**\n\t * Create a task\n\t * @param comment\n\t */\n\tpublic createComment(comment: any): void {\n\t\tlet singleCommentModel: SingleCommentModel = {\n\t\t\tmodal: {\n\t\t\t\ttitle: 'Create Comment',\n\t\t\t\ttype: ModalType.CREATE\n\t\t\t},\n\t\t\tarchive: false,\n\t\t\tcomment: '',\n\t\t\tcategory: '',\n\t\t\tassetClass: {\n\t\t\t\ttext: this.assetType\n\t\t\t},\n\t\t\tasset: {\n\t\t\t\tid: this.id,\n\t\t\t\ttext: this.assetName\n\t\t\t}\n\t\t};\n\n\t\tthis.dialogService.extra(SingleCommentComponent, [\n\t\t\t{provide: SingleCommentModel, useValue: singleCommentModel}\n\t\t], false, false).then(result => {\n\t\t\tthis.createDataGrids();\n\t\t}).catch(result => {\n\t\t\tconsole.log('Dismissed Dialog');\n\t\t});\n\t}\n\n\t/**\n\t * Open the Comment Detail or Task Detail\n\t * @param comment\n\t */\n\tpublic openTaskComment(comment: any, modalType: ModalType): void {\n\t\tif (comment.commentInstance.taskNumber && comment.commentInstance.taskNumber !== 'null') {\n\t\t\tthis.openTaskDetail(comment);\n\t\t} else {\n\t\t\tthis.openCommentDetail(comment, modalType);\n\t\t}\n\t}\n\n\t/**\n\t * Open the Comment Detail\n\t * @param comment\n\t */\n\tpublic openCommentDetail(comment: any, modalType: ModalType): void {\n\t\tlet singleCommentModel: SingleCommentModel = {\n\t\t\tid: comment.commentInstance.id,\n\t\t\tmodal: {\n\t\t\t\ttitle: (modalType === ModalType.EDIT) ?  'Edit Comment' :  'Comment Detail',\n\t\t\t\ttype: modalType\n\t\t\t},\n\t\t\tarchive: comment.commentInstance.dateResolved !== null,\n\t\t\tcomment: comment.commentInstance.comment,\n\t\t\tcategory: comment.commentInstance.category,\n\t\t\tassetClass: {\n\t\t\t\ttext: comment.assetType,\n\t\t\t},\n\t\t\tasset: {\n\t\t\t\tid: this.id,\n\t\t\t\ttext: comment.assetName\n\t\t\t},\n\t\t\tlastUpdated: comment.commentInstance.lastUpdated,\n\t\t\tdateCreated: comment.commentInstance.dateCreated\n\t\t};\n\n\t\tthis.dialogService.extra(SingleCommentComponent, [\n\t\t\t{provide: SingleCommentModel, useValue: singleCommentModel}\n\t\t], false, false).then(result => {\n\t\t\tthis.createDataGrids();\n\t\t}).catch(result => {\n\t\t\tconsole.log('Dismissed Dialog');\n\t\t});\n\t}\n\n\t/**\n\t * Open the Task Create\n\t * @param dataItem\n\t */\n\tpublic openTaskCreate(): void {\n\n\t\tlet taskCreateModel: TaskDetailModel = {\n\t\t\tid: this.id.toString(),\n\t\t\tmodal: {\n\t\t\t\ttitle: 'Create Task',\n\t\t\t\ttype: ModalType.CREATE\n\t\t\t},\n\t\t\tdetail: {\n\t\t\t\tassetClass: this.assetType,\n\t\t\t\tassetEntity: this.id,\n\t\t\t\tassetName: this.assetName,\n\t\t\t\tcurrentUserId: this.currentUserId\n\t\t\t}\n\t\t};\n\n\t\tthis.dialogService.extra(TaskCreateComponent, [\n\t\t\t{provide: TaskDetailModel, useValue: taskCreateModel}\n\t\t], false, false)\n\t\t\t.then(result => {\n\t\t\t\tif (result) {\n\t\t\t\t\tthis.createDataGrids();\n\t\t\t\t}\n\n\t\t\t}).catch(result => {\n\t\t\t\tconsole.log('Cancel:', result);\n\t\t\t});\n\n\t}\n\n\t/**\n\t * Open the Task Detail\n\t * @param dataItem\n\t */\n\tpublic openTaskDetail(dataItem: any): void {\n\t\tlet taskDetailModel: TaskDetailModel = {\n\t\t\tid: dataItem.commentInstance.id,\n\t\t\tmodal: {\n\t\t\t\ttitle: 'Task Detail'\n\t\t\t},\n\t\t\tdetail: {\n\t\t\t\tcurrentUserId: this.currentUserId\n\t\t\t}\n\t\t};\n\n\t\tthis.dialogService.extra(TaskDetailComponent, [\n\t\t\t{provide: TaskDetailModel, useValue: taskDetailModel}\n\t\t], false, false)\n\t\t\t.then(result => {\n\t\t\t\tif (result) {\n\t\t\t\t\tif (result.isDeleted) {\n\t\t\t\t\t\tthis.deleteTaskComment(dataItem)\n\t\t\t\t\t\t\t.then(() => this.createDataGrids())\n\t\t\t\t\t} else if (result.commentInstance) {\n\t\t\t\t\t\tthis.openTaskDetail(result);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}).catch(result => {\n\t\t\t\tif (result) {\n\t\t\t\t\tthis.createDataGrids();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t/**\n\t * Open the Task Edit\n\t * @param dataItem\n\t */\n\tpublic openTaskEdit(dataItem: any): void {\n\t\tlet taskDetailModel: TaskDetailModel = new TaskDetailModel();\n\n\t\tthis.taskManagerService.getTaskDetails(dataItem.commentInstance.id)\n\t\t\t.subscribe((res) => {\n\t\t\t\tlet modelHelper = new TaskEditCreateModelHelper(this.userTimeZone, this.preferenceService.getUserCurrentDateFormatOrDefault());\n\t\t\t\ttaskDetailModel.detail = res;\n\t\t\t\ttaskDetailModel.modal = {\n\t\t\t\t\ttitle: 'Task Edit',\n\t\t\t\t\ttype: ModalType.EDIT\n\t\t\t\t};\n\n\t\t\t\tlet model = modelHelper.getModelForDetails(taskDetailModel);\n\t\t\t\tmodel.instructionLink = modelHelper.getInstructionsLink(taskDetailModel.detail);\n\t\t\t\tmodel.durationText = DateUtils.formatDuration(model.duration, model.durationScale);\n\t\t\t\tmodel.modal = taskDetailModel.modal;\n\n\t\t\t\tthis.dialogService.extra(TaskEditComponent, [\n\t\t\t\t\t{provide: TaskDetailModel, useValue: clone(model)}\n\t\t\t\t], false, false)\n\t\t\t\t\t.then(result => {\n\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\tif (result.isDeleted) {\n\t\t\t\t\t\t\t\tthis.deleteTaskComment(dataItem).then(() => this.createDataGrids())\n\t\t\t\t\t\t\t} else if (result.commentInstance) {\n\t\t\t\t\t\t\t\tthis.openTaskDetail(result);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}).catch(result => {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\tthis.createDataGrids();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t});\n\t}\n\n\tpublic reloadTasksGrid(): void {\n\t\tthis.dataGridTaskHelper.reloadData(this.getTaskWithFilter());\n\t}\n\n\tpublic reloadCommentsGrid(): void {\n\t\tthis.dataGridCommentHelper.reloadData(this.getCommentsWithFilter());\n\t}\n\n\t/**\n\t * Safe the preference as soon a user change the value\n\t */\n\tpublic onViewUnpublishedChange(): void {\n\t\tthis.preferenceService.setPreference(PREFERENCES_LIST.VIEW_UNPUBLISHED, this.viewUnpublished.toString()).subscribe();\n\t}\n\n\t/**\n\t * Get Preference for the View Unpublished\n\t * @returns {Observable<any>}\n\t */\n\tprivate getPreferences(): void {\n\t\tthis.preferenceService.getPreferences(PREFERENCES_LIST.VIEW_UNPUBLISHED).subscribe((preferences: any) => {\n\t\t\tthis.viewUnpublished = (preferences[PREFERENCES_LIST.VIEW_UNPUBLISHED]) ? preferences[PREFERENCES_LIST.VIEW_UNPUBLISHED].toString() === 'true' : false;\n\t\t});\n\t}\n\n\t/**\n\t * Prompt for delete the Asset Comment\n\t */\n\tprotected onDelete(dataItem: any): void {\n\t\tthis.promptService.open(\n\t\t\t'Confirmation Required',\n\t\t\t'Confirm deletion of this record. There is no undo for this action?',\n\t\t\t'Confirm', 'Cancel')\n\t\t\t.then(confirm => {\n\t\t\t\tif (confirm) {\n\t\t\t\t\tthis.deleteTaskComment(dataItem);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => console.log(error));\n\t}\n\n\t/**\n\t * Delete the Asset Task/Comment\n\t */\n\tprivate deleteTaskComment(dataItem: any): Promise<boolean> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst commentId = dataItem.commentInstance.id;\n\n\t\t\tthis.taskManagerService.deleteTaskComment(commentId).subscribe((res) => {\n\t\t\t\t// delete the item\n\t\t\t\tthis.dataGridTaskHelper.removeDataItem(dataItem);\n\t\t\t\tthis.dataGridCommentHelper.removeDataItem(dataItem);\n\t\t\t\t// Reload Grids\n\t\t\t\tthis.dataGridTaskHelper.reloadData(this.dataGridTaskHelper.gridData.data);\n\t\t\t\tthis.dataGridCommentHelper.reloadData(this.dataGridCommentHelper.gridData.data);\n\t\t\t\t// update task and comment collections\n\t\t\t\tthis.taskCommentsList = this.taskCommentsList.filter((comment) => comment.commentInstance.id !== commentId);\n\t\t\t\treturn resolve(true);\n\t\t\t}, err => reject(false));\n\t\t});\n\t}\n}","import { Component, Inject, ViewChild, OnInit } from '@angular/core';\nimport {State} from '@progress/kendo-data-query';\n\nimport { UIDialogService } from '../../../../shared/services/ui-dialog.service';\nimport { UIPromptService } from '../../../../shared/directives/ui-prompt.directive';\nimport { PermissionService } from '../../../../shared/services/permission.service';\nimport { DomainModel } from '../../../fieldSettings/model/domain.model';\nimport { FieldSettingsModel } from '../../../fieldSettings/model/field-settings.model';\nimport { Observable } from 'rxjs';\nimport { AssetExplorerStates } from '../../asset-explorer-routing.states';\nimport {ViewGroupModel, ViewModel} from '../../model/view.model';\nimport { ViewColumn, QueryColumn } from '../../model/view-spec.model';\nimport { AssetExplorerService } from '../../service/asset-explorer.service';\nimport {AssetExplorerViewGridComponent} from '../view-grid/asset-explorer-view-grid.component';\nimport { AssetExplorerViewSelectorComponent } from '../view-selector/asset-explorer-view-selector.component';\nimport { AssetExplorerViewSaveComponent } from '../view-save/asset-explorer-view-save.component';\nimport { AssetExplorerViewExportComponent } from '../view-export/asset-explorer-view-export.component';\nimport { Permission } from '../../../../shared/model/permission.model';\nimport { VIEW_COLUMN_MIN_WIDTH } from '../../model/view-spec.model';\nimport { AssetQueryParams } from '../../model/asset-query-params';\nimport { AssetExportModel } from '../../model/asset-export-model';\nimport { NotifierService } from '../../../../shared/services/notifier.service';\nimport { AlertType } from '../../../../shared/model/alert.model';\nimport { DictionaryService } from '../../../../shared/services/dictionary.service';\nimport { LAST_VISITED_PAGE } from '../../../../shared/model/constants';\nimport {TagModel} from '../../../assetTags/model/tag.model';\nimport { GRID_DEFAULT_PAGE_SIZE } from '../../../../shared/model/constants';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {clone} from 'ramda';\n\ndeclare var jQuery: any;\n@Component({\n\tselector: 'asset-explorer-View-config',\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/view-config/asset-explorer-view-config.component.html'\n})\nexport class AssetExplorerViewConfigComponent implements OnInit {\n\t@ViewChild('select') select: AssetExplorerViewSelectorComponent;\n\n\tprotected data: any;\n\tprivate dataSignature: string;\n\tprotected justPlanning: boolean;\n\tprotected gridState: State = {\n\t\tskip: 0,\n\t\ttake: GRID_DEFAULT_PAGE_SIZE,\n\t\tsort: []\n\t};\n\t// There will be more custom classes, but this are the list who has already an Icon\n\tassetClasses = ['APPLICATION', 'DEVICE', 'DATABASE', 'STORAGE'];\n\tfilterModel = {\n\t\tassets: {\n\t\t\t'COMMON': true,\n\t\t\t'APPLICATION': false,\n\t\t\t'DATABASE': false,\n\t\t\t'DEVICE': false,\n\t\t\t'STORAGE': false\n\t\t},\n\t\tasset: 'all',\n\t\tselected: 'all',\n\t\tsearch: ''\n\t};\n\tcollapsed = false;\n\tcollapsedColumnsPreview = false;\n\tcolumnIndex = 0;\n\trowIndex = 0;\n\n\tdraggableColumns: QueryColumn[];\n\tmodel: ViewModel;\n\tdomains: DomainModel[] = [];\n\tfilteredData: DomainModel[] = [];\n\tfields: FieldSettingsModel[] = [];\n\tallFields: FieldSettingsModel[] = [];\n\tposition: any[] = [];\n\tcurrentTab = 0;\n\tpreviewButtonClicked = false;\n\tprotected metadata: any = {};\n\n\tconstructor(\n\t\tprivate route: ActivatedRoute,\n\t\tprivate router: Router,\n\t\tprivate assetExplorerService: AssetExplorerService,\n\t\tprivate dialogService: UIDialogService,\n\t\tprivate permissionService: PermissionService,\n\t\tprivate notifier: NotifierService,\n\t\tprivate prompt: UIPromptService,\n\t\tprivate dictionary: DictionaryService) {\n\t\tthis.metadata.tagList = this.route.snapshot.data['tagList'];\n\t\tthis.allFields = this.route.snapshot.data['fields'];\n\t\tthis.fields = this.route.snapshot.data['fields'];\n\t\tthis.domains = this.route.snapshot.data['fields'];\n\t\tthis.model = {...this.route.snapshot.data['report']};\n\t\tthis.dataSignature = JSON.stringify(this.model);\n\t\tthis.draggableColumns = [];\n\t\tif (this.model.id) {\n\t\t\tthis.updateFilterbyModel();\n\t\t\tthis.currentTab = 1;\n\t\t\tthis.draggableColumns = this.model.schema.columns.slice();\n\t\t}\n\t}\n\n\tngOnInit(): void {\n\t\tthis.justPlanning = false;\n\t\tif (this.model.id) {\n\t\t\tthis.notifier.broadcast({\n\t\t\t\tname: 'notificationHeaderTitleChange',\n\t\t\t\ttitle: this.model.name\n\t\t\t});\n\t\t\tthis.previewButtonClicked = true;\n\t\t\tthis.onPreview();\n\t\t}\n\t}\n\n\tprotected updateFilterbyModel() {\n\t\tthis.model.schema.domains.forEach((domain: string) => this.filterModel.assets[domain.toUpperCase()] = true);\n\t\tthis.applyFilters();\n\t\tlet columns = this.model.schema.columns.map(x => `${x.domain}.${x.property}`);\n\t\tthis.fields\n\t\t\t.filter(f => columns.indexOf(`${f['domain']}.${f.field}`) !== -1)\n\t\t\t.forEach(x => x['selected'] = true);\n\t}\n\n\tprotected updateModelbyFilter() {\n\t\tthis.model.schema.domains = this.selectedAssetClasses().map(x => x.toLowerCase());\n\t\tif (!this.isAssetSelected()) {\n\t\t\tthis.model.schema.domains = [];\n\t\t\tthis.model.schema.columns = [];\n\t\t\tthis.draggableColumns = this.model.schema.columns.slice();\n\t\t\tthis.clearSorting();\n\t\t} else {\n\t\t\tthis.model.schema.columns = this.model.schema.columns\n\t\t\t\t.filter(c => this.model.schema.domains.indexOf(c.domain) !== -1);\n\t\t\tthis.draggableColumns = this.model.schema.columns.slice();\n\t\t}\n\t\tthis.fields.filter(x => x['selected'] &&\n\t\t\tthis.model.schema.domains.indexOf(x['domain'].toLowerCase()) === -1)\n\t\t\t.forEach(x => delete x['selected']);\n\t\tthis.applyFilters();\n\t\tthis.data = null;\n\t\tthis.previewButtonClicked = false;\n\t}\n\n\t/** Filter Methods */\n\n\tprotected applyFilters(): void {\n\t\tthis.applyAssetSelectFilter();\n\t\tthis.applyAssetClassFilter();\n\t\tthis.applyFieldFilter();\n\t\tthis.applySelectedFilter();\n\t\tthis.fields = this.mapFieldList();\n\t\tthis.columnIndex = 0;\n\t\tthis.rowIndex = 0;\n\t\tthis.position = this.fields.map(x => this.fieldStyle(x['isTitle']));\n\t\tsetTimeout(() => {\n\t\t\tjQuery('[data-toggle=\"popover\"]').popover();\n\t\t}, 200);\n\t}\n\n\tprotected applyAssetSelectFilter(): void {\n\t\tlet classes = this.selectedAssetClasses();\n\t\tthis.filteredData = this.domains\n\t\t\t.filter(x => classes.indexOf(x.domain.toUpperCase()) !== -1)\n\t\t\t.map(domain => {\n\t\t\t\treturn { ...domain };\n\t\t\t});\n\t}\n\n\tprotected applyAssetClassFilter(): void {\n\t\tif (this.filterModel.asset !== 'all') {\n\t\t\tthis.filteredData = this.filteredData.filter(domain => domain.domain.toUpperCase() === this.filterModel.asset.toUpperCase());\n\t\t}\n\t}\n\n\tprotected applyFieldFilter(): void {\n\t\tif (this.filterModel.search !== '') {\n\t\t\tlet regx = new RegExp(this.filterModel.search, 'i');\n\t\t\tthis.filteredData.forEach(domain => {\n\t\t\t\tdomain.fields = domain.fields.filter(field =>\n\t\t\t\t\tregx.test(field.label) || regx.test(field.field));\n\t\t\t});\n\t\t}\n\t}\n\n\tprotected applySelectedFilter(): void {\n\t\tif (this.filterModel.selected !== 'all') {\n\t\t\tthis.filteredData.forEach(domain => {\n\t\t\t\tdomain.fields = domain.fields.filter(field =>\n\t\t\t\t\tthis.filterModel.selected === 'true' ? field['selected'] : !field['selected']);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**Miscellaneus Methods */\n\tprivate mapFieldList(): FieldSettingsModel[] {\n\t\treturn this.filteredData\n\t\t\t.reduce((p: FieldSettingsModel[], c: DomainModel) => {\n\t\t\t\tif (c.fields.length > 0) {\n\t\t\t\t\tlet domainTitle = new FieldSettingsModel();\n\t\t\t\t\tdomainTitle['domain'] = c.domain.toLowerCase();\n\t\t\t\t\tdomainTitle['isTitle'] = true;\n\t\t\t\t\tp.push(domainTitle);\n\t\t\t\t}\n\t\t\t\treturn p.concat(c.fields);\n\t\t\t}, []);\n\t}\n\n\tprotected selectedAssetClasses(): string[] {\n\t\treturn Object.keys(this.filterModel.assets).filter(key => this.filterModel.assets[key]);\n\t}\n\n\tprotected fieldStyle(isTitle: boolean): any {\n\t\tif (isTitle && (this.columnIndex !== 0 || this.rowIndex !== 0)) {\n\t\t\tthis.columnIndex += 1;\n\t\t\tthis.rowIndex = 0;\n\t\t} else if (this.rowIndex >= 15) {\n\t\t\tthis.columnIndex += 1;\n\t\t\tthis.rowIndex = 1;\n\t\t}\n\t\tlet result = {\n\t\t\t'height': '25px',\n\t\t\t'width': '160px',\n\t\t\t'top': this.rowIndex * 25 + 'px',\n\t\t\t'left': this.columnIndex * 160 + 'px',\n\t\t\t'position': 'absolute',\n\t\t\t'margin': '0px',\n\t\t\t'padding-left': '10px',\n\t\t\t'padding-bottom': '5px'\n\t\t};\n\t\tthis.rowIndex += 1;\n\t\treturn result;\n\t}\n\n\tprotected openSaveDialog(): void {\n\t\tconst selectedData = this.select.data.filter(x => x.name === 'Favorites')[0];\n\t\tthis.dialogService.open(AssetExplorerViewSaveComponent, [\n\t\t\t{ provide: ViewModel, useValue: this.model },\n\t\t\t{ provide: ViewGroupModel, useValue: selectedData }\n\t\t]).then(result => {\n\t\t\tthis.model = result;\n\t\t\tthis.dataSignature = JSON.stringify(this.model);\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.router.navigate(['asset', 'views', this.model.id, 'edit']);\n\t\t\t});\n\t\t}).catch(result => {\n\t\t\tconsole.log('error');\n\t\t});\n\t}\n\n\t/** Validation and Permission Methods */\n\n\tprotected isAssetSelected(): boolean {\n\t\treturn this.model && this.model.schema && this.model.schema.domains.filter(x => x !== 'common').length > 0;\n\t}\n\n\tprotected isColumnSelected(): boolean {\n\t\treturn this.model.schema.columns.length > 0;\n\t}\n\n\tprotected isValid(): boolean {\n\t\treturn this.isAssetSelected() && this.isColumnSelected() && this.hasAtLeastOneNonLockedColumnOrEmpty();\n\t}\n\n\tprotected isDirty(): boolean {\n\t\tlet result = this.dataSignature !== JSON.stringify(this.model);\n\t\t// TODO: hasPendingChanges\n\t\t// if (this.state && this.state.$current && this.state.$current.data) {\n\t\t// \tthis.state.$current.data.hasPendingChanges = result && !this.collapsed;\n\t\t// }\n\t\treturn result;\n\t}\n\n\tprotected isSaveAvailable(): boolean {\n\t\treturn this.assetExplorerService.isSaveAvailable(this.model);\n\t}\n\n\tprotected isSaveAsAvailable(): boolean {\n\t\treturn this.model.id ?\n\t\t\tthis.model.isSystem ?\n\t\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerSystemSaveAs) :\n\t\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerSaveAs) :\n\t\t\tthis.isSaveAvailable();\n\t}\n\n\tprotected isSystemSaveAvailable(edit): boolean {\n\t\treturn edit ?\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerSystemEdit) :\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerSystemSaveAs);\n\t}\n\n\tprotected isCurrentTab(num: number): boolean {\n\t\treturn this.currentTab === num;\n\t}\n\n\tprotected setCurrentTab(num: number): void {\n\t\tthis.currentTab = num;\n\t}\n\n\t/**\n\t * Get the Icon of the Asset class, if does not exist use the Other generic icon\n\t * @param {string} assetName\n\t * @returns {string}\n\t */\n\tprotected getAssetIcon(assetName: string): string {\n\t\tlet validAssetIconClass = this.assetClasses.find((r) => r === assetName);\n\t\tif (!validAssetIconClass) {\n\t\t\tvalidAssetIconClass = 'other';\n\t\t}\n\t\treturn validAssetIconClass.toLocaleLowerCase() + '_menu';\n\t}\n\n\t/** Dialog and view Actions methods */\n\n\tprotected onSaveAs(): void {\n\t\tif (this.isSaveAsAvailable()) {\n\t\t\tthis.openSaveDialog();\n\t\t}\n\t}\n\n\tprotected onCancel() {\n\t\tif (this.model && this.model.id) {\n\t\t\tthis.router.navigate(['asset', 'views', this.model.id, 'show']);\n\t\t} else {\n\t\t\tthis.router.navigate(['asset', 'views']);\n\t\t}\n\t}\n\n\tprotected onSave() {\n\t\tif (this.isSaveAvailable()) {\n\t\t\tif (this.model.id) {\n\t\t\t\tthis.assetExplorerService.saveReport(this.model)\n\t\t\t\t\t.subscribe(result => {\n\t\t\t\t\t\tthis.dataSignature = JSON.stringify(this.model);\n\t\t\t\t\t\tthis.select.loadData();\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.openSaveDialog();\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected onExport(): void {\n\t\tlet assetExportModel: AssetExportModel = {\n\t\t\tassetQueryParams: this.getQueryParams(),\n\t\t\tdomains: this.domains,\n\t\t\tviewName: this.model.name\n\t\t};\n\n\t\tthis.dialogService.open(AssetExplorerViewExportComponent, [\n\t\t\t{ provide: AssetExportModel, useValue: assetExportModel }\n\t\t]).then(result => {\n\t\t\tconsole.log(result);\n\t\t}).catch(result => {\n\t\t\tconsole.log('error');\n\t\t});\n\t}\n\n\tprotected onFieldSelection(field: FieldSettingsModel) {\n\t\tif (field['selected']) {\n\t\t\tthis.model.schema.columns.push({\n\t\t\t\tdomain: field['domain'].toLowerCase(),\n\t\t\t\tproperty: field.field,\n\t\t\t\twidth: VIEW_COLUMN_MIN_WIDTH,\n\t\t\t\tlocked: false,\n\t\t\t\tedit: false,\n\t\t\t\tlabel: field.label,\n\t\t\t\tfilter: ''\n\t\t\t});\n\t\t\tif (this.model.schema.columns.length === 1) {\n\t\t\t\tthis.model.schema.sort = {\n\t\t\t\t\tdomain: field['domain'].toLowerCase(),\n\t\t\t\t\tproperty: field.field,\n\t\t\t\t\torder: 'a'\n\t\t\t\t};\n\t\t\t\tthis.gridState = Object.assign({}, this.gridState,\n\t\t\t\t\t{\n\t\t\t\t\t\tsort: [{ field: `${field['domain'].toLowerCase()}_${field.field}`, dir: 'asc' }]\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tlet index = this.model.schema.columns\n\t\t\t\t.findIndex(x => x.domain === field['domain'].toLowerCase() && x.property === field.field);\n\n\t\t\tif (index !== -1) {\n\t\t\t\tthis.model.schema.columns.splice(index, 1);\n\t\t\t}\n\t\t\tif (this.gridState.sort.length > 0\n\t\t\t\t&& this.gridState.sort[0].field === `${field['domain'].toLowerCase()}_${field.field}`\n\t\t\t\t&& this.model.schema.columns.length > 0) {\n\t\t\t\tthis.gridState.sort = [{ field: `${this.model.schema.columns[0]['domain'].toLowerCase()}_${this.model.schema.columns[0]}`, dir: 'asc' }];\n\t\t\t\tthis.model.schema.sort.domain = this.model.schema.columns[0].domain;\n\t\t\t\tthis.model.schema.sort.property = this.model.schema.columns[0].property;\n\t\t\t}\n\n\t\t\tif (!this.model.schema.columns.length) {\n\t\t\t\tthis.clearSorting();\n\t\t\t}\n\n\t\t}\n\t\tthis.draggableColumns = this.model.schema.columns.slice();\n\t\tthis.data = null;\n\t\tthis.model.schema = clone(this.model.schema);\n\t\tthis.previewButtonClicked = false;\n\t}\n\n\t/**\n\t * This method allows to modify the signature to allow to change favorite without affect the model.\n\t * TODO: It could be moved into a Signature Class Utility to not have all this logic spread on sereval components\n\t * @param {boolean} isFavorite\n\t */\n\tprivate modifyFavoriteSignature(isFavorite: boolean): void {\n\t\tlet signature = JSON.parse(this.dataSignature);\n\t\tsignature.isFavorite = isFavorite;\n\t\tthis.dataSignature = JSON.stringify(signature);\n\t}\n\n\tprotected onFavorite() {\n\t\tif (this.model.isFavorite) {\n\t\t\tif (this.model.id) {\n\t\t\t\tthis.assetExplorerService.deleteFavorite(this.model.id)\n\t\t\t\t\t.subscribe(d => {\n\t\t\t\t\t\tthis.model.isFavorite = false;\n\t\t\t\t\t\tthis.modifyFavoriteSignature(this.model.isFavorite);\n\t\t\t\t\t\tthis.select.loadData();\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.model.isFavorite = false;\n\t\t\t}\n\n\t\t} else {\n\t\t\tif (this.assetExplorerService.hasMaximumFavorites(this.select.data.filter(x => x.name === 'Favorites')[0].items.length + 1)) {\n\t\t\t\tthis.notifier.broadcast({\n\t\t\t\t\tname: AlertType.DANGER,\n\t\t\t\t\tmessage: 'Maximum number of favorite data views reached.'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (this.model.id) {\n\t\t\t\t\tthis.assetExplorerService.saveFavorite(this.model.id)\n\t\t\t\t\t\t.subscribe(d => {\n\t\t\t\t\t\t\tthis.model.isFavorite = true;\n\t\t\t\t\t\t\tthis.modifyFavoriteSignature(this.model.isFavorite);\n\t\t\t\t\t\t\tthis.select.loadData();\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.model.isFavorite = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected onPreview(): void {\n\t\tif (this.isValid() && this.previewButtonClicked) {\n\t\t\tlet params = this.getQueryParams();\n\t\t\tthis.assetExplorerService.previewQuery(params)\n\t\t\t\t.subscribe(result => {\n\t\t\t\t\tthis.data = result;\n\t\t\t\t\tjQuery('[data-toggle=\"popover\"]').popover();\n\t\t\t\t}, err => console.log(err));\n\t\t} else {\n\t\t\tthis.data = null;\n\t\t}\n\t}\n\n\tprivate freezeColumn(item: ViewColumn): void {\n\t\titem.locked = !item.locked;\n\t\tthis.onLockedColumn(item);\n\t}\n\n\tprotected onLockedColumn(item: ViewColumn): void {\n\t\tlet itemIndex = this.model.schema.columns.findIndex(x => x.domain === item.domain && x.property === item.property);\n\t\tthis.model.schema.columns.splice(itemIndex, 1);\n\t\tlet lockeds = this.model.schema.columns.filter((x: ViewColumn) => x.locked).length;\n\t\tthis.model.schema.columns.splice(lockeds, 0, item);\n\t\tthis.draggableColumns = this.model.schema.columns.slice();\n\t}\n\n\t/**\n\t * Prepare the Params for the Query with the current UI configuration\n\t * @returns {AssetQueryParams}\n\t */\n\tprivate getQueryParams(): AssetQueryParams {\n\t\tlet assetQueryParams = {\n\t\t\toffset: this.gridState.skip,\n\t\t\tlimit: this.gridState.take,\n\t\t\tsortDomain: this.model.schema.sort.domain,\n\t\t\tsortProperty: this.model.schema.sort.property,\n\t\t\tsortOrder: this.model.schema.sort.order,\n\n\t\t\tfilters: {\n\t\t\t\tdomains: this.model.schema.domains,\n\t\t\t\tcolumns: this.model.schema.columns\n\t\t\t}\n\t\t};\n\t\tif (this.justPlanning) {\n\t\t\tassetQueryParams['justPlanning'] = this.justPlanning;\n\t\t}\n\t\treturn assetQueryParams;\n\t}\n\n\tprotected onClearTextFilter() {\n\t\tthis.filterModel.search = '';\n\t\tthis.applyFilters();\n\t}\n\n\t/**\n\t * Switch between View and Edit\n\t * if is on the Edit and then move in to the View disables the confirm dialog\n\t */\n\tprotected onToggleConfig(): void {\n\t\tthis.collapsed = !this.collapsed;\n\t\tsetTimeout(() => {\n\t\t\tthis.notifier.broadcast({\n\t\t\t\tname: 'grid.header.position.change'\n\t\t\t});\n\t\t}, 1200);\n\t}\n\n\tprotected onToggleSelectedColumnsPreview(): void {\n\t\tthis.collapsedColumnsPreview = !this.collapsedColumnsPreview;\n\t}\n\n\tprotected onDragEnd(): void {\n\t\tthis.model.schema.columns = this.draggableColumns.slice();\n\t}\n\n\tprivate clearSorting() {\n\t\tthis.gridState.sort = [];\n\t\tdelete this.model.schema.sort;\n\t}\n\n\t/**\n\t -\n\t * Whenever the just planning change, grab the new value\n\t * @param justPlanning New value\n\t */\n\tprotected onJustPlanningChange(justPlanning: boolean): void {\n\t\tthis.justPlanning = justPlanning;\n\t}\n\n\t/**\n\t -\n\t * Whenever the grid state change, grab the new value\n\t * @param state New state\n\t */\n\tprotected onGridStateChange(state: State): void {\n\t\tthis.gridState = state;\n\t}\n\n\t/**\n\t -\n\t * Determine if exists at least one non locked column\n\t * or if the collection is empty\n\t * @returns {boolean}\n\t */\n\tprivate hasAtLeastOneNonLockedColumnOrEmpty(): boolean {\n\t\tconst columns = this.model.schema && this.model.schema.columns || [];\n\n\t\tif (columns.length === 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst nonLocked =  columns\n\t\t\t.filter((column: ViewColumn) => !column.locked);\n\n\t\treturn Boolean(nonLocked.length);\n\t}\n\n}","import {Component, ViewChild} from '@angular/core';\nimport {UIActiveDialogService} from '../../../../shared/services/ui-dialog.service';\nimport {ExcelExportComponent} from '@progress/kendo-angular-excel-export';\nimport {DomainModel} from '../../../fieldSettings/model/domain.model';\nimport {FieldImportance} from '../../../fieldSettings/model/field-settings.model';\nimport {AssetExportModel} from '../../model/asset-export-model';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {DateUtils} from '../../../../shared/utils/date.utils';\n\n@Component({\n\tselector: 'asset-explorer-view-export',\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/view-export/asset-explorer-view-export.component.html',\n\tstyles: [`\n        .has-error, .has-error:focus {\n            border: 1px #f00 solid;\n        }\n\t`]\n})\nexport class AssetExplorerViewExportComponent {\n\tprivate columns: any[];\n\tprotected fileName = 'asset_explorer';\n\tprotected exportFileName = '';\n\tprotected dataToExport: any[] = [];\n\tprivate allProperties = false;\n\n\t@ViewChild('excelexport') public excelexport: ExcelExportComponent;\n\n\tconstructor(public assetExportModel: AssetExportModel, public activeDialog: UIActiveDialogService, private assetExpService: AssetExplorerService) {\n\n\t\tlet configuredColumns = {...this.assetExportModel.assetQueryParams.filters.columns};\n\n\t\tthis.columns = Object.keys(configuredColumns).map((key) => {\n\t\t\tlet definition = {\n\t\t\t\tname: this.getPropertyColumnField(configuredColumns[key]['domain'], '_', configuredColumns[key]['property']),\n\t\t\t\ttitle: configuredColumns[key]['label'],\n\t\t\t\twidth: configuredColumns[key]['width'],\n\t\t\t\tlocked: configuredColumns[key]['locked'],\n\t\t\t\tcell: {\n\t\t\t\t\tbackground: this.getImportanceColor(configuredColumns[key])\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn definition;\n\t\t});\n\n\t\tthis.getFileName();\n\t}\n\n\t/**\n\t * Get the Color Schema for the Selected Field\n\t * @param model\n\t * @returns {string}\n\t */\n\tprivate getImportanceColor(model: any): string {\n\t\tlet domain = this.assetExportModel.domains.find(r => r.domain.toLocaleLowerCase() === model.domain.toLocaleLowerCase());\n\t\tlet field = domain.fields.find(r => r.label.toLocaleLowerCase() === model.label.toLocaleLowerCase());\n\t\treturn FieldImportance[field.imp].color;\n\t}\n\n\t/**\n\t * Transform the Data information\n\t */\n\tprivate getExportData(): void {\n\t\tif (!this.assetExportModel.queryId) {\n\t\t\tthis.assetExpService.previewQuery(this.assetExportModel.assetQueryParams)\n\t\t\t\t.subscribe(result => {\n\t\t\t\t\tthis.exportFileName = this.fileName + '-' + DateUtils.getTimestamp();\n\t\t\t\t\tthis.onExportDataResponse(result['assets']);\n\t\t\t\t}, err => console.log(err));\n\t\t} else {\n\t\t\tthis.assetExpService.query(this.assetExportModel.queryId, this.assetExportModel.assetQueryParams)\n\t\t\t\t.subscribe(result => {\n\t\t\t\t\tthis.exportFileName = this.fileName + '-' + DateUtils.getTimestamp();\n\t\t\t\t\tthis.onExportDataResponse(result['assets']);\n\t\t\t\t}, err => console.log(err));\n\t\t}\n\t}\n\n\t/**\n\t * Get the file Name to export the file\n\t */\n\tprivate getFileName(): void {\n\t\tthis.assetExpService.getFileName(this.assetExportModel.viewName)\n\t\t\t.subscribe(result => {\n\t\t\t\tthis.fileName = result;\n\t\t\t}, err => console.log(err));\n\t}\n\n\tprivate getPropertyColumnField(domain: string, separator: string, property: string): string {\n\t\tlet domainDefinition = domain.toLocaleLowerCase();\n\t\treturn domainDefinition + separator + property;\n\t}\n\n\tprotected onExportDataResponse(results: any): void {\n\t\tthis.dataToExport = results;\n\t\tsetTimeout(() => {\n\t\t\tthis.excelexport.save();\n\t\t\tthis.activeDialog.close();\n\t\t}, 500);\n\t}\n\n\tcancelCloseDialog(): void {\n\t\tthis.activeDialog.dismiss();\n\t}\n}","import {Component, EventEmitter, Input, OnInit, Output, ViewChild, OnChanges, SimpleChanges, ChangeDetectionStrategy} from '@angular/core';\n\nimport {VIEW_COLUMN_MIN_WIDTH, ViewColumn, ViewSpec} from '../../model/view-spec.model';\nimport {State} from '@progress/kendo-data-query';\nimport {DataStateChangeEvent, GridDataResult, RowClassArgs} from '@progress/kendo-angular-grid';\nimport {PREFERENCES_LIST, PreferenceService} from '../../../../shared/services/preference.service';\nimport {Observable} from 'rxjs';\n\nimport {UIDialogService} from '../../../../shared/services/ui-dialog.service';\nimport {\n\tDIALOG_SIZE,\n\tGRID_DEFAULT_PAGE_SIZE,\n\tGRID_DEFAULT_PAGINATION_OPTIONS,\n\tKEYSTROKE,\n\tModalType,\n\tSEARCH_QUITE_PERIOD\n} from '../../../../shared/model/constants';\nimport {AssetShowComponent} from '../asset/asset-show.component';\nimport {\n\tCUSTOM_FIELD_CONTROL_TYPE,\n\tFIELD_NOT_FOUND,\n\tFieldSettingsModel\n} from '../../../fieldSettings/model/field-settings.model';\nimport {NotifierService} from '../../../../shared/services/notifier.service';\nimport {TagModel} from '../../../assetTags/model/tag.model';\nimport {AssetTagSelectorComponent} from '../../../../shared/components/asset-tag-selector/asset-tag-selector.component';\nimport {BulkActionResult, BulkChangeType} from '../../../../shared/components/bulk-change/model/bulk-change.model';\nimport {CheckboxState, CheckboxStates} from '../../../../shared/components/tds-checkbox/model/tds-checkbox.model';\nimport {BulkCheckboxService} from '../../../../shared/services/bulk-checkbox.service';\nimport {ASSET_ENTITY_MENU} from '../../../../shared/modules/header/model/asset-menu.model';\nimport {PermissionService} from '../../../../shared/services/permission.service';\nimport {Permission} from '../../../../shared/model/permission.model';\nimport {AssetCreateComponent} from '../asset/asset-create.component';\nimport {ASSET_ENTITY_DIALOG_TYPES} from '../../model/asset-entity.model';\nimport {TaskCommentDialogComponent} from '../task-comment/dialog/task-comment-dialog.component';\nimport {SingleCommentModel} from '../single-comment/model/single-comment.model';\nimport {SingleCommentComponent} from '../single-comment/single-comment.component';\nimport {AssetModalModel} from '../../model/asset-modal.model';\nimport {AssetEditComponent} from '../asset/asset-edit.component';\nimport {AssetCloneComponent} from '../asset-clone/asset-clone.component';\nimport {CloneCLoseModel} from '../../model/clone-close.model';\nimport {TaskCreateComponent} from '../../../taskManager/components/create/task-create.component';\nimport {UserService} from '../../../../shared/services/user.service';\nimport {TaskDetailModel} from '../../../taskManager/model/task-detail.model';\nimport {BulkChangeButtonComponent} from '../../../../shared/components/bulk-change/components/bulk-change-button/bulk-change-button.component';\nimport {NumberConfigurationConstraintsModel} from '../../../fieldSettings/components/number/number-configuration-constraints.model';\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\n\nconst {\n\tASSET_JUST_PLANNING: PREFERENCE_JUST_PLANNING,\n\tASSET_LIST_SIZE: PREFERENCE_LIST_SIZE\n} = PREFERENCES_LIST;\ndeclare var jQuery: any;\n\n@Component({\n\tselector: 'asset-explorer-view-grid',\n\texportAs: 'assetExplorerViewGrid',\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/view-grid/asset-explorer-view-grid.component.html'\n})\nexport class AssetExplorerViewGridComponent implements OnInit, OnChanges {\n\t@Input() data: any;\n\t@Input() model: ViewSpec;\n\t@Input() gridState: State;\n\t@Output() modelChange = new EventEmitter<void>();\n\t@Output() justPlanningChange = new EventEmitter<boolean>();\n\t@Output() gridStateChange = new EventEmitter<State>();\n\t@Input() edit: boolean;\n\t@Input() metadata: any;\n\t@Input() fields: any;\n\t@ViewChild('tagSelector') tagSelector: AssetTagSelectorComponent;\n\t@ViewChild('tdsBulkChangeButton') tdsBulkChangeButton: BulkChangeButtonComponent;\n\t@Input()\n\tset viewId(viewId: number) {\n\t\tthis._viewId = viewId;\n\t\t// changing the view reset selections\n\t\tthis.bulkCheckboxService.setCurrentState(CheckboxStates.unchecked);\n\t\tthis.setActionCreateButton(viewId);\n\t\tthis.gridStateChange.emit({...this.gridState, skip: 0});\n\t\tthis.modelChange.emit();\n\t}\n\n\tpublic currentFields = [];\n\tpublic justPlanning = false;\n\tpublic VIEW_COLUMN_MIN_WIDTH = VIEW_COLUMN_MIN_WIDTH;\n\tpublic gridMessage = 'ASSET_EXPLORER.GRID.INITIAL_VALUE';\n\tpublic showMessage = true;\n\tpublic typingTimeout: any;\n\tASSET_ENTITY_MENU = ASSET_ENTITY_MENU;\n\tASSET_ENTITY_DIALOG_TYPES = ASSET_ENTITY_DIALOG_TYPES;\n\tprotected userTimeZone: string;\n\tprotected userDateFormat: string;\n\n\t// Pagination Configuration\n\tnotAllowedCharRegex = /ALT|ARROW|F+|ESC|TAB|SHIFT|CONTROL|PAGE|HOME|PRINT|END|CAPS|AUDIO|MEDIA/i;\n\tprivate maxDefault = GRID_DEFAULT_PAGE_SIZE;\n\tprivate maxOptions = GRID_DEFAULT_PAGINATION_OPTIONS;\n\tprivate _viewId: number;\n\tpublic fieldNotFound = FIELD_NOT_FOUND;\n\tgridData: GridDataResult;\n\tselectAll = false;\n\tprivate columnFiltersOldValues = [];\n\tprotected tagList: Array<TagModel> = [];\n\tpublic bulkItems: number[] = [];\n\tprotected selectedAssetsForBulk: Array<any>;\n\tpublic createButtonState: ASSET_ENTITY_DIALOG_TYPES;\n\tprivate currentUser: any;\n\tprotected fieldPipeMap: {pipe: any, metadata: any};\n\tprotected bulkChangeType: BulkChangeType = BulkChangeType.Assets;\n\n\tconstructor(\n\t\tprivate preferenceService: PreferenceService,\n\t\tprivate bulkCheckboxService: BulkCheckboxService,\n\t\tprivate notifier: NotifierService,\n\t\tprivate dialog: UIDialogService,\n\t\tprivate permissionService: PermissionService,\n\t\tprivate assetExplorerService: AssetExplorerService,\n\t\tprivate userService: UserService) {\n\t\t\tthis.fieldPipeMap = {pipe: {}, metadata: {}};\n\t\t\tthis.userDateFormat = this.preferenceService.getUserDateFormatForMomentJS();\n\t}\n\n\tngOnInit(): void {\n\t\tthis.gridData = {\n\t\t\tdata: [],\n\t\t\ttotal: 0\n\t\t};\n\n\t\tthis.userTimeZone = this.preferenceService.getUserTimeZone();\n\t\tthis.selectedAssetsForBulk = [];\n\t\tthis.getPreferences().subscribe((preferences: any) => {\n\t\t\tthis.updateGridState({take: parseInt(preferences[PREFERENCE_LIST_SIZE], 10) || 25});\n\n\t\t\tthis.bulkCheckboxService.setPageSize(this.gridState.take);\n\t\t\tthis.justPlanning = (preferences[PREFERENCE_JUST_PLANNING]) ? preferences[PREFERENCE_JUST_PLANNING].toString() === 'true' : false;\n\t\t\tthis.justPlanningChange.emit(this.justPlanning);\n\t\t\tthis.onReload();\n\t\t});\n\n\t\t// Iterate Fields to get reference for this context\n\t\tthis.currentFields = this.fields.reduce((p, c) => {\n\t\t\treturn p.concat(c.fields);\n\t\t}, []).map((f: FieldSettingsModel) => {\n\t\t\tif (f.control === CUSTOM_FIELD_CONTROL_TYPE.DateTime\n\t\t\t\t|| f.control === CUSTOM_FIELD_CONTROL_TYPE.Date\n\t\t\t\t|| f.control === CUSTOM_FIELD_CONTROL_TYPE.Number) {\n\t\t\t\t\tthis.fieldPipeMap.pipe[`${f['domain']}_${f.field}`] = f.control;\n\t\t\t\t\tif (f.control === CUSTOM_FIELD_CONTROL_TYPE.Number) {\n\t\t\t\t\t\tlet format = (f.constraints as NumberConfigurationConstraintsModel).format || '0';\n\t\t\t\t\t\tthis.fieldPipeMap.metadata[`${f['domain']}_${f.field}`] = format;\n\t\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tkey: `${f['domain']}_${f.field}`,\n\t\t\t\tlabel: f.label\n\t\t\t};\n\t\t});\n\t\t// Listen to any Changes outside the model, like Asset Edit Views\n\t\tthis.eventListeners();\n\t\tthis.getCurrentUser();\n\n\t}\n\n\tngOnChanges(changes: SimpleChanges) {\n\t\tconst dataChange = changes['data'];\n\n\t\tif (dataChange && dataChange.currentValue !== dataChange.previousValue) {\n\t\t\tthis.applyData(dataChange.currentValue)\n\t\t}\n\n\t}\n\n\tprivate getPreferences(): Observable<any> {\n\t\treturn this.preferenceService.getPreferences(PREFERENCE_LIST_SIZE, PREFERENCE_JUST_PLANNING);\n\t}\n\n\t/**\n\t * Reload the current Kendo List when an event that requires the changes occurs completely out of the context.\n\t */\n\tprivate eventListeners() {\n\t\tthis.notifier.on('reloadCurrentAssetList', (event) => {\n\t\t\tthis.onReload();\n\t\t});\n\t}\n\n\t/**\n\t * Draws the Label property\n\t * @param {ViewColumn} column\n\t * @returns {string}\n\t */\n\tgetPropertyLabel(column: ViewColumn): string {\n\t\tlet field = this.currentFields.find(f => f.key === `${column.domain}_${column.property}`);\n\t\tif (field) {\n\t\t\treturn field.label;\n\t\t}\n\t\tcolumn.notFound = true;\n\t\treturn column.label;\n\t}\n\n\trowCallbackClass(context: RowClassArgs) {\n\t\tlet obj = {};\n\t\tobj[context.dataItem.common_assetClass.toLowerCase()] = true;\n\t\treturn obj;\n\t}\n\n\tonClearFilters(): void {\n\t\tthis.model.columns.forEach((c: ViewColumn) => {\n\t\t\tc.filter = '';\n\t\t});\n\t\tthis.onFilter();\n\t\tif (this.tagSelector) {\n\t\t\tthis.tagSelector.reset();\n\t\t}\n\t}\n\n\thasFilterApplied(): boolean {\n\t\treturn this.model.columns.filter((c: ViewColumn) => c.filter).length > 0;\n\t}\n\n\tclearText(column: ViewColumn): void {\n\t\tthis.bulkCheckboxService.handleFiltering();\n\t\tif (column.filter) {\n\t\t\tcolumn.filter = '';\n\t\t\tthis.updateGridState({skip: 0});\n\t\t\tif ( this.preventFilterSearch(column)) {\n\t\t\t\treturn; // prevent search\n\t\t\t}\n\t\t\tthis.onReload();\n\t\t}\n\t}\n\n\tonReload(): void {\n\t\tthis.modelChange.emit();\n\t}\n\n\tonFilter(): void {\n\t\tthis.updateGridState({skip: 0});\n\t\tthis.onReload();\n\t}\n\n\tprivate preventFilterSearch(column: ViewColumn): boolean {\n\t\tlet key = `${column.domain}_${column.property}`;\n\t\tlet oldVal = this.columnFiltersOldValues[key];\n\t\tthis.columnFiltersOldValues[key] = column.filter;\n\t\treturn oldVal === column.filter;\n\t}\n\n\tprotected onFilterKeyUp(e: KeyboardEvent, column?: any): void {\n\t\tif ( this.preventFilterSearch(column)) {\n\t\t\treturn; // prevent search\n\t\t}\n\t\tif (e.code === KEYSTROKE.ENTER) {\n\t\t\tthis.onFilter();\n\t\t} else if (!this.notAllowedCharRegex.test(e.code)) {\n\t\t\tclearTimeout(this.typingTimeout);\n\t\t\tthis.typingTimeout = setTimeout(() => this.onFilter(), SEARCH_QUITE_PERIOD);\n\t\t}\n\t}\n\n\tprotected onPaste(column?: any): void {\n\t\tif ( this.preventFilterSearch(column)) {\n\t\t\treturn; // prevent search\n\t\t}\n\t\tclearTimeout(this.typingTimeout);\n\t\tthis.typingTimeout = setTimeout(() => this.onFilter(), SEARCH_QUITE_PERIOD);\n\t}\n\n\tprotected onFilterKeyDown(e: KeyboardEvent): void {\n\t\tthis.bulkCheckboxService.handleFiltering();\n\n\t\tif (!this.notAllowedCharRegex.test(e.code)) {\n\t\t\tclearTimeout(this.typingTimeout);\n\t\t}\n\t}\n\n\tprivate applyData(data: any): void {\n\t\tconst {assets = null, pagination = null} = data || {};\n\t\tconst total = pagination && pagination.total || 0;\n\n\t\tthis.gridMessage = 'ASSET_EXPLORER.GRID.NO_RECORDS';\n\t\tthis.bulkCheckboxService.initializeKeysBulkItems(assets || []);\n\n\t\tthis.gridData = {\n\t\t\tdata: assets || [],\n\t\t\ttotal\n\t\t};\n\n\t\tthis.showMessage = total === 0;\n\t\tthis.notifier.broadcast({\n\t\t\tname: 'grid.header.position.change'\n\t\t});\n\t\t// when dealing with locked columns Kendo grid fails to update the height, leaving a lot of empty space\n\t\tjQuery('.k-grid-content-locked').addClass('element-height-100-per-i');\n\t}\n\n\tprivate clear(): void {\n\t\tthis.showMessage = true;\n\t\tthis.gridMessage = 'ASSET_EXPLORER.GRID.SCHEMA_CHANGE';\n\t\tthis.gridData = null;\n\t\t// when dealing with locked columns Kendo grid fails to update the height, leaving a lot of empty space\n\t\tjQuery('.k-grid-content-locked').addClass('element-height-100-per-i');\n\t\tthis.updateGridState({\n\t\t\tskip: 0,\n\t\t\ttake: this.gridState.take,\n\t\t\tsort: []\n\t\t});\n\t}\n\n\tprotected dataStateChange(state: DataStateChangeEvent): void {\n\t\tif (state.sort[0]) {\n\t\t\t// Invert the Order to remove the Natural/Default from the UI (no arrow)\n\t\t\tif (!state.sort[0].dir) {\n\t\t\t\tstate.sort[0].dir = (this.model.sort.order === 'a' ? 'desc' : 'asc');\n\t\t\t}\n\n\t\t\tlet field = state.sort[0].field.split('_');\n\t\t\tthis.model.sort.domain = field[0];\n\t\t\tthis.model.sort.property = field[1];\n\t\t\tthis.model.sort.order = state.sort[0].dir === 'asc' ? 'a' : 'd';\n\t\t}\n\t\tthis.updateGridState(state);\n\t\tthis.modelChange.emit();\n\t}\n\n\tprotected createDependencyPromise(assetClass: string, id: number) {\n\t\tsetTimeout(() => {\n\t\t\tthis.dialog.open(AssetShowComponent, [\n\t\t\t\t{ provide: 'ID', useValue: id },\n\t\t\t\t{ provide: 'ASSET', useValue: assetClass }],\n\t\t\t\tDIALOG_SIZE.LG).then(x => {\n\t\t\t\t\tthis.createDependencyPromise(x.assetClass, x.id);\n\t\t\t\t}).catch(x => {\n\t\t\t\t\tconsole.log(x);\n\t\t\t\t});\n\t\t}, 500);\n\t}\n\n\t/**\n\t * On Show the Dialog for the current selected Asset\n\t * @param data\n\t */\n\tprotected onShow(data: any) {\n\t\tthis.dialog.open(AssetShowComponent, [\n\t\t\t{ provide: 'ID', useValue: data['common_id'] },\n\t\t\t{ provide: 'ASSET', useValue: data['common_assetClass'] }],\n\t\t\tDIALOG_SIZE.LG, false)\n\t\t\t.then(asset => {\n\t\t\t\tif (asset) {\n\t\t\t\t\tthis.createDependencyPromise(asset.assetClass, asset.id);\n\t\t\t\t}\n\t\t\t\tthis.onReload();\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.log('Error:', error);\n\t\t\t\tthis.onReload();\n\t\t\t});\n\t}\n\n\t/**\n\t * display the create asset modal\n\t */\n\tprotected onCreateAsset(assetEntityType: string): void {\n\t\tif (!assetEntityType) {\n\t\t\treturn;\n\t\t}\n\t\tthis.dialog.open(AssetCreateComponent, [\n\t\t\t\t{ provide: 'ASSET', useValue: assetEntityType }],\n\t\t\tDIALOG_SIZE.LG, false).then(x => {\n\t\t\tif (x) {\n\t\t\t\tthis.createDependencyPromise(x.assetClass, 0);\n\t\t\t}\n\t\t}).catch(x => {\n\t\t\tconsole.log(x);\n\t\t});\n\t}\n\n\tonWidthChange(data: any) {\n\t\tthis.model.columns.filter((c: ViewColumn) =>\n\t\t\tdata[0].column.field === `${c.domain}_${c.property}`\n\t\t).forEach((c: ViewColumn) => {\n\t\t\tc.width = data[0].newWidth;\n\t\t});\n\t}\n\n\tonChangeBulkCheckbox(checkboxState: CheckboxState): void {\n\t\tthis.bulkCheckboxService.changeState(checkboxState);\n\t}\n\n\tcheckItem(id: number, checked: boolean): void {\n\t\tthis.bulkCheckboxService.checkItem(id, checked, this.gridData.data.length);\n\t}\n\n\tonBulkOperationResult(operationResult: BulkActionResult): void {\n\t\tif (operationResult && operationResult.success) {\n\t\t\tthis.bulkCheckboxService.uncheckItems();\n\t\t\tthis.onReload();\n\t\t}\n\t}\n\n\tprotected canCreateAssets(): boolean {\n\t\treturn this.permissionService.hasPermission(Permission.AssetExplorerCreate);\n\t}\n\n\tprotected showTask(dataItem: any, rowIndex: number) {\n\t\tthis.highlightGridRow(rowIndex);\n\t\tconst assetModalModel: AssetModalModel = {\n\t\t\tassetId: dataItem.common_id,\n\t\t\tassetName: dataItem.common_assetName,\n\t\t\tassetType: dataItem.common_assetClass,\n\t\t\tmodalType: 'TASK'\n\t\t}\n\n\t\tthis.dialog.open(TaskCommentDialogComponent, [\n\t\t\t{provide: AssetModalModel, useValue: assetModalModel},\n\t\t\t{provide: 'currentUserId', useValue: this.currentUser.id}\n\t\t], DIALOG_SIZE.LG, true).then(result => {\n\t\t\tif (result) {\n\t\t\t\tconsole.log('Show Task Result',  result);\n\t\t\t}\n\t\t}).catch(result => {\n\t\t\tconsole.log(result);\n\t\t});\n\n\t}\n\n\t/**\n\t * Open the Task Create\n\t * @param dataItem\n\t */\n\tpublic createTask(dataItem: any, rowIndex: number): void {\n\t\tthis.highlightGridRow(rowIndex);\n\t\tlet taskCreateModel: TaskDetailModel = {\n\t\t\tid: dataItem.common_id,\n\t\t\tmodal: {\n\t\t\t\ttitle: 'Create Task',\n\t\t\t\ttype: ModalType.CREATE\n\t\t\t},\n\t\t\tdetail: {\n\t\t\t\tassetClass: dataItem.common_assetClass,\n\t\t\t\tassetEntity: dataItem.common_id,\n\t\t\t\tassetName: dataItem.common_assetName,\n\t\t\t\tcurrentUserId: this.currentUser.id\n\t\t\t}\n\t\t};\n\n\t\tthis.dialog.extra(TaskCreateComponent, [\n\t\t\t{provide: TaskDetailModel, useValue: taskCreateModel}\n\t\t], false, false)\n\t\t\t.then(result => {\n\t\t\t\tif (result) {\n\t\t\t\t\tthis.onReload();\n\t\t\t\t}\n\n\t\t\t}).catch(result => {\n\t\t\tconsole.log('Cancel:', result);\n\t\t});\n\n\t}\n\n\tprotected showComment(dataItem: any, rowIndex: number) {\n\t\tthis.highlightGridRow(rowIndex);\n\t\tconst assetModalModel: AssetModalModel = {\n\t\t\tassetId: dataItem.common_id,\n\t\t\tassetName: dataItem.common_assetName,\n\t\t\tassetType: dataItem.common_assetClass,\n\t\t\tmodalType: 'COMMENT'\n\t\t}\n\n\t\tthis.dialog.open(TaskCommentDialogComponent, [\n\t\t\t{provide: AssetModalModel, useValue: assetModalModel},\n\t\t\t{provide: 'currentUserId', useValue: this.currentUser.id}\n\t\t], DIALOG_SIZE.LG, true).then(result => {\n\t\t\tif (result) {\n\t\t\t\tconsole.log('Show Comment Result',  result);\n\t\t\t}\n\t\t}).catch(result => {\n\t\t\tconsole.log(result);\n\t\t});\n\t}\n\n\tprotected createComment(dataItem: any, rowIndex: number) {\n\t\tthis.highlightGridRow(rowIndex);\n\t\tlet singleCommentModel: SingleCommentModel = {\n\t\t\tmodal: {\n\t\t\t\ttitle: 'Create Comment',\n\t\t\t\ttype: ModalType.CREATE\n\t\t\t},\n\t\t\tarchive: false,\n\t\t\tcomment: '',\n\t\t\tcategory: '',\n\t\t\tassetClass: {\n\t\t\t\ttext: dataItem.common_assetClass\n\t\t\t},\n\t\t\tasset: {\n\t\t\t\tid: dataItem.common_id,\n\t\t\t\ttext: dataItem.common_assetName\n\t\t\t}\n\t\t};\n\n\t\tthis.dialog.extra(SingleCommentComponent, [\n\t\t\t{provide: SingleCommentModel, useValue: singleCommentModel}\n\t\t], false, false).then(result => {\n\t\t\tconsole.log('RESULT SINGLE COMMENT', result);\n\t\t\tthis.onReload();\n\t\t}).catch(result => {\n\t\t\tconsole.log(result);\n\t\t});\n\t}\n\n\tprotected showAssetEditView(dataItem: any, rowIndex: number) {\n\t\tthis.highlightGridRow(rowIndex);\n\t\tconst componentParameters = [\n\t\t\t{ provide: 'ID', useValue: dataItem.common_id },\n\t\t\t{ provide: 'ASSET', useValue: dataItem.common_assetClass }\n\t\t];\n\n\t\tthis.dialog.open(AssetEditComponent, componentParameters, DIALOG_SIZE.LG)\n\t\t\t.then(() => this.onReload())\n\t\t\t.catch((err) => this.onReload() )\n\t}\n\n\t/**\n\t * Allows to display the clone asset modal\n\t */\n\tprotected showAssetCloneView(dataItem: any, rowIndex: number) {\n\t\tthis.highlightGridRow(rowIndex);\n\n\t\tconst cloneModalModel: AssetModalModel = {\n\t\t\tassetType: dataItem.common_assetClass,\n\t\t\tassetId: dataItem.common_id\n\t\t}\n\t\tthis.dialog.extra(AssetCloneComponent, [\n\t\t\t{provide: AssetModalModel, useValue: cloneModalModel}\n\t\t], false, false).then( (result: CloneCLoseModel)  => {\n\n\t\t\tif (result.clonedAsset && result.showEditView) {\n\t\t\t\tconst componentParameters = [\n\t\t\t\t\t{ provide: 'ID', useValue: result.assetId },\n\t\t\t\t\t{ provide: 'ASSET', useValue: dataItem.common_assetClass }\n\t\t\t\t];\n\n\t\t\t\tthis.dialog.open(AssetEditComponent, componentParameters, DIALOG_SIZE.XLG);\n\t\t\t} else if (!result.clonedAsset && result.showView) {\n\t\t\t\tconst data: any = {\n\t\t\t\t\tcommon_id: result.assetId,\n\t\t\t\t\tcommon_assetClass: dataItem.common_assetClass\n\t\t\t\t};\n\t\t\t\tthis.onShow(data);\n\n\t\t\t}\n\t\t}).catch( error => console.log('error', error));\n\t}\n\n\tprotected setCreatebuttonState(state: ASSET_ENTITY_DIALOG_TYPES) {\n\t\tif (this._viewId === this.ASSET_ENTITY_MENU.All_ASSETS) {\n\t\t\tthis.createButtonState = state;\n\t\t}\n\t}\n\n\t/**\n\t * set the asset type depends on the view that is display in order to set\n\t * by default the behavior of the create button\n\t * @param viewId\n\t */\n\tprotected setActionCreateButton(viewId) {\n\t\tswitch (viewId) {\n\t\t\tcase this.ASSET_ENTITY_MENU.All_APPLICATIONS:\n\t\t\t\tthis.createButtonState = this.ASSET_ENTITY_DIALOG_TYPES.APPLICATION;\n\t\t\t\tbreak;\n\t\t\tcase this.ASSET_ENTITY_MENU.All_DATABASES:\n\t\t\t\tthis.createButtonState = this.ASSET_ENTITY_DIALOG_TYPES.DATABASE;\n\t\t\t\tbreak;\n\t\t\tcase this.ASSET_ENTITY_MENU.All_DEVICE:\n\t\t\tcase this.ASSET_ENTITY_MENU.All_STORAGE_PHYSICAL:\n\t\t\tcase this.ASSET_ENTITY_MENU.All_SERVERS:\n\t\t\t\tthis.createButtonState = this.ASSET_ENTITY_DIALOG_TYPES.DEVICE;\n\t\t\t\tbreak;\n\t\t\tcase this.ASSET_ENTITY_MENU.All_STORAGE_VIRTUAL:\n\t\t\t\tthis.createButtonState = this.ASSET_ENTITY_DIALOG_TYPES.STORAGE;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * Validates if should display the create button, depends on the view\n\t * that is trying to show.\n\t */\n\tprotected displayCreateButton() {\n\t\treturn this._viewId === this.ASSET_ENTITY_MENU.All_ASSETS ||\n\t\t\tthis._viewId === this.ASSET_ENTITY_MENU.All_APPLICATIONS ||\n\t\t\tthis._viewId === this.ASSET_ENTITY_MENU.All_DATABASES ||\n\t\t\tthis._viewId === this.ASSET_ENTITY_MENU.All_DEVICE ||\n\t\t\tthis._viewId === this.ASSET_ENTITY_MENU.All_STORAGE_PHYSICAL ||\n\t\t\tthis._viewId === this.ASSET_ENTITY_MENU.All_SERVERS ||\n\t\t\tthis._viewId === this.ASSET_ENTITY_MENU.All_STORAGE_VIRTUAL;\n\t}\n\n\t/**\n\t * It was fixed by Kendo itself, this just prevent the double click\n\t * @param event:any\n\t */\n\tpublic onClickTemplate(event: any): void {\n\t\tevent.preventDefault();\n\t}\n\n\t/**\n\t * On cell click event.\n\t * Determines if cell clicked property is either assetName or assetId and opens detail popup.\n\t * @param e\n\t */\n\tprotected  cellClick(e): void {\n\t\tif (['common_assetName', 'common_id'].indexOf(e.column.field) !== -1) {\n\t\t\tthis.onShow(e.dataItem);\n\t\t}\n\t}\n\n\t/**\n\t * Allow to highlight the row grid\n\t */\n\tprivate highlightGridRow(rowIndex) {\n\t\tjQuery('tr.k-state-selected').removeClass('k-state-selected');\n\t\tjQuery(`tr[data-kendo-grid-item-index=${rowIndex}]`).addClass('k-state-selected');\n\t}\n\n\t/**\n\t * Returns specific class name based on the cell property name.\n\t * @param {ViewColumn} column\n\t * @returns {string} asset-detail-link for assetName or assetId.\n\t */\n\tprivate getCellClass(column: ViewColumn): string {\n\t\tif (['common_assetName', 'common_id'].indexOf(column.domain + '_' + column.property) !== -1) {\n\t\t\tlet classColumn = 'asset-detail-link';\n\t\t\tif (column.property === 'assetName') {\n\t\t\t\tclassColumn += ' asset-detail-name-column';\n\t\t\t}\n\t\t\treturn classColumn;\n\t\t}\n\t\treturn '';\n\t}\n\n\tonChangeJustPlanning(isChecked = false): void {\n\t\tthis.justPlanningChange.emit(isChecked);\n\n\t\tthis.preferenceService.setPreference(PREFERENCE_JUST_PLANNING, isChecked.toString()).subscribe(() => {\n\t\t\tthis.onReload();\n\t\t});\n\t}\n\n\t/**\n\t * On Asset Tag Filter change, run the query.\n\t * @param $event\n\t */\n\tprotected onTagFilterChange(column: ViewColumn, $event: any): void {\n\t\tcolumn.filter = '';\n\t\tlet operator = $event.operator && $event.operator === 'ALL' ? '&' : '|';\n\t\tlet selectedTagsFilter = ($event.tags as Array<TagModel>).map( tag => tag.id).join(`${operator}`);\n\t\tcolumn.filter = selectedTagsFilter;\n\t\tthis.onFilter();\n\t}\n\n\t/**\n\t * Gather the List of Selected Items for the Bulk Process\n\t */\n\tpublic onClickBulkButton(): void {\n\t\tthis.bulkCheckboxService.getBulkSelectedItems({\n\t\t\tviewId: this._viewId,\n\t\t\tmodel: this.model,\n\t\t\tjustPlanning: this.justPlanning\n\t\t}, this.getBulkAssetIdsFromView.bind(this))\n\t\t.subscribe((results: any) => {\n\t\t\tthis.bulkItems = [...results.selectedAssetsIds];\n\t\t\tthis.selectedAssetsForBulk = [...results.selectedAssets];\n\t\t\tthis.tdsBulkChangeButton.bulkData({bulkItems: this.bulkItems, assetsSelectedForBulk: this.selectedAssetsForBulk});\n\t\t}, (err) => console.log('Error:', err));\n\t}\n\n\thasSelectedItems(): boolean {\n\t\treturn this.bulkCheckboxService.hasSelectedItems();\n\t}\n\n\tgetSelectedItemsCount(): number {\n\t\tconst allCounter = (this.gridData && this.gridData.total) || 0;\n\t\treturn this.bulkCheckboxService.getSelectedItemsCount(allCounter)\n\t}\n\n\tprivate getCurrentUser() {\n\t\tthis.userService.getUserInfo()\n\t\t\t.subscribe( (user: any) => {\n\t\t\t\tthis.currentUser = user;\n\t\t\t}, (error: any) => console.log(error));\n\t}\n\n\t/**\n\t * Set the grid configuration and emit the event to the host component\n\t */\n\tprivate updateGridState(state: State): void {\n\t\tconst newState = Object.assign({}, this.gridState, state) ;\n\t\tthis.gridStateChange.emit(newState);\n\t}\n\n\t/**\n\t *  Get the bulk list of asset ids\n\t */\n\tprivate getBulkAssetIdsFromView(params): Observable<any> {\n\t\tconst {viewId, model, justPlanning} = params;\n\n\t\tlet payload = {\n\t\t\tforExport: true,\n\t\t\toffset: 0,\n\t\t\tlimit: 0,\n\t\t\tsortDomain: model.sort.domain,\n\t\t\tsortProperty: model.sort.property,\n\t\t\tsortOrder: model.sort.order,\n\t\t\tfilters: {\n\t\t\t\tdomains: model.domains,\n\t\t\t\tcolumns: model.columns\n\t\t\t}\n\t\t};\n\n\t\tif (justPlanning) {\n\t\t\tpayload['justPlanning'] = true;\n\t\t}\n\n\t\treturn this.assetExplorerService.query(viewId, payload);\n\t}\n}\n","import { Component, Inject } from '@angular/core';\nimport { UIActiveDialogService } from '../../../../shared/services/ui-dialog.service';\nimport { PermissionService } from '../../../../shared/services/permission.service';\nimport { ViewModel, ViewGroupModel } from '../../model/view.model';\nimport { AssetExplorerService } from '../../service/asset-explorer.service';\nimport { NotifierService } from '../../../../shared/services/notifier.service';\nimport { AlertType } from '../../../../shared/model/alert.model';\nimport {Permission} from '../../../../shared/model/permission.model';\n\n@Component({\n\tselector: 'asset-explorer-view-save',\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/view-save/asset-explorer-view-save.component.html'\n})\nexport class AssetExplorerViewSaveComponent {\n\tmodel: ViewModel;\n\tprivate isUnique = true;\n\n\tconstructor(\n\t\tmodel: ViewModel,\n\t\tprivate favorites: ViewGroupModel,\n\t\tprivate assetExpService: AssetExplorerService,\n\t\tpublic activeDialog: UIActiveDialogService,\n\t\tprivate permissionService: PermissionService,\n\t\tprivate notifier: NotifierService) {\n\n\t\tthis.model = { ...model };\n\t\tif (this.model.id) {\n\t\t\tthis.model.name = `Copy of ${this.model.name}`;\n\t\t\tthis.model.id = null;\n\t\t\tthis.model.isSystem = false;\n\t\t\tthis.model.isFavorite = false;\n\t\t}\n\t\tif (this.model.isSystem) {\n\t\t\tthis.model.isShared = false;\n\t\t}\n\t}\n\n\tprotected cancelCloseDialog(): void {\n\t\tthis.activeDialog.dismiss();\n\t}\n\n\tprotected confirmCloseDialog() {\n\t\tthis.assetExpService.saveReport(this.model)\n\t\t\t.subscribe(result => result && this.activeDialog.close(result),\n\t\t\terror => this.activeDialog.dismiss(error));\n\t}\n\n\tprotected isValid(): boolean {\n\t\treturn this.model.name && this.model.name.trim() !== '' && this.isUnique;\n\t}\n\n\t/**\n\t * Disable the System View checkbox if the user does not have the proper permission\n\t * @returns {boolean}\n\t */\n\tprivate isSystemCreatePermitted(): boolean {\n\t\treturn this.permissionService.hasPermission(Permission.AssetExplorerSystemCreate);\n\t}\n\n\t/**\n\t * Should turn isShared to false when isSystem is selected as true.\n\t */\n\tprivate onIsSystemChange(): void {\n\t\tif (this.model.isSystem && this.model.isShared) {\n\t\t\tthis.model.isShared = false;\n\t\t}\n\t}\n\n\tprotected onFavorite() {\n\t\tif (this.model.isFavorite) {\n\t\t\tthis.model.isFavorite = false;\n\t\t\tif (this.model.id) {\n\t\t\t\tconst reportIndex = this.favorites.items.findIndex(x => x.id === this.model.id);\n\t\t\t\tif (reportIndex !== -1) {\n\t\t\t\t\tthis.favorites.items.splice(reportIndex, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.assetExpService.hasMaximumFavorites(this.favorites.items.length + 1)) {\n\t\t\t\tthis.notifier.broadcast({\n\t\t\t\t\tname: AlertType.DANGER,\n\t\t\t\t\tmessage: 'Maximum number of favorite data views reached.'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.model.isFavorite = true;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tprotected onNameChanged() {\n\t\tthis.validateUniquenessDataViewByName(this.model.name);\n\t}\n\n\tprivate validateUniquenessDataViewByName(dataViewName = '') {\n\t\tif (!dataViewName.trim()) {\n\t\t\t// handle empty string\n\t\t\tthis.isUnique = false;\n\t\t} else {\n\t\t\tthis.assetExpService.validateUniquenessDataViewByName(dataViewName)\n\t\t\t\t.subscribe((isUnique: boolean) => this.isUnique = isUnique,\n\t\t\t\t\t(error) => console.log(error.message));\n\t\t}\n\n\t}\n}","import {\n\tComponent,\n\tInject,\n\tViewChild,\n\tAfterViewInit,\n\tInput,\n\tOutput,\n\tViewEncapsulation,\n\tEventEmitter,\n\tElementRef\n} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {DropDownListComponent} from '@progress/kendo-angular-dropdowns';\n\nimport {ViewGroupModel} from '../../model/view.model';\nimport {ViewType} from '../../model/view.model';\nimport {PermissionService} from '../../../../shared/services/permission.service';\nimport {Permission} from '../../../../shared/model/permission.model';\n\nimport {AssetExplorerService} from '../../service/asset-explorer.service';\nimport {Router} from '@angular/router';\n\n@Component({\n\tselector: 'asset-explorer-view-selector',\n\texportAs: 'assetExplorerViewSelector',\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/view-selector/asset-explorer-view-selector.component.html',\n\tencapsulation: ViewEncapsulation.None,\n\tstyles: [\n\t\t\t`ul.k-list .k-item.k-state-selected, ul.k-list .k-item.k-state-selected:hover {\n            color: #656565;\n            background-color: #ededed;\n        }`\n\t]\n})\nexport class AssetExplorerViewSelectorComponent implements AfterViewInit {\n\t@Input() open ? = false;\n\t@Input() nameAsUrl ? = true;\n\t@Input() showCreate ? = true;\n\t@Input() isDisabled ? = false;\n\t@Output() onSelectView = new EventEmitter<any>();\n\t@ViewChild('kendoDropDown') dropdown: DropDownListComponent;\n\t@ViewChild('viewSelectorFilter') viewSelectorFilter: ElementRef;\n\tprivate reports: ViewGroupModel[];\n\tpublic data: ViewGroupModel[];\n\tprivate searchFilterSelector = '';\n\tpublic defaultItem = {\n\t\tname: 'Saved Views',\n\t\tdefault: true\n\t};\n\tpublic selectedItem = '';\n\n\tconstructor(\n\t\tprivate router: Router,\n\t\tprivate service: AssetExplorerService,\n\t\tprivate permissionService: PermissionService) {\n\t\tservice.getReports().subscribe((result) => {\n\t\t\tthis.data = result;\n\t\t\tthis.reports = result.slice();\n\t\t});\n\t}\n\n\tngAfterViewInit(): void {\n\t\tif (this.open) {\n\t\t\tthis.dropdown.toggle(true);\n\t\t}\n\t}\n\n\tprotected onAction(e): void {\n\t\te.prevented = true;\n\t}\n\n\tprotected onToggle() {\n\t\tsetTimeout(() => {\n\t\t\tthis.dropdown.toggle(!this.dropdown.isOpen)\n\t\t\tsetTimeout( () => {\n\t\t\t\tif (this.dropdown.isOpen && this.viewSelectorFilter) {\n\t\t\t\t\tthis.viewSelectorFilter.nativeElement.focus();\n\t\t\t\t}\n\t\t\t}, 300);\n\t\t});\n\t}\n\n\tprotected onSearch(): void {\n\t\tlet regex = new RegExp(this.searchFilterSelector, 'i');\n\t\tthis.data = this.reports.map((reportGrp) => {\n\t\t\tlet item = {...reportGrp};\n\t\t\titem.items = item.items.filter(report => regex.test(report.name));\n\t\t\treturn item;\n\t\t});\n\t}\n\n\tprotected getFolderStyle(item: ViewGroupModel) {\n\t\treturn {\n\t\t\t'fa-star text-yellow': item.type === ViewType.FAVORITES,\n\t\t\t'fa-folder': item.type !== ViewType.FAVORITES\n\t\t};\n\t}\n\n\tprotected onFolderClick(item: ViewGroupModel) {\n\t\titem.open = !item.open;\n\t}\n\n\t/**\n\t * Create a new Report\n\t * @param {ViewGroupModel} item\n\t */\n\tprotected onCreateNew(item: ViewGroupModel): void {\n\t\tif (this.isCreateAvailable(item)) {\n\t\t\t// TODO: STATE SERVICE GO\n\t\t\t// this.stateService.go(AssetExplorerStates.REPORT_CREATE.name,\n\t\t\t// \t{system: item.type === ViewType.SYSTEM_VIEWS});\n\t\t\tthis.router.navigate(['asset', 'views', 'create']);\n\t\t}\n\t}\n\n\t/**\n\t * Show/Hide the Create Button if not in All / Favorites / Recent\n\t * @returns {boolean}\n\t */\n\tprotected isCreateVisible(item: ViewGroupModel): boolean {\n\t\treturn (this.showCreate && item.type !== ViewType.ALL &&\n\t\t\titem.type !== ViewType.FAVORITES &&\n\t\t\titem.type !== ViewType.RECENT) && this.isCreateAvailable(item);\n\t}\n\n\t/**\n\t * Disable the Create View if the user does not have the proper permission\n\t * @returns {boolean}\n\t */\n\tprotected isCreateAvailable(item: ViewGroupModel): boolean {\n\t\treturn item.type === ViewType.SYSTEM_VIEWS ?\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerSystemCreate) :\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerCreate);\n\n\t}\n\n\tpublic loadData() {\n\t\tthis.service.getReports()\n\t\t\t.subscribe(result => {\n\t\t\t\tthis.data = result as ViewGroupModel[];\n\t\t\t});\n\t}\n\n\tprotected onFocusOut($event): void {\n\t\tif (this.dropdown.isOpen) {\n\t\t\tthis.selectedItem = this.defaultItem.name;\n\t\t\tthis.onToggle();\n\t\t}\n\t}\n}\n","import {Component, Inject, ViewChild, OnInit, OnDestroy} from '@angular/core';\nimport {ActivatedRoute, Router, NavigationEnd} from '@angular/router';\nimport { Observable } from 'rxjs';\nimport {State} from '@progress/kendo-data-query';\n\nimport { UIDialogService } from '../../../../shared/services/ui-dialog.service';\nimport { PermissionService } from '../../../../shared/services/permission.service';\nimport {ViewGroupModel, ViewModel} from '../../model/view.model';\nimport { AssetExplorerService } from '../../service/asset-explorer.service';\nimport { Permission } from '../../../../shared/model/permission.model';\nimport { NotifierService } from '../../../../shared/services/notifier.service';\nimport { AlertType } from '../../../../shared/model/alert.model';\nimport { GRID_DEFAULT_PAGE_SIZE } from '../../../../shared/model/constants';\n\nimport { AssetExplorerViewGridComponent } from '../view-grid/asset-explorer-view-grid.component';\nimport { AssetExplorerViewSelectorComponent } from '../view-selector/asset-explorer-view-selector.component';\nimport { AssetExplorerViewSaveComponent } from '../view-save/asset-explorer-view-save.component';\nimport { AssetExplorerViewExportComponent } from '../view-export/asset-explorer-view-export.component';\nimport { AssetQueryParams } from '../../model/asset-query-params';\nimport { DomainModel } from '../../../fieldSettings/model/domain.model';\nimport { AssetExportModel } from '../../model/asset-export-model';\nimport {TagModel} from '../../../assetTags/model/tag.model';\n\ndeclare var jQuery: any;\n@Component({\n\tselector: 'asset-explorer-view-show',\n\ttemplateUrl: '../tds/web-app/app-js/modules/assetExplorer/components/view-show/asset-explorer-view-show.component.html'\n})\nexport class AssetExplorerViewShowComponent implements OnInit, OnDestroy {\n\n\tprivate currentId;\n\tprivate dataSignature: string;\n\tpublic fields: DomainModel[] = [];\n\tprotected model: ViewModel = new ViewModel();\n\tprotected domains: DomainModel[] = [];\n\tprotected metadata: any = {};\n\tprivate lastSnapshot;\n\tprotected navigationSubscription;\n\tprotected justPlanning: boolean;\n\tprotected data: any;\n\tprotected gridState: State = {\n\t\tskip: 0,\n\t\ttake: GRID_DEFAULT_PAGE_SIZE,\n\t\tsort: []\n\t};\n\n\t@ViewChild('select') select: AssetExplorerViewSelectorComponent;\n\n\tconstructor(\n\t\tprivate route: ActivatedRoute,\n\t\tprivate router: Router,\n\t\tprivate dialogService: UIDialogService,\n\t\tprivate permissionService: PermissionService,\n\t\tprivate assetExplorerService: AssetExplorerService,\n\t\tprivate notifier: NotifierService) {\n\n\t\tthis.metadata.tagList = this.route.snapshot.data['tagList'];\n\t\tthis.fields = this.route.snapshot.data['fields'];\n\t\tthis.domains = this.route.snapshot.data['fields'];\n\t\tthis.model = this.route.snapshot.data['report'];\n\t\tthis.dataSignature = JSON.stringify(this.model);\n\t}\n\n\tngOnInit(): void {\n\t\tthis.reloadStrategy();\n\t\tthis.initialiseComponent();\n\t}\n\n\t/**\n\t * Ensure the listener is not available after moving away from this component\n\t */\n\tngOnDestroy(): void {\n\t\tif (this.navigationSubscription) {\n\t\t\tthis.navigationSubscription.unsubscribe();\n\t\t}\n\t}\n\n\t/**\n\t * Reload Strategy keep listen To change to the route so we can reload whatever is inside the component\n\t * Increase dramatically the Performance\n\t */\n\tprivate reloadStrategy(): void {\n\t\t// The following code Listen to any change made on the rout to reload the page\n\t\tthis.navigationSubscription = this.router.events.subscribe((event: any) => {\n\t\t\tif (event.snapshot && event.snapshot.data && event.snapshot.data.fields) {\n\t\t\t\tthis.lastSnapshot = event.snapshot;\n\t\t\t}\n\t\t\t// If it is a NavigationEnd event re-initalise the component\n\t\t\tif (event instanceof NavigationEnd) {\n\t\t\t\tconsole.log(event);\n\t\t\t\tif (this.currentId && this.currentId !== this.lastSnapshot.params.id) {\n\t\t\t\t\tthis.metadata.tagList = this.lastSnapshot.data['tagList'];\n\t\t\t\t\tthis.fields = this.lastSnapshot.data['fields'];\n\t\t\t\t\tthis.domains = this.lastSnapshot.data['fields'];\n\t\t\t\t\tthis.model = this.lastSnapshot.data['report'];\n\t\t\t\t\tthis.dataSignature = JSON.stringify(this.model);\n\t\t\t\t\tthis.initialiseComponent();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Calls every time the Component is recreated by calling same URL\n\t */\n\tprivate initialiseComponent(): void {\n\t\tthis.justPlanning = false;\n\t\tthis.currentId = this.model.id;\n\t\tthis.notifier.broadcast({\n\t\t\tname: 'notificationHeaderTitleChange',\n\t\t\ttitle: this.model.name\n\t\t});\n\n\t\tthis.gridState = Object.assign({}, this.gridState, {sort: [\n\t\t\t\t{\n\t\t\t\t\tfield: `${this.model.schema.sort.domain}_${this.model.schema.sort.property}`,\n\t\t\t\t\tdir: this.model.schema.sort.order === 'a' ? 'asc' : 'desc'\n\t\t\t\t}\n\t\t\t]});\n\t}\n\n\tprotected onQuery(): void {\n\t\tlet params = {\n\t\t\toffset: this.gridState.skip,\n\t\t\tlimit: this.gridState.take,\n\t\t\tsortDomain: this.model.schema.sort.domain,\n\t\t\tsortProperty: this.model.schema.sort.property,\n\t\t\tsortOrder: this.model.schema.sort.order,\n\t\t\tfilters: {\n\t\t\t\tdomains: this.model.schema.domains,\n\t\t\t\tcolumns: this.model.schema.columns\n\t\t\t}\n\t\t};\n\t\tif (this.justPlanning) {\n\t\t\tparams['justPlanning'] = true;\n\t\t}\n\t\tthis.assetExplorerService.query(this.model.id, params).subscribe(result => {\n\t\t\tthis.data = result;\n\t\t\tjQuery('[data-toggle=\"popover\"]').popover();\n\t\t}, err => console.log(err));\n\t}\n\n\tprotected onEdit(): void {\n\t\tif (this.isEditAvailable()) {\n\t\t\tthis.router.navigate(['asset', 'views', this.model.id, 'edit']);\n\t\t}\n\t}\n\n\tprotected onSave() {\n\t\tif (this.isSaveAvailable()) {\n\t\t\tthis.assetExplorerService.saveReport(this.model)\n\t\t\t\t.subscribe(result => {\n\t\t\t\t\tthis.dataSignature = JSON.stringify(this.model);\n\t\t\t\t});\n\t\t}\n\t}\n\n\tprotected onSaveAs(): void {\n\t\tconst selectedData = this.select.data.filter(x => x.name === 'Favorites')[0];\n\t\tif (this.isSaveAsAvailable()) {\n\t\t\tthis.dialogService.open(AssetExplorerViewSaveComponent, [\n\t\t\t\t{ provide: ViewModel, useValue: this.model },\n\t\t\t\t{ provide: ViewGroupModel, useValue: selectedData }\n\t\t\t]).then(result => {\n\t\t\t\tthis.model = result;\n\t\t\t\tthis.dataSignature = JSON.stringify(this.model);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.router.navigate(['asset', 'views', this.model.id, 'edit']);\n\t\t\t\t});\n\t\t\t}).catch(result => {\n\t\t\t\tconsole.log('error');\n\t\t\t});\n\t\t}\n\t}\n\n\tprotected isDirty(): boolean {\n\t\tlet result = this.dataSignature !== JSON.stringify(this.model);\n\t\treturn result;\n\t}\n\n\tprotected onExport(): void {\n\t\tlet assetExportModel: AssetExportModel = {\n\t\t\tassetQueryParams: this.getQueryParamsForExport(),\n\t\t\tdomains: this.domains,\n\t\t\tqueryId: this.model.id,\n\t\t\tviewName: this.model.name\n\t\t};\n\n\t\tthis.dialogService.open(AssetExplorerViewExportComponent, [\n\t\t\t{ provide: AssetExportModel, useValue: assetExportModel }\n\t\t]).then(result => {\n\t\t\tconsole.log(result);\n\t\t}).catch(result => {\n\t\t\tconsole.log('error:', result);\n\t\t});\n\t}\n\n\tprotected onFavorite(): void {\n\t\tif (this.model.isFavorite) {\n\t\t\tthis.assetExplorerService.deleteFavorite(this.model.id)\n\t\t\t\t.subscribe(d => {\n\t\t\t\t\tthis.model.isFavorite = false;\n\t\t\t\t\tthis.select.loadData();\n\t\t\t\t});\n\t\t} else {\n\t\t\tif (this.assetExplorerService.hasMaximumFavorites(this.select.data.filter(x => x.name === 'Favorites')[0].items.length + 1)) {\n\t\t\t\tthis.notifier.broadcast({\n\t\t\t\t\tname: AlertType.DANGER,\n\t\t\t\t\tmessage: 'Maximum number of favorite data views reached.'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.assetExplorerService.saveFavorite(this.model.id)\n\t\t\t\t\t.subscribe(d => {\n\t\t\t\t\t\tthis.model.isFavorite = true;\n\t\t\t\t\t\tthis.select.loadData();\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Prepare the Params for the Query with the current UI configuration\n\t * Params should 'limit' to total number of total from the gridData since we want to export ALL DATA, not\n\t * the configured pagination results.\n\t * @returns {AssetQueryParams}\n\t */\n\tprivate getQueryParamsForExport(): AssetQueryParams {\n\t\tlet assetQueryParams: AssetQueryParams = {\n\t\t\toffset: this.data ? 0 : this.gridState.skip,\n\t\t\tlimit: this.data ? this.data.pagination.total : this.gridState.take,\n\t\t\tforExport: true,\n\t\t\tsortDomain: this.model.schema.sort.domain,\n\t\t\tsortProperty: this.model.schema.sort.property,\n\t\t\tsortOrder: this.model.schema.sort.order,\n\t\t\tfilters: {\n\t\t\t\tdomains: this.model.schema.domains,\n\t\t\t\tcolumns: this.model.schema.columns\n\t\t\t}\n\t\t};\n\t\tif (this.justPlanning) {\n\t\t\tassetQueryParams['justPlanning'] = this.justPlanning;\n\t\t}\n\n\t\treturn assetQueryParams;\n\t}\n\n\tprotected isSaveAvailable(): boolean {\n\t\treturn this.assetExplorerService.isSaveAvailable(this.model);\n\t}\n\n\tprotected isSaveAsAvailable(): boolean {\n\t\treturn this.model.isSystem ?\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerSystemSaveAs) :\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerSaveAs);\n\t}\n\n\tprotected isSystemSaveAvailable(edit): boolean {\n\t\treturn edit ?\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerSystemEdit) :\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerSystemSaveAs);\n\t}\n\n\tprotected isEditAvailable(): boolean {\n\t\treturn this.model.isSystem ?\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerSystemEdit) :\n\t\t\tthis.permissionService.hasPermission(Permission.AssetExplorerEdit);\n\t}\n\n\t/**\n\t * Whenever the just planning change, grab the new value\n\t * @param justPlanning\n\t */\n\tprotected onJustPlanningChange(justPlanning: boolean): void {\n\t\tthis.justPlanning = justPlanning;\n\t}\n\n\t/**\n\t -\n\t * Whenever the grid state change, grab the new value\n\t * @param state New state\n\t */\n\tprotected onGridStateChange(state: State): void {\n\t\tthis.gridState = state;\n\t}\n\n\t/**\n\t -\n\t * Based on isOwner property determines which save function call\n\t */\n\tprotected save() {\n\t\tthis.model.isOwner ? this.onSave() : this.onSaveAs()\n\t}\n\n\t/**\n\t -\n\t * Based on isOwner property determines the id of the button save\n\t */\n\tprotected getSaveButtonId(): string {\n\t\treturn this.model.isOwner ? 'btnSave' : 'btnSaveAs'\n\t}\n}","/**\n * Some views for the Assets were created by DB Scripts, however the given ID's are\n * the same across all environments\n */\n\n/**\n * Used to avoid the hardcoded reference for Show, Create and Edit of all Assets\n */\nexport enum ASSET_ENTITY_DIALOG_TYPES {\n\tAPPLICATION = 'APPLICATION',\n\tDATABASE = 'DATABASE',\n\tDEVICE = 'DEVICE',\n\tSTORAGE = 'STORAGE',\n}\n","import {AssetQueryParams} from './asset-query-params';\nimport {DomainModel} from '../../fieldSettings/model/domain.model';\n\nexport class AssetExportModel {\n\tassetQueryParams: AssetQueryParams;\n\tqueryId?: number;\n\ttotalData?: number;\n\tdomains: DomainModel[];\n\tviewName?: string;\n}","\n/**\n * Used to describe input object when starting clone modal\n */\nexport class AssetModalModel {\n\tassetType: string;\n\tassetId: number;\n\tassetName?: string;\n\tmodalType?: string;\n}\n","// Angular\nimport {Injectable} from '@angular/core';\nimport {Router, Resolve, ActivatedRouteSnapshot} from '@angular/router';\n// Services\nimport {CustomDomainService} from '../../fieldSettings/service/custom-domain.service';\n// Others\nimport {Observable} from 'rxjs';\n\n@Injectable()\nexport class FieldsResolveService implements Resolve<any> {\n\tconstructor(private customDomainService: CustomDomainService, private router: Router) {\n\t}\n\n\t/**\n\t * Get the List of Common Fields Used on several views\n\t * @param route\n\t */\n\tresolve(route: ActivatedRouteSnapshot): Observable<any> | boolean {\n\t\treturn this.customDomainService.getCommonFieldSpecs().map(domains => {\n\t\t\tlet commonIndex = domains.findIndex(x => x.domain.toUpperCase() === 'COMMON');\n\t\t\tif (commonIndex !== -1) {\n\t\t\t\tlet common = domains.splice(commonIndex, 1);\n\t\t\t\tdomains = common.concat(domains);\n\t\t\t}\n\t\t\tdomains.forEach(d => {\n\t\t\t\td.fields = d.fields.sort((a, b) => a.label > b.label ? 1 : b.label > a.label ? -1 : 0);\n\t\t\t\td.fields.forEach(f => {\n\t\t\t\t\tf['domain'] = d.domain.toLowerCase();\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn domains;\n\t\t}).catch((err) => {\n\t\t\tconsole.error('FieldsResolveService:', 'An Error Occurred trying to fetch Field List');\n\t\t\tthis.router.navigate(['/security/error']);\n\t\t\treturn Observable.of(false);\n\t\t});\n\t}\n}","// Angular\nimport {Injectable} from '@angular/core';\nimport {Router, Resolve, ActivatedRouteSnapshot} from '@angular/router';\n// Services\nimport {AssetExplorerService} from '../service/asset-explorer.service';\n// Others\nimport {Observable} from 'rxjs';\n\n@Injectable()\nexport class ReportResolveService implements Resolve<any> {\n\tconstructor(private assetExplorerService: AssetExplorerService, private router: Router) {\n\t}\n\n\t/**\n\t * Get the List of Reports used in Several Views\n\t * @param route\n\t */\n\tresolve(route: ActivatedRouteSnapshot): Observable<any> | boolean {\n\t\tconst reportId = route.params['id'];\n\t\tif (!reportId) {\n\t\t\t// We are on a Create Model, we inject a empty Object\n\t\t\treturn Observable.of({\n\t\t\t\tisFavorite: false,\n\t\t\t\tisOwner: true,\n\t\t\t\tisShared: false,\n\t\t\t\tisSystem: false,\n\t\t\t\tschema: {\n\t\t\t\t\tcolumns: [],\n\t\t\t\t\tdomains: []\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\treturn this.assetExplorerService.getReport(reportId).map(reports => {\n\t\t\t\treturn reports;\n\t\t\t}).catch((err) => {\n\t\t\t\tconsole.error('ReportResolveService:', 'An Error Occurred trying to fetch Single Report ' + reportId);\n\t\t\t\tthis.router.navigate(['/security/error']);\n\t\t\t\treturn Observable.of(false);\n\t\t\t});\n\t\t}\n\t}\n}","// Angular\nimport {Injectable} from '@angular/core';\nimport {Router, Resolve, ActivatedRouteSnapshot} from '@angular/router';\n// Services\nimport {AssetExplorerService} from '../service/asset-explorer.service';\n// Others\nimport {Observable} from 'rxjs';\n\n@Injectable()\nexport class ReportsResolveService implements Resolve<any> {\n\tconstructor(private assetExplorerService: AssetExplorerService, private router: Router) {\n\t}\n\n\t/**\n\t * Get the List of Reports used in Several Views\n\t * @param route\n\t */\n\tresolve(route: ActivatedRouteSnapshot): Observable<any> | boolean {\n\t\treturn this.assetExplorerService.getReports().map(reports => {\n\t\t\treturn reports;\n\t\t}).catch((err) => {\n\t\t\tconsole.error('ReportsResolveService:', 'An Error Occurred trying to fetch all Reports');\n\t\t\tthis.router.navigate(['/security/error']);\n\t\t\treturn Observable.of(false);\n\t\t});\n\t}\n}","// Angular\nimport {Injectable} from '@angular/core';\nimport {Router, Resolve, ActivatedRouteSnapshot} from '@angular/router';\n// Services\nimport {TagService} from '../../assetTags/service/tag.service';\n// Models\nimport {ApiResponseModel} from '../../../shared/model/ApiResponseModel';\n// Others\nimport {Observable} from 'rxjs';\n\n@Injectable()\nexport class TagsResolveService implements Resolve<any> {\n\tconstructor(private tagService: TagService, private router: Router) {\n\t}\n\n\t/**\n\t * Get the List of Tags used in Several Views\n\t * @param route\n\t */\n\tresolve(route: ActivatedRouteSnapshot): Observable<any> | boolean {\n\t\treturn this.tagService.getTags().map(result => {\n\t\t\treturn result.status === ApiResponseModel.API_SUCCESS && result.data ? result.data : [];\n\t\t}).catch((err) => {\n\t\t\tconsole.error('TagsResolveService:', 'An Error Occurred trying to fetch all Tags');\n\t\t\tthis.router.navigate(['/security/error']);\n\t\t\treturn Observable.of(false);\n\t\t});\n\t}\n}","import { Injectable } from '@angular/core';\nimport { HttpInterceptor } from '../../../shared/providers/http-interceptor.provider';\nimport { Observable } from 'rxjs';\nimport { Response } from '@angular/http';\nimport { RequestOptions, Headers } from '@angular/http';\n\n@Injectable()\nexport class DependecyService {\n\tprivate assetUrl = '../ws/asset';\n\n\tconstructor(private http: HttpInterceptor) {\n\n\t}\n\n\tgetDependencies(mainAsset: number, secondaryAsset: number): Observable<any> {\n\t\tconst headers = new Headers({ 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8' });\n\t\tconst options = new RequestOptions({ headers: headers });\n\t\treturn this.http.post(`${this.assetUrl}/dependencies`, `assetAId=${mainAsset}&assetBId=${secondaryAsset}`, options)\n\t\t\t.map((res: Response) => {\n\t\t\t\tlet result = res.json();\n\t\t\t\treturn result && result.status === 'success' && result.data;\n\t\t\t}).catch((error: any) => error.json());\n\t}\n\n}","import {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {Response} from '@angular/http';\nimport {HttpInterceptor} from '../../../shared/providers/http-interceptor.provider';\nimport {PermissionService} from '../../../shared/services/permission.service';\nimport {DeviceModel} from '../components/device/model-device/model/device-model.model';\n\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\n\n@Injectable()\nexport class ModelService {\n\tprivate modelUrl = '/tdstm/model';\n\tconstructor(private http: HttpInterceptor, private permissionService: PermissionService) {}\n\n\tgetModelAsJSON(id: string): Observable<DeviceModel> {\n\t\tconst url = `${this.modelUrl}/retrieveModelAsJSON?id=${id}`;\n\n\t\treturn this.http.post(url, '')\n\t\t\t.map((res: Response) => res.json())\n\t\t\t.catch((error: any) => error.json());\n\t}\n}","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Response } from '@angular/http';\nimport { HttpInterceptor } from '../../../shared/providers/http-interceptor.provider';\n\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\n\n@Injectable()\nexport class TaskCommentService {\n\n\tprivate assetExplorerUrl = '../assetEntity/listComments';\n\n\tconstructor(private http: HttpInterceptor) {\n\t}\n\n\tsearchComments(assetId: number, commentType: string): Observable<any> {\n\t\treturn this.http.get(`${this.assetExplorerUrl}/${assetId}?commentType=${commentType}`)\n\t\t\t.map((res: Response) => res.json())\n\t\t\t.catch((error: any) => error.json());\n\t}\n\n}","import {CUSTOM_FIELD_TYPES as CUSTOM_FIELD_CONTROL_TYPE} from '../../../shared/model/constants';\nexport {CUSTOM_FIELD_CONTROL_TYPE}\n\nexport class FieldSettingsModel {\n\tfield: string;\n\tlabel: string;\n\ttip: string;\n\tudf: boolean;\n\tshared: boolean;\n\timp: 'C' | 'I' | 'N' | 'U';\n\tshow: boolean;\n\torder?: number;\n\tlength?: number;\n\tdefault?: any;\n\tcontrol?: CUSTOM_FIELD_CONTROL_TYPE;\n\tconstraints: ConstraintModel;\n\tstyle?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n\n\tconstructor() {\n\t\tthis.udf = true;\n\t\tthis.imp = 'N';\n\t}\n}\n\nexport class ConstraintModel {\n\trequired: boolean;\n\tminSize?: Number;\n\tmaxSize?: Number;\n\tvalues?: Array<string>;\n}\n\nexport class FieldImportance {\n\tpublic static Y = {\n\t\tname: 'yellow',\n\t\tcolor: '#FAFF9B'\n\t};\n\tpublic static G = {\n\t\tname: 'green',\n\t\tcolor: '#D4F8D4'\n\t};\n\tpublic static B = {\n\t\tname: 'blue',\n\t\tcolor: '#A9D6F2'\n\t};\n\tpublic static P = {\n\t\tname: 'pink',\n\t\tcolor: '#FFA5B4'\n\t};\n\tpublic static O = {\n\t\tname: 'orange',\n\t\tcolor: '#FFC65E'\n\t};\n\tpublic static N = {\n\t\tname: 'normal',\n\t\tcolor: '#DDDDDD'\n\t};\n\tpublic static U = {\n\t\tname: 'unimportant',\n\t\tcolor: '#F4F4F4'\n\t};\n}\n\nexport const FIELD_COLORS = ['Y', 'G', 'P', 'B', 'O', 'N', 'U'];\n\nexport const FIELD_NOT_FOUND = 'Field Not Found';\n","import {Component, HostListener, OnInit, ViewChild} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {NgForm} from '@angular/forms';\nimport {clone} from 'ramda';\nimport {ModalType} from '../../../../shared/model/constants';\nimport {UIDialogService, UIExtraDialog} from '../../../../shared/services/ui-dialog.service';\nimport {TaskDetailModel} from '../../model/task-detail.model';\nimport {TaskService} from '../../service/task.service';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {PreferenceService} from '../../../../shared/services/preference.service';\nimport {DateUtils, DatePartUnit} from '../../../../shared/utils/date.utils';\nimport {DataGridOperationsHelper} from '../../../../shared/utils/data-grid-operations.helper';\nimport {TaskSuccessorPredecessorColumnsModel} from '../../model/task-successor-predecessor-columns.model';\nimport {Permission} from '../../../../shared/model/permission.model';\nimport {PermissionService} from '../../../../shared/services/permission.service';\nimport {DecoratorOptions} from '../../../../shared/model/ui-modal-decorator.model';\nimport {ComboBoxSearchModel} from '../../../../shared/components/combo-box/model/combobox-search-param.model';\nimport {DateRangeSelectorComponent} from '../../../../shared/components/date-range-selector/date-range-selector.component';\nimport {DateRangeSelectorModel} from '../../../../shared/components/date-range-selector/model/date-range-selector.model';\nimport {ValidationUtils} from '../../../../shared/utils/validation.utils';\nimport {TaskNotesColumnsModel} from '../../model/task-notes-columns.model';\nimport {TaskEditCreateModelHelper} from './task-edit-create-model.helper';\nimport {TranslatePipe} from '../../../../shared/pipes/translate.pipe';\nimport {YesNoList, TaskStatus} from '../../model/task-edit-create.model';\nimport {SHARED_TASK_SETTINGS} from '../../model/shared-task-settings';\n\ndeclare var jQuery: any;\n\nexport class TaskEditCreateCommonComponent extends UIExtraDialog  implements OnInit {\n\t@ViewChild('taskEditCreateForm') public taskEditCreateForm: NgForm;\n\n\tprotected modalType = ModalType;\n\tprotected dateFormat: string;\n\tprotected dateFormatTime: string;\n\tprotected dataGridTaskPredecessorsHelper: DataGridOperationsHelper;\n\tprotected dataGridTaskSuccessorsHelper: DataGridOperationsHelper;\n\tprotected taskSuccessorPredecessorColumnsModel = new TaskSuccessorPredecessorColumnsModel();\n\tprotected collapsedTaskDetail = false;\n\tprotected hasCookbookPermission = false;\n\tprotected modalOptions: DecoratorOptions;\n\tprotected model: any = {};\n\tprotected getAssetList: Function;\n\tprotected yesNoList =  [...YesNoList];\n\tprotected predecessorSuccessorColumns: any[];\n\tprotected userTimeZone: string;\n\tprotected hasModelChanges = false;\n\tprotected hasDeleteTaskPermission = false;\n\tprotected hasEditTaskPermission = false;\n\tprotected modelHelper: TaskEditCreateModelHelper;\n\tprotected taskNotesColumnsModel = new TaskNotesColumnsModel();\n\tprotected dataGridTaskNotesHelper: DataGridOperationsHelper;\n\tprotected isEventLocked: boolean;\n\tprotected SHARED_TASK_SETTINGS = SHARED_TASK_SETTINGS;\n\tprotected metaParam: any;\n\n\tconstructor(\n\t\tprivate taskDetailModel: TaskDetailModel,\n\t\tprivate taskManagerService: TaskService,\n\t\tprivate dialogService: UIDialogService,\n\t\tprivate promptService: UIPromptService,\n\t\tprivate userPreferenceService: PreferenceService,\n\t\tprivate permissionService: PermissionService,\n\t\tprivate translatePipe: TranslatePipe) {\n\n\t\tsuper('#task-component');\n\t\tthis.modalOptions = { isResizable: true, isCentered: true };\n\t\tthis.getTasksForComboBox = this.getTasksForComboBox.bind(this);\n\t}\n\n\tngOnInit() {\n\t\tthis.userTimeZone = this.userPreferenceService.getUserTimeZone();\n\t\tthis.dateFormat = this.userPreferenceService.getDefaultDateFormatAsKendoFormat();\n\t\tthis.dateFormatTime = this.userPreferenceService.getUserDateTimeFormat();\n\t\tthis.isEventLocked = false;\n\n\t\tthis.modelHelper = new TaskEditCreateModelHelper(this.userTimeZone, this.userPreferenceService.getUserCurrentDateFormatOrDefault());\n\n\t\tthis.model = this.taskDetailModel.modal.type === ModalType.CREATE ?\n\t\t\tthis.modelHelper.getModelForCreate(this.taskDetailModel)\n\t\t\t:\n\t\t\tthis.modelHelper.getModelForEdit(this.taskDetailModel);\n\n\t\tthis.getAssetList = this.taskManagerService.getAssetListForComboBox.bind(this.taskManagerService);\n\t\tthis.predecessorSuccessorColumns = this.taskSuccessorPredecessorColumnsModel.columns;\n\t\tthis.isEventLocked = this.model.predecessorList.length > 0 || this.model.successorList.length > 0;\n\n\t\tconst commonCalls = [\n\t\t\tthis.taskManagerService.getStatusList(this.model.id),\n\t\t\tthis.taskManagerService.getAssignedTeam(this.model.id),\n\t\t\tthis.taskManagerService.getStaffRoles(),\n\t\t\tthis.userPreferenceService.getUserDatePreferenceAsKendoFormat(),\n\t\t\tthis.taskManagerService.getActionList()\n\t\t];\n\n\t\tif (this.taskDetailModel.modal.type === ModalType.CREATE) {\n\t\t\tcommonCalls.push(this.taskManagerService.getAssetClasses());\n\t\t\tcommonCalls.push(this.taskManagerService.getCategories());\n\t\t\tcommonCalls.push(this.taskManagerService.getEvents());\n\t\t\tcommonCalls.push(this.taskManagerService.getLastCreatedTaskSessionParams());\n\t\t\tcommonCalls.push(this.taskManagerService.getClassForAsset(this.model.id));\n\t\t}\n\n\t\tthis.metaParam = this.getMetaParam();\n\t\tObservable.forkJoin(commonCalls)\n\t\t\t.subscribe((results: any[]) => {\n\t\t\t\tconst [status, personList, staffRoles, dateFormat, actions, assetClasses, categories, events, taskDefaults, classForAsset] = results;\n\n\t\t\t\tthis.model.statusList = status;\n\t\t\t\tthis.model.personList = personList.map((item) => ({id: item.id, text: item.nameRole}));\n\t\t\t\tthis.model.teamList = staffRoles.map((item) => ({id: item.id, text: item.description }));\n\t\t\t\tthis.dateFormat = dateFormat;\n\t\t\t\tthis.model.apiActionList = actions.map((item) => ({id: item.id, text: item.name}));\n\n\t\t\t\tif (assetClasses) {\n\t\t\t\t\tthis.model.assetClasses = assetClasses.map((item) => ({id: item.key, text: item.label}));\n\t\t\t\t}\n\t\t\t\tif (categories) {\n\t\t\t\t\tthis.model.categoriesList = [''].concat(categories);\n\t\t\t\t}\n\n\t\t\t\tif (events) {\n\t\t\t\t\tthis.model.eventList = events.map((item) => ({id: item.id.toString(), text: item.name}));\n\t\t\t\t}\n\n\t\t\t\tif (taskDefaults && taskDefaults.preferences) {\n\t\t\t\t\tthis.model.event = {id: taskDefaults.preferences['TASK_CREATE_EVENT']  || '', text: '' };\n\t\t\t\t\tthis.model.category = taskDefaults.preferences['TASK_CREATE_CATEGORY'] || 'general';\n\t\t\t\t\tthis.model.status = taskDefaults.preferences['TASK_CREATE_STATUS'] || TaskStatus.READY;\n\t\t\t\t\tthis.metaParam = this.getMetaParam();\n\t\t\t\t}\n\n\t\t\t\tif (classForAsset) {\n\t\t\t\t\tthis.model.assetClass = {id: classForAsset.assetClass, text: ''};\n\t\t\t\t}\n\n\t\t\t\tjQuery('[data-toggle=\"popover\"]').popover();\n\t\t\t});\n\n\t\tthis.dataGridTaskPredecessorsHelper = new DataGridOperationsHelper(this.model.predecessorList, null, null);\n\t\tthis.dataGridTaskSuccessorsHelper = new DataGridOperationsHelper(this.model.successorList, null, null);\n\t\tthis.dataGridTaskNotesHelper = new DataGridOperationsHelper(this.modelHelper.generateNotes(this.model.notesList), null, null);\n\t\tthis.hasCookbookPermission = this.permissionService.hasPermission(Permission.CookbookView) || this.permissionService.hasPermission(Permission.CookbookEdit);\n\n\t\tthis.hasDeleteTaskPermission = this.permissionService.hasPermission(Permission.TaskDelete);\n\t\tthis.hasEditTaskPermission = this.permissionService.hasPermission(Permission.TaskEdit);\n\t}\n\n\t/**\n\t * Pass Service as Reference\n\t * @param {ComboBoxSearchModel} searchParam\n\t * @returns {Observable<any>}\n\t */\n\tpublic getAssetListForComboBox(searchParam: ComboBoxSearchModel): Observable<any> {\n\t\treturn this.taskManagerService.getAssetListForComboBox(searchParam);\n\t}\n\n\t/**\n\t * Everytime a task dependency changes, then update the corresponding collection that hold predeccessor/successor  tasks\n\t * If the task is deleted set the model changes flag to true\n\t * @param {object} dataItem\n\t * @param {string} collectionType  could be predecessor/ successor string\n\t * @param {object} gridHelper\n\t * @returns {void}\n\t */\n\tonDependencyTaskChange(dataItem: any, collectionType: string, gridHelper: DataGridOperationsHelper, rowIndex: number): void {\n\t\tlet addTask, getCollection;\n\n\t\tif (collectionType === 'predecessor') {\n\t\t\taddTask = this.modelHelper.addPredecessor;\n\t\t\tgetCollection = this.modelHelper.getPredecessor;\n\t\t} else {\n\t\t\taddTask = this.modelHelper.addSuccessor;\n\t\t\tgetCollection = this.modelHelper.getSuccessor;\n\t\t}\n\n\t\tif (dataItem) {\n\t\t\tconst {id, text} = dataItem;\n\t\t\taddTask.bind(this.modelHelper)(rowIndex, {id, text, ...dataItem.metaFields})\n\t\t}\n\n\t\tgridHelper.reloadData(getCollection.bind(this.modelHelper)());\n\t}\n\n\t/**\n\t * Adda a task predecessor/successor to the top of the corresponding collection sent as parameter\n\t * @param {object[]} collection\n\t * @param {object} gridHelper\n\t * @returns {void}\n\t */\n\tonAddTaskDependency(collection: any[], gridHelper: DataGridOperationsHelper): void {\n\t\tconst defaultText = '';\n\t\tconst task = {\n\t\t\tid: '',\n\t\t\tdesc: defaultText,\n\t\t\tmodel: {id: '', text: defaultText}\n\t\t};\n\t\tcollection.unshift(task);\n\t\tgridHelper.addDataItem(task);\n\t}\n\n\t/**\n\t * Pass Service as Reference\n\t * @param {ComboBoxSearchModel} searchParam\n\t * @returns {Observable<any>}\n\t */\n\tpublic getTasksForComboBox(searchParam: ComboBoxSearchModel): Observable<any> {\n\t\treturn this.taskManagerService.getTasksForComboBox(searchParam);\n\t}\n\n\t/**\n\t * Toggle lock property value\n\t */\n\ttoggleLocked(): void {\n\t\tthis.modelHelper.toggleLocked();\n\t\tthis.hasModelChanges = true;\n\t}\n\n\t/**\n\t * Set the flag to determine if some property handled outside [(ngModel)] has changed\n\t * On undefined value delete the record\n\t */\n\tonModelChange(value: any, collectionName: string, index: number): void {\n\t\tif (value) {\n\t\t\tvalue.text = this.modelHelper.removeTaskNumberFromDescription(value.text, value.metaFields.taskNumber);\n\t\t\tthis.hasModelChanges = true;\n\t\t\treturn;\n\t\t}\n\n\t\t// if value is undefined Clear X was clicked\n\t\tif (value === undefined) {\n\t\t\tif (collectionName === 'predecessor') {\n\t\t\t\tthis.modelHelper.deletePredecessor(index);\n\t\t\t\tthis.dataGridTaskPredecessorsHelper.reloadData(this.model.predecessorList);\n\t\t\t\tthis.hasModelChanges = true;\n\t\t\t}\n\n\t\t\tif (collectionName === 'successor') {\n\t\t\t\tthis.modelHelper.deleteSuccessor(index);\n\t\t\t\tthis.dataGridTaskSuccessorsHelper.reloadData(this.model.successorList);\n\t\t\t\tthis.hasModelChanges = true;\n\t\t\t}\n\t\t\tthis.hasModelChanges = true;\n\t\t}\n\t}\n\n\t/**\n\t * Set the reference to the asset entity once combobox changed\n\t */\n\tonAssetEntityChange(assetSelected: any): void {\n\t\tthis.model.asset = assetSelected;\n\t\tthis.hasModelChanges = true;\n\t}\n\n\t/**\n\t * Return the date passed as argument formatted using the user timezone\n\t * @param {any} date\n\t * @returns {string}\n\t */\n\tgetFormattedDate(date): any {\n\t\treturn new Date(DateUtils.formatUserDateTime(this.userTimeZone, date));\n\t}\n\n\t/**\n\t * Passing a valid date returns the user preference date format plus the default time format\n\t * Otherwise returns empty string\n\t * @param {any} date\n\t * @returns {string}\n\t */\n\tgetDateTimeFormat(date = null): string {\n\t\treturn date ? `${this.dateFormat} ${DateUtils.DEFAULT_FORMAT_TIME}` :  this.dateFormat;\n\t}\n\n\t/**\n\t * Open the view to allow select a range of estimated dates\n\t */\n\topenRangeDatesSelector(): void {\n\t\tconst dateModel: DateRangeSelectorModel = {\n\t\t\tstart: this.model.estimatedStart,\n\t\t\tend: this.model.estimatedFinish,\n\t\t\tlocked: this.model.locked,\n\t\t\tdateFormat: this.dateFormat,\n\t\t\ttimeFormat: DateUtils.DEFAULT_FORMAT_TIME,\n\t\t\tduration: this.model.durationParts\n\t\t};\n\n\t\tthis.dialogService.extra(DateRangeSelectorComponent,\n\t\t\t[\n\t\t\t\t{provide: UIPromptService, useValue: this.promptService},\n\t\t\t\t{provide: DateRangeSelectorModel, useValue: clone(dateModel)}\n\t\t\t], false, false).then((result: DateRangeSelectorModel) => {\n\t\t\tif (result) {\n\t\t\t\tconst {start, end, duration, locked} = result;\n\t\t\t\tthis.model.estimatedStart = start;\n\t\t\t\tthis.model.estimatedFinish = end;\n\t\t\t\tthis.model.durationParts =  duration;\n\t\t\t\tthis.model.locked = locked;\n\t\t\t\tthis.hasModelChanges = true;\n\t\t\t}\n\t\t}).catch(result => {\n\t\t\tconsole.log('Dismissed Dialog');\n\t\t});\n\t}\n\n\t/**\n\t * Save the changes on the task\n\t */\n\tprotected onSave(): void {\n\t\tthis.taskManagerService.updateTask(this.modelHelper.getPayloadForUpdate())\n\t\t\t.subscribe((result) => this.close(result));\n\t}\n\n\t/**\n\t * Create the t ask\n\t*/\n\tprotected onCreate(): void {\n\t\tthis.taskManagerService.createTask(this.modelHelper.getPayloadForCreate())\n\t\t\t.subscribe((result) => this.close(result));\n\t}\n\n\t/**\n\t * Toggle task details\n\t */\n\tpublic onCollapseTaskDetail(): void {\n\t\tthis.collapsedTaskDetail = !this.collapsedTaskDetail;\n\t}\n\n\t/**\n\t * Close Dialog\n\t */\n\tprotected cancelCloseDialog(): void {\n\t\tif (this.isFormDirty()) {\n\t\t\tthis.promptService.open(\n\t\t\t\tthis.translatePipe.transform('GLOBAL.CONFIRMATION_PROMPT.CONFIRMATION_REQUIRED')\t,\n\t\t\t\tthis.translatePipe.transform('GLOBAL.CONFIRMATION_PROMPT.UNSAVED_CHANGES_MESSAGE')\t,\n\t\t\t\tthis.translatePipe.transform('GLOBAL.CONFIRM'),\n\t\t\t\tthis.translatePipe.transform('GLOBAL.CANCEL'))\n\t\t\t\t.then(result => {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\tthis.dismiss();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis.dismiss();\n\t\t}\n\t}\n\n\t/**\n\t * Prompt confirm delete a task\n\t * delegate operation to host component\n\t */\n\tprotected deleteTask(): void {\n\t\tthis.promptService.open(\n\t\t\tthis.translatePipe.transform('GLOBAL.CONFIRMATION_PROMPT.CONFIRMATION_REQUIRED')\t,\n\t\t\tthis.translatePipe.transform('TASK_MANAGER.DELETE_TASK')\t,\n\t\t\tthis.translatePipe.transform('GLOBAL.CONFIRM'),\n\t\t\tthis.translatePipe.transform('GLOBAL.CANCEL'))\n\t\t\t.then(result => {\n\t\t\t\tif (result) {\n\t\t\t\t\tthis.close({id: this.taskDetailModel, isDeleted: true})\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t/**\n\t * Based upon the date unit, increment/decrement the value of estimated finish date\n\t * @param {DatePartUnit} unit\n\t * @returns {void}\n\t */\n\tprotected updateEstimatedFinish(value: string, unit: DatePartUnit): void {\n\t\tconst originalParts = DateUtils.getDurationPartsAmongDates(this.model.estimatedStart, this.model.estimatedFinish);\n\n\t\tif (value === '') {\n\t\t\tthis.model.durationParts[unit] = 0;\n\t\t}\n\n\t\tconst diff = this.model.durationParts[unit] - originalParts[unit];\n\n\t\tif (this.model.estimatedFinish) {\n\t\t\tthis.model.estimatedFinish =  DateUtils.increment(this.model.estimatedFinish, [{value: diff, unit}]);\n\t\t}\n\t}\n\n\t/**\n\t * Clear the values of start/finish estimated dates\n\t */\n\tprotected cleanEstimatedDates(): void {\n\t\tif (this.model.estimatedStart || this.model.estimatedFinish) {\n\t\t\tthis.model.estimatedFinish = '';\n\t\t\tthis.model.estimatedStart = '';\n\t\t\tthis.hasModelChanges = true;\n\t\t}\n\t}\n\n\t/**\n\t * Determine if predecessor/successor collections contains invalid data, like duplicates or empty ids\n\t * @returns {boolean}\n\t */\n\tprotected hasInvalidFields(): boolean {\n\t\tif (!this.modelHelper.hasDependencyTasksChanges()) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.modelHelper.hasInvalidTasksDependencies();\n\t}\n\n\t/**\n\t * Determine whether the form should be disabled because of invalid fields\n\t * @returns {boolean}\n\t */\n\tprotected isFormInvalid(): boolean {\n\t\treturn !this.taskEditCreateForm.form.valid ||\n\t\t\tthis.hasInvalidFields() ||\n\t\t\t!(this.taskEditCreateForm.form.dirty || this.hasModelChanges)\n\t}\n\n\t/**\n\t * Determine if the form has changes based upon ngModel,external tds-checkbox or task grids changes\n\t * @returns {boolean}\n\t */\n\tprotected isFormDirty(): boolean {\n\t\treturn this.modelHelper.hasDependencyTasksChanges() || this.taskEditCreateForm.dirty || this.hasModelChanges;\n\t}\n\n\t/**\n\t *  Mark labelURL field as invalid if it doesn't fit the format\n\t * @param labelURL {string}\n\t * @returns {boolean}\n\t */\n\tprotected validateLabelURL(labelURL: string): void {\n\t\tlet isEmpty = false;\n\n\t\tif (!labelURL) {\n\t\t\tisEmpty = true\n\t\t}\n\n\t\tconst errors =  (!isEmpty && !ValidationUtils.isValidLabelURL(labelURL)) ? {'incorrect' : true}  : null;\n\t\tthis.taskEditCreateForm.form.controls['instructionLink'].setErrors(errors);\n\t}\n\n\t/**\n\t * On change selection on asset class reset asset entity value\n\t * @returns {void}\n\t */\n\tprotected onAssetClassChange(): void {\n\t\tthis.model.asset = null;\n\t}\n\n\t/**\n\t * Get the object required to query tasks, using the current commentId and eventId\n\t * @eventId Event id number if it is selected\n\t * @returns {any}\n\t*/\n\tprotected getMetaParam(eventId = ''): any {\n\t\tconst commentId = this.taskDetailModel.modal.type === ModalType.CREATE ? '' : this.model.id;\n\t\treturn {commentId, eventId: eventId || this.model.event.id} ;\n\t}\n\n\t/**\n\t * Whenever a event is selected update the metaParam object\n\t * @returns {any}\n\t */\n\tprotected onSelectedEvent(event): void {\n\t\tthis.metaParam = this.getMetaParam(event.id) ;\n\t}\n\n\t/**\n\t * Generate the item template for the task items to show in the format taskId : Description\n\t * @event dataItem contains the task item information\n\t * @returns {string}\n\t */\n\tprotected innerTemplateTaskItem(dataItem: any): string {\n\t\tif (dataItem.metaFields) {\n\t\t\tif (!dataItem.text.startsWith(dataItem.metaFields.taskNumber)) {\n\t\t\t\tdataItem.text = `${dataItem.metaFields.taskNumber}: ${dataItem.text}`;\n\t\t\t}\n\t\t}\n\t\treturn dataItem.text;\n\t}\n}","import {DateUtils} from '../../../../shared/utils/date.utils';\nimport {clone} from 'ramda';\nimport {TaskDetailModel} from '../../model/task-detail.model';\nimport {YesNoList, PriorityList, ITask, TaskStatus} from '../../model/task-edit-create.model';\n\nexport class TaskEditCreateModelHelper {\n\tmodel: any;\n\tprivate userTimeZone: string;\n\tprivate userCurrentDateFormat: string;\n\tprivate userCurrentDateTimeFormat: string;\n\tprivate dataSignatureDependencyTasks: string;\n\tpublic STATUS = TaskStatus;\n\n\tconstructor(userTimeZone: string, userCurrentDateFormat: string) {\n\t\tthis.model = {};\n\n\t\tthis.userTimeZone = userTimeZone;\n\t\tthis.userCurrentDateFormat = userCurrentDateFormat;\n\t\tthis.userCurrentDateTimeFormat =  `${userCurrentDateFormat} ${DateUtils.DEFAULT_FORMAT_TIME}`;\n\t}\n\n\t/**\n\t * Set the model and keep the reference to the initial data to detect changes\n\t * @param {any} model Model to set\n\t * @returns {any}\n\t */\n\tpublic getModelForEdit(model: any): any {\n\t\tthis.model = model;\n\n\t\tthis.dataSignatureDependencyTasks = JSON.stringify({predecessors: this.model.predecessorList, successors: this.model.successorList});\n\n\t\treturn model;\n\t}\n\n\t/**\n\t * Concatenates the label and url part of the labelURL field\n\t * @param {any} Object which contains the parts\n\t * @returns {string}\n\t */\n\tpublic getInstructionsLink(detail: any): string {\n\t\tlet  instructionLink = '';\n\n\t\tif (!detail.instructionsLinkLabel  && detail.instructionsLinkURL)  {\n\t\t\tinstructionLink = detail.instructionsLinkURL;\n\t\t} else {\n\t\t\tif (detail.instructionsLinkLabel && detail.instructionsLinkURL) {\n\t\t\t\tinstructionLink = `${detail.instructionsLinkLabel}|${detail.instructionsLinkURL}`;\n\t\t\t}\n\t\t}\n\t\treturn instructionLink;\n\t}\n\n\t/**\n\t * Get an empty model, used for create task component\n\t * @returns {any}\n\t */\n\tpublic getModelForCreate(detailModel: TaskDetailModel): any {\n\t\tconst [yes, no] = YesNoList;\n\t\tconst defaultDurationScale = 'M';\n\n\t\tthis.model = {\n\t\t\ttitle: detailModel.modal.title ,\n\t\t\tworkflow: '' ,\n\t\t\tworkflowTransitionName: '' ,\n\t\t\tdurationDelta: '' ,\n\t\t\trecipe: '' ,\n\t\t\tid: detailModel.id,\n\t\t\tpersonCreateObj:  '',\n\t\t\tnote: '',\n\t\t\tduration: 0,\n\t\t\tdurationText: '',\n\t\t\tactualDuration:  '',\n\t\t\tdateCreated: '',\n\t\t\ttaskSpec: '',\n\t\t\tlastUpdated: '',\n\t\t\ttaskSpecId: '',\n\t\t\ttaskNumber: '',\n\t\t\thardAssigned:  no,\n\t\t\tsendNotification:  yes,\n\t\t\tdurationScale: defaultDurationScale,\n\t\t\tdurationParts: {days: 0, hours: 0, minutes: 0},\n\t\t\tlocked: false,\n\t\t\tactualStart:  '',\n\t\t\tactualFinish:  '',\n\t\t\tdueDate:  '',\n\t\t\testimatedStart:  '',\n\t\t\testimatedFinish:  '',\n\t\t\tinstructionLink: '',\n\t\t\tinstructionsLinkLabel: '',\n\t\t\tinstructionsLinkURL:  '',\n\t\t\tpriority: 3,\n\t\t\tassetName: '',\n\t\t\tcomment:  '',\n\t\t\tassetClass: {id: detailModel.detail.assetClass, text: ''},\n\t\t\tassetClasses: [{id: '', text: ''}],\n\t\t\tstatus: this.STATUS.READY,\n\t\t\tstatusList: [],\n\t\t\tpersonList: [],\n\t\t\tteamList: [],\n\t\t\toriginalPredecessorList: [],\n\t\t\toriginalSuccessorList: [],\n\t\t\tnotesList: [],\n\t\t\tpredecessorList: [],\n\t\t\tsuccessorList: [],\n\t\t\tapiActionList: [{id: '', text: ''}],\n\t\t\tcategoriesList: [],\n\t\t\teventList: [{id: '', text: ''}],\n\t\t\tpriorityList: PriorityList,\n\t\t\tasset: {id: detailModel.detail.assetEntity, text: detailModel.detail.assetName},\n\t\t\tassignedTo: {id : parseInt(detailModel.detail.currentUserId, 10), text: ''},\n\t\t\tassignedTeam: {id: '', text: ''},\n\t\t\tevent: {id: '', text: ''},\n\t\t\tcategory: 'general',\n\t\t\tapiAction: {id: '', text: ''},\n\t\t\tdeletedPredecessorList: [],\n\t\t\tdeletedSuccessorList: []\n\t\t};\n\n\t\tthis.dataSignatureDependencyTasks = JSON.stringify({predecessors: this.model.predecessorList, successors: this.model.successorList});\n\n\t\treturn this.model;\n\t}\n\n\t/**\n\t * Set the model passing the all detail object\n\t * @param {any} task Holds the detail object coming from the service, this will be extracted and cleaned\n\t * @returns {any}\n\t */\n\tpublic getModelForDetails(task: any): any {\n\t\tconst detail = clone(task.detail);\n\t\tconst assetComment = detail['assetComment'] || {};\n\t\tconst durationScale = assetComment.durationScale && assetComment.durationScale.name || null;\n\t\tconst [yes, no] = YesNoList;\n\n\t\tconst categories =  [...(detail.categories || [])];\n\t\tcategories.push(''); // add empty default value\n\t\tconst  instructionLink = this.getInstructionsLink(detail);\n\n\t\tthis.model = {\n\t\t\tapiActionInvokedAt: assetComment.apiActionInvokedAt,\n\t\t\tapiActionCompletedAt: assetComment.apiActionCompletedAt,\n\t\t\ttitle: task.modal.title,\n\t\t\tworkflow: detail.workflow || '',\n\t\t\tworkflowTransitionName: assetComment.workflowTransition && assetComment.workflowTransition.name || '',\n\t\t\tdurationDelta: detail.durationDelta || '',\n\t\t\trecipe: detail.recipe || null,\n\t\t\tid: assetComment.id,\n\t\t\tpersonCreateObj: detail.personCreateObj || '',\n\t\t\tnote: '',\n\t\t\tduration: assetComment.duration,\n\t\t\tdurationText: DateUtils.formatDuration(assetComment.duration, durationScale),\n\t\t\tactualDuration: detail.actualDuration || '',\n\t\t\tdateCreated: assetComment.dateCreated,\n\t\t\ttaskSpec: assetComment.taskSpec,\n\t\t\tlastUpdated: assetComment.lastUpdated,\n\t\t\ttaskSpecId: detail.taskSpecId || '',\n\t\t\ttaskNumber: assetComment.taskNumber,\n\t\t\thardAssigned: Boolean(assetComment.hardAssigned === 1) ? yes : no,\n\t\t\tsendNotification: Boolean(assetComment.sendNotification) ? yes : no,\n\t\t\tdurationScale,\n\t\t\tdurationParts: DateUtils.getDurationParts(assetComment.duration, durationScale),\n\t\t\tlocked: assetComment.durationLocked,\n\t\t\tactualStart: detail.atStart ? detail.atStart : '',\n\t\t\tactualFinish: detail.dtResolved ? detail.dtResolved : '',\n\t\t\tdueDate: assetComment.dueDate ? new Date(DateUtils.formatUserDateTime(this.userTimeZone, assetComment.dueDate)) : '',\n\t\t\testimatedStart: assetComment.estStart ? new Date(DateUtils.formatUserDateTime(this.userTimeZone, assetComment.estStart)) : '',\n\t\t\testimatedFinish: assetComment.estFinish ? new Date(DateUtils.formatUserDateTime(this.userTimeZone, assetComment.estFinish))  : '',\n\t\t\tinstructionLink,\n\t\t\tinstructionsLinkLabel: detail.instructionsLinkLabel || '',\n\t\t\tinstructionsLinkURL: detail.instructionsLinkURL || '',\n\t\t\tpriority: assetComment.priority,\n\t\t\tassetName: detail.assetName,\n\t\t\tcomment:  assetComment.comment || '',\n\t\t\tassetClass: {id: detail.assetClass, text: detail.assetClasses && detail.assetClasses[detail.assetClass] || ''},\n\t\t\tassetClasses: Object.keys(detail.assetClasses || {}).map((key: string) => ({id: key, text: detail.assetClasses[key]}) ),\n\t\t\tstatus: assetComment.status,\n\t\t\tstatusList: [],\n\t\t\tpersonList: [],\n\t\t\tteamList: [],\n\t\t\toriginalPredecessorList: (detail.predecessorList || []),\n\t\t\toriginalSuccessorList: (detail.successorList || []),\n\t\t\tnotesList: (detail.notes || []),\n\t\t\tpredecessorList: this.extractDependencyTasks (detail.predecessorList || []),\n\t\t\tsuccessorList: this.extractDependencyTasks(detail.successorList || []),\n\t\t\tapiActionList: (detail.apiActionList || []).map((action) => ({id: action.id, text: action.name})),\n\t\t\tcategoriesList: categories.sort(),\n\t\t\teventList: (detail.eventList || []).map((event) => ({id: event.id, text: event.name})),\n\t\t\tpriorityList: PriorityList,\n\t\t\tasset: {id: detail.assetId, text: detail.assetName},\n\t\t\tassignedTo: {id : (assetComment.assignedTo && assetComment.assignedTo.id) || null, text: detail.assignedTo},\n\t\t\tassignedTeam: {id: assetComment.role, text: detail.roles},\n\t\t\tevent: {id: (assetComment.moveEvent && assetComment.moveEvent.id) || null, text: detail.eventName},\n\t\t\tcategory: assetComment.category,\n\t\t\tapiAction: {id: detail.apiAction && detail.apiAction.id || '', text: detail.apiAction && detail.apiAction.name || ''},\n\t\t\tdeletedPredecessorList: [],\n\t\t\tdeletedSuccessorList: []\n\t\t};\n\n\t\tthis.dataSignatureDependencyTasks = JSON.stringify({predecessors: this.model.predecessorList, successors: this.model.successorList});\n\n\t\treturn this.model;\n\t}\n\n\t/**\n\t * Convert the array provided by the service to a task array\n\t * @param {any[]} array coming from service holding task info\n\t * @returns {any[]}\n\t */\n\tprivate extractDependencyTasks(array: any[]): any[] {\n\t\treturn array\n\t\t\t.map((task) => this.makeTaskItem(task));\n\t}\n\n\t/**\n\t * Extract only the task added by the user\n\t * @param {any[]} tasks Current task array manipulated by the user\n\t * @param {any[]} originalTasks Original task array not touched\n\t * @returns {string[]}\n\t */\n\tprivate getTaskAdded(tasks: any[], originalTasks: any[]): string[] {\n\t\treturn tasks\n\t\t\t.filter(task => !Boolean(task.originalId))\n\t\t\t.map((task, index) => (`-${index + 1}_${task.id}`));\n\t}\n\n\t/**\n\t * Extract only the task added by the user\n\t * @param {any[]} tasks Current task array manipulated by the user\n\t * @param {any[]} originalTasks Original task array not touched\n\t * @returns {string[]}\n\t */\n\tprivate getTaskEdited(tasks: any[], originalTasks: any[]): string[] {\n\t\treturn tasks\n\t\t\t.filter(task => Boolean(task.originalId))\n\t\t\t.map((task, index) => {\n\t\t\t\treturn (`${task.originalId}_${task.id === task.originalId ? task.taskId : task.id}`)\n\t\t\t});\n\t}\n\n\t/**\n\t * Extract only the task previously present (not added by the user)\n\t * @param {any[]} tasks Current task array manipulated by the user\n\t * @param {any[]} originalTasks Original task array not touched\n\t * @returns {string[]}\n\t */\n\tprivate getTaskPrevious(tasks: any[], originalTasks: any[]): string[] {\n\t\treturn tasks\n\t\t\t.filter(task => originalTasks.find(original => original.taskId === task.id))\n\t\t\t.map((task, index) => (`${task.id}_${task.taskNumber}`));\n\t}\n\n\t/**\n\t * Get and clean the object that will send to the service update the task\n\t */\n\tpublic getPayloadForUpdate(): any {\n\t\tconst [Yes, No] = YesNoList;\n\t\tconst {\n\t\t\tid, assetClass, predecessorList, successorList, originalPredecessorList, originalSuccessorList,\n\t\t\tasset, dueDate, durationParts, estimatedFinish, estimatedStart, taskNumber, note, locked,\n\t\t\thardAssigned, sendNotification, instructionLink, event, category, apiAction, comment,\n\t\t\tpriority, assignedTeam, status, assignedTo, durationScale} = this.model;\n\n\t\tconst deletedItems = this.model.deletedPredecessorList\n\t\t\t.concat(this.model.deletedSuccessorList)\n\t\t\t.join(',');\n\n\t\treturn  {\n\t\t\tassetClass: assetClass.id,\n\t\t\tassetEntity: this.getEmptyStringIfNull(asset && asset.id).toString(),\n\t\t\tassetType: assetClass.text,\n\t\t\tassignedTo: this.getEmptyStringIfNull(assignedTo && assignedTo.id).toString(),\n\t\t\tcategory: category,\n\t\t\tapiAction: this.getEmptyStringIfNull(apiAction && apiAction.id),\n\t\t\tapiActionId: this.getEmptyStringIfNull(apiAction && apiAction.id).toString() || '0',\n\t\t\tactionInvocable: '',\n\t\t\tactionMode: '',\n\t\t\tcomment: comment,\n\t\t\tcommentFromId: '',\n\t\t\tcommentId: this.getEmptyStringIfNull(id).toString(),\n\t\t\tcommentType: 'issue',\n\t\t\tdeletePredId: '',  /* ? */\n\t\t\tdueDate: dueDate ? DateUtils.formatDate(dueDate, this.userCurrentDateFormat) : '',\n\t\t\tduration: DateUtils.convertDurationPartsToMinutes(durationParts).toString(),\n\t\t\tdurationScale: durationScale,\n\t\t\testFinish: estimatedFinish ? DateUtils.formatDate(estimatedFinish, this.userCurrentDateTimeFormat) : '',\n\t\t\testStart: estimatedStart ? DateUtils.formatDate(estimatedStart, this.userCurrentDateTimeFormat) : '',\n\t\t\tforWhom: '',\n\t\t\thardAssigned: hardAssigned === No ? '0' : '1',\n\t\t\tsendNotification: sendNotification ===  No ? '0' : '1',\n\t\t\tisResolved: '0', /* ? */\n\t\t\tinstructionsLink: this.addProtocolToLabelURL(instructionLink),\n\t\t\tmoveEvent: this.getEmptyStringIfNull(event && event.id).toString(),\n\t\t\tmustVerify: '0',\n\t\t\toverride: '0',\n\t\t\tpredCount: '-1',\n\t\t\tpredecessorCategory: '',\n\t\t\tprevAsset: '',\n\t\t\tpriority: priority.toString(),\n\t\t\tresolution: '',\n\t\t\trole: this.getEmptyStringIfNull(assignedTeam && assignedTeam.id),\n\t\t\tstatus: status,\n\t\t\tmanageDependency: '1',\n\t\t\ttaskDependency: this.getTaskAdded(predecessorList, originalPredecessorList)\n\t\t\t\t.concat(this.getTaskEdited(predecessorList, originalPredecessorList)),\n\t\t\ttaskSuccessor: this.getTaskAdded(successorList, originalSuccessorList)\n\t\t\t\t.concat(this.getTaskEdited(successorList, originalSuccessorList)),\n\t\t\tdeletedPreds: deletedItems,\n\t\t\tworkflowTransition: '',\n\t\t\tcanEdit: true, /* ? */\n\t\t\tdurationLocked: locked ? '1' : '0',\n\t\t\tdurationText: `${durationParts.days} days ${durationParts.hours} hrs ${durationParts.minutes} mins`,\n\t\t\ttaskNumber: taskNumber.toString(),\n\t\t\tnote: note,\n\t\t\tid: id\n\t\t};\n\t}\n\n\t/**\n\t * Get and clean the object that will send to the service update the task\n\t */\n\tpublic getPayloadForCreate(): any {\n\t\tconst [Yes, No] = YesNoList;\n\t\tconst {\n\t\t\tid, assetClass, predecessorList, successorList, originalPredecessorList, originalSuccessorList,\n\t\t\tasset, dueDate, durationParts, estimatedFinish, estimatedStart, taskNumber, note, locked,\n\t\t\thardAssigned, sendNotification, instructionLink, event, category, apiAction, comment,\n\t\t\tpriority, assignedTeam, status, assignedTo, durationScale} = this.model;\n\n\t\tconst deletedItems = this.model.deletedPredecessorList\n\t\t\t.concat(this.model.deletedSuccessorList)\n\t\t\t.join(',');\n\n\t\treturn  {\n\t\t\tassetClass: assetClass.id,\n\t\t\tassetEntity: this.getEmptyStringIfNull(asset && asset.id).toString(),\n\t\t\tassetType: assetClass.text,\n\t\t\tassignedTo: this.getEmptyStringIfNull(assignedTo && assignedTo.id).toString(),\n\t\t\tcategory: category,\n\t\t\tapiAction: this.getEmptyStringIfNull(apiAction && apiAction.id),\n\t\t\tapiActionId: this.getEmptyStringIfNull(apiAction && apiAction.id).toString() || '0',\n\t\t\tactionInvocable: '',\n\t\t\tactionMode: '',\n\t\t\tcomment: comment,\n\t\t\tcommentFromId: '',\n\t\t\tcommentId: this.getEmptyStringIfNull(id).toString(),\n\t\t\tcommentType: 'issue',\n\t\t\tdeletePredId: '',  /* ? */\n\t\t\tdueDate: dueDate ? DateUtils.formatDate(dueDate, this.userCurrentDateFormat) : '',\n\t\t\tduration: DateUtils.convertDurationPartsToMinutes(durationParts).toString(),\n\t\t\tdurationScale: durationScale,\n\t\t\testFinish: estimatedFinish ? DateUtils.formatDate(estimatedFinish, this.userCurrentDateTimeFormat) : '',\n\t\t\testStart: estimatedStart ? DateUtils.formatDate(estimatedStart, this.userCurrentDateTimeFormat) : '',\n\t\t\tforWhom: '',\n\t\t\thardAssigned: hardAssigned === No ? '0' : '1',\n\t\t\tsendNotification: sendNotification ===  No ? '0' : '1',\n\t\t\tisResolved: '0', /* ? */\n\t\t\tinstructionsLink: this.addProtocolToLabelURL(instructionLink),\n\t\t\tmoveEvent: this.getEmptyStringIfNull(event && event.id).toString(),\n\t\t\tmustVerify: '0',\n\t\t\toverride: '0',\n\t\t\tpredCount: '-1',\n\t\t\tpredecessorCategory: '',\n\t\t\tprevAsset: '',\n\t\t\tpriority: priority.toString(),\n\t\t\tresolution: '',\n\t\t\trole: this.getEmptyStringIfNull(assignedTeam && assignedTeam.id),\n\t\t\tstatus: status,\n\t\t\tmanageDependency: '1',\n\t\t\ttaskDependency: this.getTaskAdded(predecessorList, originalPredecessorList)\n\t\t\t\t.concat(this.getTaskPrevious(predecessorList, originalPredecessorList)),\n\t\t\ttaskSuccessor: this.getTaskAdded(successorList, originalSuccessorList)\n\t\t\t\t.concat(this.getTaskPrevious(successorList, originalSuccessorList)),\n\t\t\tdeletedPreds: deletedItems,\n\t\t\tworkflowTransition: '',\n\t\t\tcanEdit: true, /* ? */\n\t\t\tdurationLocked: locked ? '1' : '0',\n\t\t\tid: ''\n\t\t};\n\t}\n\n\t/**\n\t * Returns empty string whenever value is null, undefined or false\n\t * @param {any} value to validate\n\t */\n\tgetEmptyStringIfNull(value: any): any {\n\t\treturn value === null || typeof value === 'undefined' || value === false ?  '' : value;\n\t}\n\n\t/**\n\t * Determine if predecessor/succesor collections contain changes\n\t * @returns {boolean}\n\t */\n\thasDependencyTasksChanges(): boolean {\n\t\treturn this.dataSignatureDependencyTasks !== JSON.stringify({predecessors: this.model.predecessorList, successors: this.model.successorList});\n\t}\n\n\t/**\n\t * Determine if array predecessor contains duplicated tasks\n\t * @returns {boolean}\n\t */\n\thasDuplicatedPredecessors(): boolean {\n\t\treturn this.hasDuplicates(this.model.predecessorList);\n\t}\n\n\t/**\n\t * Determine if array successors contains duplicated tasks\n\t * @returns {boolean}\n\t */\n\thasDuplicatedSuccessors(): boolean {\n\t\treturn this.hasDuplicates(this.model.successorList);\n\t}\n\n\t/**\n\t * Determine if the array of objects passed as argument has duplicated id properties\n\t * @param {any[]} array\n\t * @returns {boolean}\n\t */\n\tprivate hasDuplicates(array: any[]): boolean {\n\t\treturn this.extractDistinctIds(array).length < array.length;\n\t}\n\n\t/**\n\t * Extract only distinct task ids from the array provided\n\t * @param {any[]} array\n\t * @returns {string[]}\n\t */\n\tprivate extractDistinctIds(array): string[] {\n\t\tconst ids = [];\n\n\t\t(array || []).forEach((item) => {\n\t\t\tlet idField = 'id';\n\n\t\t\tif (item.taskId) {\n\t\t\t\t// existing tasks have taskId as key, new ones use id\n\t\t\t\tidField = 'taskId';\n\t\t\t}\n\t\t\tif (ids.indexOf(item[idField]) === -1) {\n\t\t\t\tids.push(item[idField]);\n\t\t\t}\n\t\t});\n\n\t\treturn ids;\n\t}\n\n\t/**\n\t * Add protocol in case is not present\n\t * @param {string} labelURL\n\t * @returns {string}\n\t */\n\tprivate addProtocolToLabelURL(labelURL = ''): string {\n\t\tconst separator = '|';\n\t\tlet isJustURL = false;\n\t\tlet [label, url] = labelURL.split(separator);\n\n\t\tif (!url) {\n\t\t\tisJustURL = true;\n\t\t\turl = label;\n\t\t}\n\t\turl = url.toLowerCase();\n\t\tif (url && !url.startsWith('http://') && !url.startsWith('https://') ) {\n\t\t\turl = 'http://' + url;\n\t\t}\n\n\t\treturn isJustURL ? url : [label, url].join(separator);\n\t}\n\n\t/**\n\t * Determine if predecessors and successors tasks share a common task\n\t * @returns {boolean}\n\t */\n\thasDoubleAssignment(): boolean {\n\t\tconst predecessors = this.extractDistinctIds(this.model.predecessorList).filter((id) => id);\n\t\tconst successors = this.extractDistinctIds(this.model.successorList).filter((id) => id);\n\n\t\treturn predecessors.some((p) => successors.indexOf(p) >= 0)\n\t\t\t||\n\t\t\tsuccessors.some((s) => predecessors.indexOf(s) >= 0);\n\t}\n\n\t/**\n\t * Determine if the array of objects passed as argument contains empty ids\n\t * @param {any[]} array\n\t * @returns {boolean}\n\t */\n\tprivate hasEmptyIds(array: any[]): boolean {\n\t\treturn array.filter((item) => item.id === '').length > 0;\n\t}\n\n\t/**\n\t * Determine if predecessor/successor collections contains invalid data, like duplicates or empty ids\n\t * @returns {boolean}\n\t */\n\thasInvalidTasksDependencies(): boolean {\n\t\tconst {predecessorList, successorList} = this.model;\n\n\t\treturn this.hasDuplicates(predecessorList) ||\n\t\t\tthis.hasDuplicates(successorList) ||\n\t\t\tthis.hasEmptyIds(predecessorList) ||\n\t\t\tthis.hasEmptyIds(successorList) ||\n\t\t\tthis.hasDoubleAssignment();\n\t}\n\n\t/**\n\t * Toggle the locked state of estimated dates\n\t */\n\ttoggleLocked() {\n\t\tthis.model.locked = !this.model.locked;\n\t}\n\n\t/**\n\t * Add a task to predecessor tasks array\n\t * @param {number} index Index where the task will be allocated\n\t * @param {any} task  Task to insert\n\t * @returns {ITask}\n\t */\n\taddPredecessor(index: number, task: any): ITask {\n\t\tlet originalId = null;\n\t\tif (this.model.predecessorList[index]) {\n\t\t\toriginalId = this.model.predecessorList[index].originalId;\n\t\t}\n\n\t\ttask = this.makeTaskItem(task);\n\t\ttask.originalId = originalId;\n\n\t\treturn this.model.predecessorList[index] = task;\n\n\t}\n\n\t/**\n\t * Add a task to successor tasks array\n\t * @param {number} index Index where the task will be allocated\n\t * @param {any} task  Task to insert\n\t * @returns {ITask}\n\t */\n\taddSuccessor(index: number, task: any): ITask {\n\t\tlet originalId = null;\n\t\tif (this.model.successorList[index]) {\n\t\t\toriginalId = this.model.successorList[index].originalId;\n\t\t}\n\n\t\ttask = this.makeTaskItem(task);\n\t\ttask.originalId = originalId;\n\n\t\treturn this.model.successorList[index] = task;\n\t}\n\n\t/**\n\t * Delete a task from successors task array\n\t * @param {number} index Index to delete\n\t * @returns {boolean}\n\t */\n\tdeleteSuccessor(index: number): boolean {\n\t\tconst deleted =  this.deleteTaskItem(index, this.model.successorList, this.model.deletedSuccessorList);\n\t\tthis.model.successorList = this.model.successorList.slice();\n\t\treturn deleted;\n\n\t}\n\n\t/**\n\t * Delete a task from predecessors task array\n\t * @param {number} index Index to delete\n\t * @returns {boolean}\n\t */\n\tdeletePredecessor(index: number): boolean {\n\t\tconst deleted = this.deleteTaskItem(index, this.model.predecessorList, this.model.deletedPredecessorList);\n\t\tthis.model.predecessorList = this.model.predecessorList.slice();\n\n\t\treturn deleted;\n\t}\n\n\t/**\n\t * Get the reference to the predecessor array\n\t * @returns {any[]}\n\t */\n\tgetPredecessor(): any[] {\n\t\treturn this.model.predecessorList;\n\t}\n\n\t/**\n\t * Get the reference to the successor array\n\t * @returns {any[]}\n\t */\n\tgetSuccessor(): any[] {\n\t\treturn this.model.successorList;\n\t}\n\n\t/**\n\t * Delete a task from predecessors or successors task array, put the delete item in the tasks deleted array\n\t * @param {number} index Index to delete\n\t * @param {array[]} collection Could be predecessors or succesors array\n\t * @param {array[]}  deletedCollection Collection that contains the reference to deleted items\n\t * @returns {boolean}\n\t */\n\tprivate deleteTaskItem(index: number, collection: any[], deletedCollection: any[]): boolean {\n\t\t\tconst id = collection[index].id;\n\t\t\tconst exists = Boolean(id);\n\n\t\t\tif (exists) {\n\t\t\t\tdeletedCollection.push(id);\n\t\t\t}\n\n\t\t\tcollection.splice(index, 1);\n\t\t\treturn exists;\n\t}\n\n\t/**\n\t * Format an object and return a task object\n\t * @param {any} task Object to format on\n\t * @returns {ITask}\n\t */\n\tprivate makeTaskItem(task: any): ITask {\n\t\tconst {id, desc = '', taskId = '', taskNumber, category, status, text = ''} = task;\n\n\t\tconst description = this.removeTaskNumberFromDescription(desc || text, taskNumber);\n\n\t\treturn {\n\t\t\tid,\n\t\t\toriginalId: id,\n\t\t\ttaskId,\n\t\t\tcategory,\n\t\t\tstatus,\n\t\t\ttaskNumber,\n\t\t\tdesc: description,\n\t\t\tmodel: {\n\t\t\t\tid: taskId || id,\n\t\t\t\ttext: description\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Task description is coming with the taskNumber mixed into the description\n\t * This function removes the taskNumber from the description\n\t * @param {string} description Text that contains the description and taskNumber\n\t * @param {string} taskNumber Task number to delete\n\t * @returns {string}\n\t */\n\tpublic removeTaskNumberFromDescription(description: string, taskNumber: string): string {\n\t\treturn description.replace(new RegExp(`^${taskNumber}: `), '')\n\t}\n\n\t/**\n\t * Create the structure of the notes from the simple array returned in the API\n\t * @param notes\n\t * @returns {Array<any>}\n\t */\n\tpublic generateNotes(notes: any): Array<any> {\n\t\tlet noteList = new Array<any>();\n\t\tnotes.forEach((item: string[]) => {\n\t\t\tconst [dateCreated, createdBy, note] = item;\n\t\t\tnoteList.push({ dateCreated, createdBy, note });\n\t\t});\n\n\t\treturn noteList;\n\t}\n\n\t/**\n\t * Change the background color based on the task status\n\t * @param {any} context\n\t * @returns {string}\n\t */\n\tpublic rowStatusColor(context: any) {\n\t\tconst status = context.dataItem && context.dataItem.status || '';\n\t\treturn 'task-' + status.toLowerCase();\n\t}\n}\n","import {Component, OnInit } from '@angular/core';\r\n\r\nimport {TaskEditCreateCommonComponent} from '../common/task-edit-create-common.component';\r\nimport {TranslatePipe} from '../../../../shared/pipes/translate.pipe';\r\nimport {PermissionService} from '../../../../shared/services/permission.service';\r\nimport {TaskDetailModel} from '../../model/task-detail.model';\r\nimport {PreferenceService} from '../../../../shared/services/preference.service';\r\nimport {UIDialogService} from '../../../../shared/services/ui-dialog.service';\r\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\r\nimport {TaskService} from '../../service/task.service';\r\n\r\ndeclare var jQuery: any;\r\n\r\n@Component({\r\n\tselector: `tds-task-create`,\r\n\ttemplateUrl: '../tds/web-app/app-js/modules/taskManager/components/create/task-create.component.html',\r\n\tstyles: []\r\n})\r\nexport class TaskCreateComponent extends TaskEditCreateCommonComponent  implements OnInit {\r\n\r\n\tconstructor(\r\n\t\ttaskDetailModel: TaskDetailModel,\r\n\t\ttaskManagerService: TaskService,\r\n\t\tdialogService: UIDialogService,\r\n\t\tpromptService: UIPromptService,\r\n\t\tuserPreferenceService: PreferenceService,\r\n\t\tpermissionService: PermissionService,\r\n\t\ttranslatePipe: TranslatePipe) {\r\n\r\n\t\tsuper(taskDetailModel, taskManagerService, dialogService, promptService, userPreferenceService, permissionService, translatePipe);\r\n\r\n\t}\r\n\r\n}","import {Component, HostListener, OnInit} from '@angular/core';\nimport {DIALOG_SIZE, KEYSTROKE, ModalType} from '../../../../shared/model/constants';\nimport {UIDialogService, UIExtraDialog} from '../../../../shared/services/ui-dialog.service';\nimport {TaskDetailModel} from '../../model/task-detail.model';\nimport {TaskService} from '../../service/task.service';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {PreferenceService} from '../../../../shared/services/preference.service';\nimport {DateUtils} from '../../../../shared/utils/date.utils';\nimport {DataGridOperationsHelper} from '../../../../shared/utils/data-grid-operations.helper';\nimport {TaskSuccessorPredecessorColumnsModel} from '../../model/task-successor-predecessor-columns.model';\nimport {TaskNotesColumnsModel} from '../../model/task-notes-columns.model';\nimport {Permission} from '../../../../shared/model/permission.model';\nimport {PermissionService} from '../../../../shared/services/permission.service';\nimport {DecoratorOptions} from '../../../../shared/model/ui-modal-decorator.model';\nimport {TaskEditComponent} from '../edit/task-edit.component';\nimport {clone} from 'ramda';\nimport {TaskEditCreateModelHelper} from '../common/task-edit-create-model.helper';\nimport {TranslatePipe} from '../../../../shared/pipes/translate.pipe';\nimport {TaskActionsOptions} from '../task-actions/task-actions.component';\nimport {WindowService} from '../../../../shared/services/window.service';\nimport {SHARED_TASK_SETTINGS} from '../../model/shared-task-settings';\n\n@Component({\n\tselector: `task-detail`,\n\ttemplateUrl: '../tds/web-app/app-js/modules/taskManager/components/detail/task-detail.component.html',\n\tstyles: []\n})\nexport class TaskDetailComponent extends UIExtraDialog  implements OnInit {\n\n\tprotected modalType = ModalType;\n\tprotected dateFormat: string;\n\tprotected dateFormatTime: string;\n\tprotected userTimeZone: string;\n\tprotected currentUserId: number;\n\tprotected modelHelper: TaskEditCreateModelHelper;\n\tprotected dataGridTaskPredecessorsHelper: DataGridOperationsHelper;\n\tprotected dataGridTaskSuccessorsHelper: DataGridOperationsHelper;\n\tprotected dataGridTaskNotesHelper: DataGridOperationsHelper;\n\tprotected taskSuccessorPredecessorColumnsModel = new TaskSuccessorPredecessorColumnsModel();\n\tprotected taskNotesColumnsModel = new TaskNotesColumnsModel();\n\tprotected collapsedTaskDetail = false;\n\tprotected hasCookbookPermission = false;\n\tprotected hasEditTaskPermission = false;\n\tprotected hasDeleteTaskPermission = false;\n\tprotected modalOptions: DecoratorOptions;\n\tprotected model: any = {};\n\tprotected SHARED_TASK_SETTINGS = SHARED_TASK_SETTINGS;\n\tprivate hasChanges: boolean;\n\n\tconstructor(\n\t\tprivate taskDetailModel: TaskDetailModel,\n\t\tprivate taskManagerService: TaskService,\n\t\tprivate dialogService: UIDialogService,\n\t\tprivate promptService: UIPromptService,\n\t\tprivate userPreferenceService: PreferenceService,\n\t\tprivate permissionService: PermissionService,\n\t\tprivate translatePipe: TranslatePipe,\n\t\tprivate windowService: WindowService) {\n\n\t\tsuper('#task-detail-component');\n\t\tthis.modalOptions = { isResizable: true, isCentered: true };\n\t}\n\n\tngOnInit() {\n\t\tthis.hasChanges = false;\n\t\tthis.userTimeZone = this.userPreferenceService.getUserTimeZone();\n\t\tthis.currentUserId = parseInt(this.taskDetailModel.detail.currentUserId, 10);\n\n\t\tthis.loadTaskDetail();\n\t\tthis.hasCookbookPermission = this.permissionService.hasPermission(Permission.CookbookView) || this.permissionService.hasPermission(Permission.CookbookEdit);\n\t\tthis.hasEditTaskPermission = this.permissionService.hasPermission(Permission.TaskEdit);\n\t\tthis.hasDeleteTaskPermission = this.permissionService.hasPermission(Permission.TaskDelete);\n\t}\n\n\t/**\n\t * Based upon current task status determines which options to show\n\t */\n\tgetShowTaskActionsOptions(): TaskActionsOptions {\n\t\tconst options = {\n\t\t\tshowDone: false,\n\t\t\tshowStart: false,\n\t\t\tshowAssignToMe: false,\n\t\t\tshowNeighborhood: false,\n\t\t\tinvoke: false\n\t\t};\n\n\t\tif (!this.model) {\n\t\t\treturn options;\n\t\t}\n\n\t\tconst assignedTo = this.model.assignedTo && this.model.assignedTo.id;\n\t\tconst predecessorList = this.model && this.model.predecessorList || [];\n\t\tconst successorList = this.model && this.model.successorList || [];\n\n\t\toptions.showDone = this.model.status &&\n\t\t\t[this.modelHelper.STATUS.READY, this.modelHelper.STATUS.STARTED].indexOf(this.model.status) >= 0;\n\n\t\toptions.showStart = this.model.status &&\n\t\t\t[this.modelHelper.STATUS.READY].indexOf(this.model.status) >= 0;\n\n\t\toptions.showAssignToMe = this.currentUserId !== assignedTo &&\n\t\t\tthis.model.status &&\n\t\t\t[this.modelHelper.STATUS.READY, this.modelHelper.STATUS.PENDING, this.modelHelper.STATUS.STARTED]\n\t\t\t\t.indexOf(this.model.status) >= 0;\n\n\t\toptions.showNeighborhood = predecessorList.concat(successorList).length > 0;\n\n\t\toptions.invoke =\n\t\t\tthis.model.apiAction &&\n\t\t\tthis.model.apiAction.id &&\n\t\t\t!this.model.apiActionInvokedAt &&\n\t\t\tthis.model.status &&\n\t\t\t[\n\t\t\t\tthis.modelHelper.STATUS.READY,\n\t\t\t\tthis.modelHelper.STATUS.STARTED\n\t\t\t].indexOf(this.model.status) >= 0;\n\t\treturn options;\n\t}\n\n\t/**\n\t * Load All Asset Class and Retrieve\n\t */\n\tprivate loadTaskDetail(): void {\n\t\tthis.taskManagerService.getTaskDetails(this.taskDetailModel.id)\n\t\t\t.subscribe((res) => {\n\t\t\t\tif (!res) {\n\t\t\t\t\tthis.dismiss();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.dateFormat = this.userPreferenceService.getUserDateFormat();\n\t\t\t\tthis.dateFormatTime = this.userPreferenceService.getUserDateTimeFormat();\n\t\t\t\tthis.taskDetailModel.detail = res;\n\n\t\t\t\tthis.modelHelper = new TaskEditCreateModelHelper(this.userTimeZone, this.userPreferenceService.getUserCurrentDateFormatOrDefault());\n\t\t\t\tthis.model = this.modelHelper.getModelForDetails(this.taskDetailModel);\n\t\t\t\tthis.model.instructionLink = this.modelHelper.getInstructionsLink(this.taskDetailModel.detail);\n\n\t\t\t\tthis.dataGridTaskPredecessorsHelper = new DataGridOperationsHelper(this.model.predecessorList, null, null);\n\t\t\t\tthis.dataGridTaskSuccessorsHelper = new DataGridOperationsHelper(this.model.successorList, null, null);\n\t\t\t\t// Notes are coming into an Array of Arrays...\n\t\t\t\tthis.dataGridTaskNotesHelper = new DataGridOperationsHelper(this.modelHelper.generateNotes(this.model.notesList), null, null);\n\t\t\t\t// Convert the Duration into a Human Readable form\n\t\t\t\tthis.model.durationText = DateUtils.formatDuration(this.model.duration, this.model.durationScale);\n\n\t\t\t\t// get the class corresponding to this asset\n\t\t\t\tthis.taskManagerService.getClassForAsset(this.model.asset.id)\n\t\t\t\t\t.subscribe((result: any) => {\n\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\tconst assetClass = this.model.assetClasses.find((asset: any) => asset.id === result.assetClass)\n\t\t\t\t\t\t\tif (assetClass) {\n\t\t\t\t\t\t\t\tthis.model.assetClass = assetClass;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t});\n\t}\n\n\t/**\n\t * Open the Task Detail\n\t * @param task\n\t */\n\tpublic openTaskDetail(task: any, modalType: ModalType): void {\n\t\tthis.close({commentInstance: {id: task.taskId}});\n\t}\n\n\tpublic onCollapseTaskDetail(): void {\n\t\tthis.collapsedTaskDetail = !this.collapsedTaskDetail;\n\t}\n\n\t/**\n\t * Close Dialog\n\t */\n\tprotected cancelCloseDialog(): void {\n\t\tthis.dismiss(this.hasChanges);\n\t}\n\t/**\n\t * Prompt confirm delete a task\n\t * delegate operation to host component\n\t */\n\tdeleteTask(): void {\n\t\tthis.promptService.open(\n\t\t\tthis.translatePipe.transform('GLOBAL.CONFIRMATION_PROMPT.CONFIRMATION_REQUIRED')\t,\n\t\t\tthis.translatePipe.transform('TASK_MANAGER.DELETE_TASK')\t,\n\t\t\tthis.translatePipe.transform('GLOBAL.CONFIRM'),\n\t\t\tthis.translatePipe.transform('GLOBAL.CANCEL'))\n\t\t\t.then(result => {\n\t\t\t\tif (result) {\n\t\t\t\t\tthis.close({id: this.taskDetailModel, isDeleted: true})\n\t\t\t\t}\n\t\t\t});\n\t}\n\t/**\n\t * Open view to edit task details\n\t */\n\tpublic editTaskDetail(): void {\n\t\tthis.model.modal = {\n\t\t\ttitle: 'Edit Task',\n\t\t\ttype: ModalType.EDIT\n\t\t};\n\n\t\tthis.dialogService.extra(TaskEditComponent,\n\t\t\t[\n\t\t\t\t{provide: TaskDetailModel, useValue: clone(this.model)}\n\t\t\t], false, false)\n\t\t\t.then(result => {\n\t\t\t\tif (result) {\n\t\t\t\t\tif (result.isDeleted) {\n\t\t\t\t\t\tthis.close({id: this.taskDetailModel, isDeleted: true})\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.hasChanges = true;\n\t\t\t\t\tthis.loadTaskDetail();\n\t\t\t\t}\n\t\t\t}).catch(result => {\n\t\t\tthis.dismiss(this.hasChanges);\n\t\t});\n\t}\n\n\t/**\n\t * Change the task status to started\n\t */\n\tonStartTask(): void {\n\t\tconst payload = {\n\t\t\tid: this.model.id.toString(),\n\t\t\tstatus: this.modelHelper.STATUS.STARTED,\n\t\t\tcurrentStatus: this.model.status\n\t\t};\n\n\t\tthis.taskManagerService.updateTaskStatus(payload)\n\t\t\t.subscribe((result) => {\n\t\t\t\tthis.hasChanges = true;\n\t\t\t\tthis.loadTaskDetail();\n\t\t\t});\n\t}\n\t/**\n\t * Change the task status to done\n\t */\n\tonDoneTask(): void {\n\t\tconst payload = {\n\t\t\tid: this.model.id.toString(),\n\t\t\tstatus: this.modelHelper.STATUS.COMPLETED,\n\t\t\tcurrentStatus: this.model.status\n\t\t};\n\n\t\tthis.taskManagerService.updateTaskStatus(payload)\n\t\t\t.subscribe((result) => {\n\t\t\t\tthis.hasChanges = true;\n\t\t\t\tthis.loadTaskDetail();\n\t\t\t});\n\t}\n\t/**\n\t * Open the neighborhood window\n\t */\n\tonNeighborhood(): void {\n\t\tthis.windowService.getWindow().open(`../task/taskGraph?neighborhoodTaskId=${this.model.id}`, '_blank')\n\t}\n\n\t/**\n\t * Assign the task to the current user\n\t */\n\tonAssignToMe(): void {\n\t\tconst payload = {\n\t\t\tid: this.model.id.toString(),\n\t\t\tstatus: this.model.status\n\t\t};\n\n\t\tthis.taskManagerService.assignToMe(payload)\n\t\t\t.subscribe((result) => {\n\t\t\t\tthis.hasChanges = true;\n\t\t\t\tthis.loadTaskDetail();\n\t\t\t});\n\t}\n\n\t/**\n\t * Invoke an api action\n\t */\n\tonInvoke(): void {\n\t\tthis.taskManagerService.invokeAction(this.model.id)\n\t\t\t.subscribe((result) => {\n\t\t\t\tthis.hasChanges = true;\n\t\t\t\tthis.loadTaskDetail();\n\t\t\t});\n\t}\n\n}","import {Component, OnInit } from '@angular/core';\n\nimport {TaskEditCreateCommonComponent} from '../common/task-edit-create-common.component';\nimport {TranslatePipe} from '../../../../shared/pipes/translate.pipe';\nimport {PermissionService} from '../../../../shared/services/permission.service';\nimport {TaskDetailModel} from '../../model/task-detail.model';\nimport {PreferenceService} from '../../../../shared/services/preference.service';\nimport {UIDialogService} from '../../../../shared/services/ui-dialog.service';\nimport {UIPromptService} from '../../../../shared/directives/ui-prompt.directive';\nimport {TaskService} from '../../service/task.service';\n\ndeclare var jQuery: any;\n\n@Component({\n\tselector: `tds-task-edit`,\n\ttemplateUrl: '../tds/web-app/app-js/modules/taskManager/components/edit/task-edit.component.html',\n\tstyles: []\n})\nexport class TaskEditComponent extends TaskEditCreateCommonComponent  implements OnInit {\n\tconstructor(\n\t\ttaskDetailModel: TaskDetailModel,\n\t\ttaskManagerService: TaskService,\n\t\tdialogService: UIDialogService,\n\t\tpromptService: UIPromptService,\n\t\tuserPreferenceService: PreferenceService,\n\t\tpermissionService: PermissionService,\n\t\ttranslatePipe: TranslatePipe) {\n\n\t\tsuper(taskDetailModel, taskManagerService, dialogService, promptService, userPreferenceService, permissionService, translatePipe);\n\n\t}\n}","/**\n * Created by Jorge Morayta on 3/15/2017.\n */\nimport {Component, OnInit, Input, Output, EventEmitter} from '@angular/core';\nimport {PermissionService} from '../../../../shared/services/permission.service';\nimport {Permission} from '../../../../shared/model/permission.model';\n\nexport interface TaskActionsOptions {\n\tshowDone: boolean;\n\tshowStart: boolean;\n\tshowAssignToMe: boolean;\n\tshowNeighborhood: boolean;\n\tinvoke: boolean;\n}\n\n@Component({\n\tselector: 'tds-task-actions',\n\ttemplateUrl: '../tds/web-app/app-js/modules/taskManager/components/task-actions/task-actions.component.html'\n})\nexport class TaskActionsComponent implements OnInit {\n\t@Input() options: TaskActionsOptions;\n\t@Output() start: EventEmitter<void> = new EventEmitter<void>();\n\t@Output() done: EventEmitter<void> = new EventEmitter<void>();\n\t@Output() invoke: EventEmitter<void> = new EventEmitter<void>();\n\t@Output() assignToMe: EventEmitter<void> = new EventEmitter<void>();\n\t@Output() neighborhood: EventEmitter<void>  = new EventEmitter<void>();\n\n\thasInvokePermission = false;\n\tconstructor(private permissionService: PermissionService) {\n\t\tthis.hasInvokePermission = this.permissionService.hasPermission(Permission.ActionInvoke)\n\t}\n\n\tngOnInit(): void {\n\t\tconsole.log('Init');\n\t}\n\n\t/**\n\t * Emit the start status change event\n\t */\n\tonStart(): void {\n\t\tthis.start.emit();\n\t}\n\n\t/**\n\t * Emit the done status change event\n\t */\n\tonDone(): void {\n\t\tthis.done.emit();\n\t}\n\n\t/**\n\t * Emit the Neighborhood event\n\t */\n\tonNeighborhood(): void {\n\t\tthis.neighborhood.emit();\n\t}\n\n\t/**\n\t * Emit the assign to me event\n\t */\n\tonAssignToMe(): void {\n\t\tthis.assignToMe.emit();\n\t}\n\n\t/**\n\t * Emit the invoke event\n\t */\n\tonInvoke(): void {\n\t\tthis.invoke.emit();\n\t}\n\n}","export const SHARED_TASK_SETTINGS = {\n\tDEFAULT_TASK_HEIGHT: 1118,\n\tDEFAULT_TASK_WIDTH: 917\n};","import {ModalType} from '../../../shared/model/constants';\n\nexport class TaskDetailModel {\n\tpublic id?: string;\n\tpublic modal: {\n\t\ttitle:  string;\n\t\ttype?: ModalType\n\t};\n\tpublic detail?: any;\n}","export const YesNoList = ['Yes', 'No'];\nexport const PriorityList = [1, 2, 3, 4, 5];\n\nexport interface ITask {\n\tid: string | number;\n\toriginalId: string | number;\n\ttaskId: string | number;\n\ttaskNumber: string | number ,\n\tcategory: string;\n\tstatus: string;\n\tdesc: string;\n\tmodel: {\n\t\tid: string | number;\n\t\ttext: string;\n\t}\n}\n\nexport const  TaskStatus = {\n\tHOLD: \t    'Hold',\n\tPLANNED:    'Planned',\n\tREADY:      'Ready',\n\tPENDING:    'Pending',\n\tSTARTED:    'Started',\n\tCOMPLETED:  'Completed',\n\tTERMINATED: 'Terminated'\n};\n","import {GridColumnModel} from '../../../shared/model/data-list-grid.model';\n\n/**\n * Defines the columns\n */\nexport class TaskNotesColumnsModel {\n\tcolumns: Array<GridColumnModel>;\n\n\tconstructor() {\n\t\tthis.columns = [\n\t\t\t{\n\t\t\t\tlabel: 'Date Created',\n\t\t\t\tproperty: 'dateCreated',\n\t\t\t\ttype: 'text',\n\t\t\t\twidth: 70\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Created By',\n\t\t\t\tproperty: 'createdBy',\n\t\t\t\ttype: 'text',\n\t\t\t\twidth: 80\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Notes',\n\t\t\t\tproperty: 'note',\n\t\t\t\ttype: 'text',\n\t\t\t\twidth: 200\n\t\t\t}\n\t\t];\n\t}\n}","import {GridColumnModel} from '../../../shared/model/data-list-grid.model';\n\n/**\n * Defines the columns\n */\nexport class TaskSuccessorPredecessorColumnsModel {\n\tcolumns: Array<GridColumnModel>;\n\n\tconstructor() {\n\t\tthis.columns = [\n\t\t\t{\n\t\t\t\tlabel: 'Category',\n\t\t\t\tproperty: 'category',\n\t\t\t\ttype: 'text',\n\t\t\t\twidth: 70\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Task #',\n\t\t\t\tproperty: 'taskNumber',\n\t\t\t\ttype: 'text',\n\t\t\t\twidth: 60\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Task',\n\t\t\t\tproperty: 'desc',\n\t\t\t\ttype: 'text',\n\t\t\t\twidth: 200\n\t\t\t}\n\t\t];\n\t}\n}"],"sourceRoot":""}